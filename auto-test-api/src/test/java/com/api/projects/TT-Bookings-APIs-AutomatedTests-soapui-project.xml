<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="ebbb940f-4f57-42f5-a5e5-4d15f40720a4" activeEnvironment="Default" name="TT_Bookings_APIs_AutomatedTests" resourceRoot="" soapui-version="5.3.0" abortOnError="false" runType="PARALLELL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="42783ecb-e232-424a-8233-a771587bb832" wadlVersion="http://wadl.dev.java.net/2009/02" name="QuoteShowPage" type="rest" definitionUrl="Quote_Show_Page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="get_quote_detail" path="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}" id="0f6d0800-3267-409d-b990-8c493bd4c5d7"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>view</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="4e635ebd-04e7-4952-9bdd-e64aa7c1c2e0" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="d6f84094-d219-451a-884c-2211cf2f578b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="view" value="full" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>api_version</con:entry><con:entry>view</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="05919895-9ffa-473f-a7c5-9215c1c5336f" wadlVersion="http://wadl.dev.java.net/2009/02" name="RequestLandingPage" type="rest" definitionUrl="RequestLandingPage" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="get_trip_show_page" path="/bookings/{api_version}/requested_trips/{requested_trip}" id="980fb64e-1205-41da-bb5a-fd6767714901"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>requested_trip</con:name><con:value>requested_trip</con:value><con:style>TEMPLATE</con:style><con:default>requested_trip</con:default></con:parameter><con:parameter><con:name>view</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="e0f8a581-0c52-4c92-9c69-08c072f1c242" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="02c48a84-955f-4988-9fb5-9fa94d62f32c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Content-Type" value="appliccation\json; charset =utf-8;"/>
  &lt;con:entry key="Accept" value="application\json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="view" value="full" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>requested_trip</con:entry><con:entry>view</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="56f43b34-db0d-473c-880c-89d5d9f76f95" wadlVersion="http://wadl.dev.java.net/2009/02" name="RejectQuote" type="rest" definitionUrl="QuoteReject" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="reject_quote" path="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/reject_quote" id="9d20d6fa-8953-431f-abde-446f7d9cd190"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="c84a180d-b2f2-4b4b-be8e-20e05eff2eb3" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="d9b639e3-4cd5-4cc9-b837-222da6855d4b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Accept" value="application\json"/>
  &lt;con:entry key="Content-Type" value="application\json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"quote": {
		"quote_decline_reason": 5,
		"quote_other_decline_reason": "test"
	}
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry><con:entry>request_id</con:entry><con:entry>quote_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="617a1181-15c3-4b17-a8a1-b86f14077866" wadlVersion="http://wadl.dev.java.net/2009/02" name="RL_RequestACall" type="rest" definitionUrl="bookings/{api_version}/requested_trips/{request_id}/request_call_back" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="request_call_back" path="/bookings/{api_version}/requested_trips/{request_id}/request_call_back" id="56928fc7-ee24-4314-a24a-84dd03845c42"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="1c5e12c5-c982-4fed-b5ac-d0b16e5fb4a5" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="6209180d-62ff-4be1-adb7-ea42829bc8a8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="1572adfd-9797-4446-98a6-c6eb4ecbccdb" wadlVersion="http://wadl.dev.java.net/2009/02" name="QD_RequestACall" type="rest" definitionUrl="QL_RequestACall" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="request_call_back" path="/bookings/v1/requested_trips/{request_id}/quotes/{quote_id}/request_call_back" id="9158d97a-7c57-4fea-8c57-9af0bddfbfc1"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="682c6feb-2c9c-45d4-a798-9d8153231405" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="a1ed1f68-0d6f-4b83-9ae8-72bfdbfbcf0c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Content-Type" value="application\json; charset =utf-8;"/>
  &lt;con:entry key="Accept" value="application\json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"option": "request_cta_1",
	"request_cta_4_reason": "test"
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="78e8ab2d-4a83-499d-bfb5-6ca95083c249" wadlVersion="http://wadl.dev.java.net/2009/02" name="RL_UpdateContact" type="rest" definitionUrl="RL_UpdateContact" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="update_user_details" path="/bookings/{api_version}/requested_trips/{request_id}/update_user_details" id="f2b775a2-637c-4f22-8a57-3f62394692c8"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="bf79b61e-3ad5-4fe4-8304-b5226b528cb4" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="48e3dd94-2ec8-42a4-a3a5-7406fcd6f806" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Content-Type" value="application\json; charset =utf-8;"/>
  &lt;con:entry key="Accept" value="application\json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"first_name": "kalpana",
	"last_name": "Aggarwal",
	"phone_no": "9582295676",
	"user_name": "Kalpana Aggarwal",
	"alternate_phone_no": "1234567891",
	"alternate_emails": "dgfadgfadfd@js.com,skjshkfjfsjs@sv.com",
	"isd_code": "+91",
	"isd_code_alt": "+91"
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="d7e7bdee-b955-42da-865f-c66a1b978579" wadlVersion="http://wadl.dev.java.net/2009/02" name="CancelRequest" type="rest" definitionUrl="CancelRequest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="cancel_request" path="/bookings/{api_version}/requested_trips/{request_id}/cancel_request" id="a27bafb1-61d5-4786-982e-7c9a657215a3"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="78c05385-911a-49c4-9090-dcedae901b85" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="029f5cd8-05eb-4aa9-bd46-55c785a123eb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"cancel_reason": "Not going cancelled my plan",
	"reason": "Due to personal reasons",
	"other_reason": "",
	"quote_customization": "",
	"changed_destination_name": ""

}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="af72b226-60e3-4431-ba90-52ecb3a98330" wadlVersion="http://wadl.dev.java.net/2009/02" name="HotelAccept/Reject" type="rest" definitionUrl="HotelAccept/Reject" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="update_hotel_status" path="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/update_hotel_status" id="6490ce11-ef04-4c65-8891-ce864355dd4d"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="e373d1a7-79b4-417e-95f9-719fcc55cd76" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="5c7d6da5-a52f-4104-9f93-55ae6b578af6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value=""/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"tracking_data": {
		"quote_city_id": {
			"status ": " - 1 ",
			"reason ": "I am not satisfied with hotel room",
			"other_reason ": ""
		}
	}
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="1ee170e5-cdc7-4f79-bc45-93afbc6d4815" wadlVersion="http://wadl.dev.java.net/2009/02" name="RL_RequestMoreQuotes" type="rest" definitionUrl="RL_RequestMoreQuote" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="request_more_quotes" path="/bookings/{api_version}/requested_trips/{request_id}/request_more_quotes" id="2de561ce-43fe-4931-abdf-717fe22e13e8"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>feedback</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>other_reason</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="ad1f28a9-60d6-46bf-bb6f-19c2875b3edb" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="3b291c3b-b657-47d1-b651-de0dd0e80f1f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
  &lt;con:entry key="Accept" value="application/json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http//:${#Project#Traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="feedback" value="feedback"/>
  <con:entry key="other_reason" value="other_reason"/>
</con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>request_id</con:entry><con:entry>feedback</con:entry><con:entry>other_reason</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f9f87a1b-4c7d-4abd-9493-1192ed68e3d0" wadlVersion="http://wadl.dev.java.net/2009/02" name="BellNotifications" type="rest" definitionUrl="BellNotifications" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="notifications" path="/bookings/{api_version}/users/{user_id}/notifications" id="b0601b25-bcca-47cf-9e6c-e57d541f2634"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>user_id</con:name><con:value>user_id</con:value><con:style>TEMPLATE</con:style><con:default>user_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="e067e0f7-5807-463a-b4a3-cb25c01ac32b" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="1fbe6b95-3781-4667-88a8-7bee9ed04e06" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Accept" value="application/json;" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="b7fcd438-75fd-4820-88a1-698c7f4e5f32" wadlVersion="http://wadl.dev.java.net/2009/02" name="EditTripPrefences" type="rest" definitionUrl="UpdateTripPrefence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="edit" path="/bookings/v1/requested_trips/{request_id}/edit" id="fec1b9c5-1587-4f3e-8e0a-98f9c99601b3"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="91845257-52ed-4ec0-886d-1e6c9f01e2f0" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="f3c31f40-b650-4fff-ae0f-3086ede7d886" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="96e82bf2-fe0a-4dae-aa48-474edc459cfc" wadlVersion="http://wadl.dev.java.net/2009/02" name="ReactivateQuote" type="rest" definitionUrl="RequestMoreQuote" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="reactivate_quote" path="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/reactivate_quote" id="681a8344-9d7c-452b-b01a-e6465f6c0f62"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="279cbab1-5e30-473e-9d78-e1b0cfd9f6a6" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="dc22f9fb-6c84-4227-8ae9-4fae7563f6e1" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Content-Type" value="application/json"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="a0d6e533-6cc7-4a5a-aa3a-eb4319b7f446" wadlVersion="http://wadl.dev.java.net/2009/02" name="TripFeedback" type="rest" definitionUrl="TripFeedback" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="trip_feedbacks" path="/bookings/{api_version}/requested_trips/{request_id}/trip_feedbacks" id="1b4653b2-8b73-489d-a3d6-1c6bb2e616d4"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="fb0170c4-49e1-4780-a734-6d3dbdce28dd" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="e6ea6e03-de66-4e1b-959a-ace5f0dba690" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${Project#traveler_apiendpoint}</con:endpoint><con:request>{
 	"trip_feedback": {
 		"tt_recommend": "6",
 		"testimonial": "",
 		"hotel": "1",
 		"cab": "3",
 		"agent_service": "3"
 	},
 	"security_token": "6e88d85871f77844d6df9dddb3df1c96965a08d7",
 	"from_agent_show": "true",
 	"feedbacks": {
 		"hotel": {
 			"list": ",Meal quality",
 			"other": "wfdfdf"
 		},
 		"cab": {
 			"list": ",Driver's Behaviour",
 			"other": ""
 		},
 		"agent_service": {
 			"list": ",Pre trip responsiveness and support",
 			"other": ""
 		}
 	},
 	"requested_trip_id": "525160-Nikhil-Surana"
 }
</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="d96bce04-574a-475b-84bd-084dfe15fa60" wadlVersion="http://wadl.dev.java.net/2009/02" name="CompareQuote" type="rest" definitionUrl="CompareQuote" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="quotes" path="/bookings/{api_version}/requested_trips/{request_id}/quotes" id="e07ca694-e711-498e-aa4c-2487c65db3bf"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>view</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="09c9814c-3aa2-459b-8f7f-1b5bfc57ad7e" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="1b02569a-e02f-4d72-b844-2a271e35ef7f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry><con:entry>request_id</con:entry><con:entry>view</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="75471189-815e-4536-8982-05e767a42f4e" wadlVersion="http://wadl.dev.java.net/2009/02" name="AgentProfile" type="rest" definitionUrl="AgentProfile" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/><con:resource name="{agent_encoded_id}" path="/bookings/{api_version}/agents/{agent_encoded_id}" id="e7a48b2b-8999-43eb-9be3-ebedc207ad69"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>agent_encoded_id</con:name><con:value>agent_encoded_id</con:value><con:style>TEMPLATE</con:style><con:default>agent_encoded_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="4d2fed19-0dd4-4808-9127-116ef509912d" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="a09c1bc2-2bc8-49d7-a0bc-6e4117d3ef97" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="5e5af089-5de7-4412-abf9-928185656af0" wadlVersion="http://wadl.dev.java.net/2009/02" name="BookNow" type="rest" definitionUrl="BookNow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="accept_quote" path="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/accept_quote" id="4da0f8e5-dba6-4c57-92b5-728b27c47758"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="5c91620f-1202-4e0c-8fc6-fd491a9f385b" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="f3ad09ad-23b6-4f84-8dcd-1c43f9c3ebf7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="13e44340-8808-46f1-a533-fc873f262bf2" wadlVersion="http://wadl.dev.java.net/2009/02" name="SiginIn" type="rest" definitionUrl="SignIn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="sign" path="/browsing/{api_version}/users/sign_in" id="b0b75754-79d7-44db-9cb2-24da00bcceb9"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:style>TEMPLATE</con:style></con:parameter></con:parameters><con:method name="Method 1" id="f3e20545-6c1c-4f95-b04f-6a2242e2e63c" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="29945a9e-ca2e-432a-b5a0-bb370cdcec48" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="X-CLIENT-DEBUG-TOKEN" value="a704f2fcc8d69618997259d65da7bf17678970d51d680d6d0edc03872f0a9b712f882b6bec1829ee"/>
  <con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
  <con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"testing1112015a@rediffmail.com","password":"testing00000007"}}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v3" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="36644841-862e-46d6-9182-9b23418a533a" wadlVersion="http://wadl.dev.java.net/2009/02" name="RtripCreation" type="rest" definitionUrl="RtripCreation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="requested_trips" path="/browsing/{api_version}/requested_trips" id="51cc24ab-bab1-47c6-b17a-671c38fe5df5"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter></con:parameters><con:method name="Method 1" id="82fd2a2b-2d2b-4287-91af-7eebf90d4b03" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="68eaa52b-6d31-4a91-af54-f8bc242b55dd" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
        "requested_trip": {
       "to_loc": "Goa",
       "from_loc": " Noida, Uttar Pradesh 201301, India",
       "trip_days": 5,
       "start_date": "15 september,2017",
       "email": "kp@gmail.com",
       "budget": "26500..28500",
       "info": "jgjksakjdasgdjasd",
       "addtl_info": "",
       "phone_no": "",
       "isd_code": "",
       "adminComments": "#slider_organic #Form_filled_on http  ",
       "trip_stage": "",
       "flight": "",
       "hotels": "",
       "cab": "",
       "from_complete": "",
       "to_complete": ""

   }
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="55762a1a-98bc-4d8a-8895-f9584dec4bb6" wadlVersion="http://wadl.dev.java.net/2009/02" name="AdminAddAgentTagWithTrip" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints/><con:resource name="add_tag_and_activate_trip" path="/api/v3/requested_trips/{rtrip_id}/add_tag_and_activate_trip" id="02bc429f-1325-4b10-beb7-e6985352e897"><con:settings/><con:parameters><con:parameter><con:name>rtrip_id</con:name><con:value>rtrip_id</con:value><con:style>TEMPLATE</con:style><con:default>rtrip_id</con:default></con:parameter><con:parameter><con:name>tag_id</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>is_activate</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>delete_agent_tags</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="43d5e275-bce9-4dea-9146-8934642aa687" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>403 404</con:status><con:params/><con:element xmlns:add="https://frontend.ttdev.in/api/v3/requested_trips/1864854/add_tag_and_activate_trip">add:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:add="https://frontend.ttdev.in/api/v3/requested_trips/1864854/add_tag_and_activate_trip">add:Response</con:element></con:representation><con:request name="Request 1" id="8a7e9e1c-82ce-41cc-b2ac-22140b4d9b76" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value=""/>
  <con:entry key="TT-Mobile" value="${Given user gets the hash key#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="delete_agent_tags" value="delete_agent_tags"/>
  <con:entry key="is_activate" value="is_activate"/>
  <con:entry key="tag_id" value="tag_id"/>
</con:parameters><con:parameterOrder><con:entry>rtrip_id</con:entry><con:entry>tag_id</con:entry><con:entry>is_activate</con:entry><con:entry>delete_agent_tags</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="55c0aa2c-6052-436d-8680-ca41c5364f8f" wadlVersion="http://wadl.dev.java.net/2009/02" name="AgentName" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints/><con:resource name="get_user_name.json" path="/api/v4/users/get_user_name.json" id="c82ceaa6-614d-499e-b2ca-0933781f08e9"><con:settings/><con:parameters><con:parameter><con:name>user_id</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="65834238-874e-4c3d-8895-a7270909ec0f" method="GET"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:get="http://bookings-qa1.ttdev.in/api/v4/users/get_user_name.json">get:Response</con:element></con:representation><con:request name="Request 1" id="d3654ba6-bb46-4c72-ae39-8d5ac129c109" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint/><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="ad180786-388a-4860-b13b-a6cdf6aa6014" wadlVersion="http://wadl.dev.java.net/2009/02" name="CreateQuote" type="rest" definitionUrl="CreateQuote" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="quotes" path="/api/v4/requested_trips/{RequestID}/quotes" id="b01efa3a-1799-4a0e-8887-2fd659e00917"><con:settings/><con:parameters><con:parameter><con:name>RequestID</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="2dca3f35-5ea6-4bfd-868a-7e12c76db101" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="97573402-614a-4768-ad17-b25a06b82056" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"utf8":"âœ“",
"authenticity_token":"8g+WtepgUDToey49evWgFuDCWNjvWDfEv+ji32uAIAk=",
"version":"",
"should_warnings_override":"false",
"commit":"SAVE &amp; SEND",
"quote_match_param":"last",
"quote":
 {"type_of_trip":"",
  "days":"5",
  "nights":"4",
  "perperson":"per person",
  "currency":"Rupee",
  "flight_cost":"0",
  "visa_cost":"0",
  "price":"32430",
  "hotels":"gjfjhg",
  "flights":"",
  "cabs":"fjhfjhfjhgfj",
  "quote_inclusions_attributes":
   {"0":
     {"id":"",
      "inclusion_id":"447",
      "comments_added":"",
      "is_included":"1"},
    "1":{"id":"", "inclusion_id":"99", "is_included":"1"},
    "2":{"id":"", "inclusion_id":"100", "is_included":"0"},
    "3":{"id":"", "inclusion_id":"101", "is_included":"0"},
    "4":
     {"id":"",
      "inclusion_id":"102",
      "comments_added":"",
      "is_included":"0"},
    "5":
     {"id":"",
      "inclusion_id":"103",
      "comments_added":"",
      "is_included":"0"},
    "6":
     {"id":"",
      "inclusion_id":"104",
      "comments_added":"",
      "is_included":"0"},
    "7":
     {"id":"",
      "inclusion_id":"105",
      "comments_added":"",
      "is_included":"0"},
    "8":
     {"id":"",
      "inclusion_id":"113",
      "comments_added":"",
      "is_included":"0"},
    "9":
     {"id":"",
      "inclusion_id":"446",
      "comments_added":"",
      "is_included":"0"},
    "10":
     {"id":"",
      "inclusion_id":"114",
      "comments_added":"",
      "is_included":"1"},
    "11":
     {"id":"",
      "inclusion_id":"115",
      "comments_added":"",
      "is_included":"0"}},
  "trip_days_attributes":
   {"0":{"title":"fdhghdg", "description":"gfdhgf", "_destroy":"false"},
    "1":{"title":"gfhghfh", "description":"gffhfh", "_destroy":"false"},
    "2":{"title":"gfhfh", "description":"gfhh", "_destroy":"false"},
    "3":{"title":"hggfhg", "description":"hgfhgh", "_destroy":"false"},
    "5":{"title":"ghgfh", "description":"ghhggf", "_destroy":"false"}},
  "terms_conditions":"gghhg",
  "description":"hfhg"},
"quote_land_package_cost":"0",
"flights_not_included":"true",
"save_inclusions":"true",
"action":"create",
"controller":"quotes",
"requested_trip_id":"946352l"}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="RequestID" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>security_auth_token</con:entry><con:entry>RequestID</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="3ff23a29-5b11-4230-a76e-3ada6c5abd27" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetHotelImages" type="rest" definitionUrl="DestinationHotelImages" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="destination_hotel_images" path="/api/{api_version}/destinations/{destinationId}/destination_hotel_images" id="2c7a7c27-bb61-4887-a44d-a0a02bd1524a"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>destinationId</con:name><con:value>destinationId</con:value><con:style>TEMPLATE</con:style><con:default>destinationId</con:default></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="696c0e82-c3af-4b66-a432-20ca763ac95d" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="4e5c28c8-1409-43eb-8127-653be781edb7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>destinationId</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="aeb79456-b2f7-400e-adf5-5af84d6c0483" wadlVersion="http://wadl.dev.java.net/2009/02" name="RtripDetails" type="rest" definitionUrl="RtripDetails" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="{rtripId}" path="/api/{version}/requested_trips/{requestid}" id="93a519e0-aa0a-4b03-856e-6279e652cdeb"><con:settings/><con:parameters><con:parameter><con:name>version</con:name><con:value>version</con:value><con:style>TEMPLATE</con:style><con:default>version</con:default></con:parameter><con:parameter><con:name>requestid</con:name><con:value>rtripId</con:value><con:style>TEMPLATE</con:style><con:default>rtripId</con:default></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="0b0181d6-2f9a-471e-9b39-446da8b4f2f0" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="b966ae25-8657-4c7d-a999-3dff1ed70072" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="requestid" value="${#TestCase#request_id}"/>
  <con:entry key="version" value="v2"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>version</con:entry><con:entry>security_auth_token</con:entry><con:entry>requestid</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="8d001bff-7506-4012-a1a6-9f5e7485f82a" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetNewQuotePage" type="rest" definitionUrl="GetNewQuotePage" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="new" path="/api/v4/requested_trips/{requestID}/quotes/new" id="f839b87e-7fc1-473c-8ef5-0eae137bfb01"><con:settings/><con:parameters><con:parameter><con:name>requestID</con:name><con:value>requestID</con:value><con:style>TEMPLATE</con:style><con:default>requestID</con:default></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="dfc08791-e440-4cf0-ac1c-cf36a2efa83a" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="ff497c82-7c20-43db-b33b-3450dca6635b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>requestID</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="74c40f50-81d5-47a3-bf41-48d553ee51b3" wadlVersion="http://wadl.dev.java.net/2009/02" name="ReactivateRequest" type="rest" definitionUrl="ReactivateRequest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="reactivate_request.json" path="/bookings/v1/requested_trips/{request_id}/reactivate_request.json" id="92ba2e4b-7217-4dae-8e9c-8563e9b4bac2"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>user_id</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="be20a57f-374e-45fc-af35-2ad66d7753ff" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="aea02b14-b051-4d45-a2ec-57da1d5452de" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="user_id" value="user_id" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>user_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="94114a3f-0c58-4397-a94b-91ce3ad603c8" wadlVersion="http://wadl.dev.java.net/2009/02" name="UpdateTRipPreferences" type="rest" definitionUrl="UpdateTripPreferences" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="{request_id}.json" path="/bookings/v1/requested_trips/{request_id}" id="962a5298-b844-4af7-be34-a2b8dc29742d"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="b63334e6-70b3-4e8a-bc18-414e3ffb82e7" method="PUT"><con:settings/><con:parameters/><con:request name="Request 1" id="823962a0-a88d-4695-af90-85f11c9d984a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Content-Type" value="application/json"/>
  &lt;con:entry key="Accept" value="application/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="b5323413-2b4a-48b4-b829-42a16d67c760" wadlVersion="http://wadl.dev.java.net/2009/02" name="Testimonails" type="rest" definitionUrl="bookings/v1/requested_trips/{request_id}/testimonials" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="testimonials" path="/bookings/v1/requested_trips/{request_id}/testimonials" id="33fc9c53-1f4b-4156-a3cb-80cb2037f758"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="5d651b6e-cfdd-449d-bd7e-77fb60b46a3d" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="5b094e94-6814-4249-9275-9679ae0f2a5d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Accept" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="15a66ea0-00b5-441b-a908-6daab124503a" wadlVersion="http://wadl.dev.java.net/2009/02" name="SignUp" type="rest" definitionUrl="Signup" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="users" path="/browsing/{api_version}/users" id="b5b3a238-e444-4289-a148-28e03800da49"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter></con:parameters><con:method name="Method 1" id="487786e0-4946-4dfa-b62a-26df2ce1ed9c" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="51894535-6214-4235-a19d-675eade377d9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="X-CLIENT-DEBUG-TOKEN" value="a704f2fcc8d69618997259d65da7bf17678970d51d680d6d0edc03872f0a9b712f882b6bec1829ee"/>
  &lt;con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="c146eaca-8c95-4920-8b88-22410dc2a936" wadlVersion="http://wadl.dev.java.net/2009/02" name="InvoicePrefilledData" type="rest" definitionUrl="InvoicePrefilledData" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/><con:resource name="prefill_invoice_data.json" path="/api/v4/invoices/prefill_invoice_data.json" id="eab58769-e2ba-45dd-a9fe-052d3d59b5b1"><con:settings/><con:parameters><con:parameter><con:name>quote_id</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="e7e2ec01-8e11-4c78-ab6e-dc031e4c8dfa" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="b5fb0013-670e-4ad1-b338-442dc9f879de" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value=""/>
  <con:entry key="TT-Mobile" value=""/>
  <con:entry key="Accept" value="application/json;"/>
  <con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="quote_id" value="{quoteid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="821ef6ec-938c-41e8-8735-99750dafb659" wadlVersion="http://wadl.dev.java.net/2009/02" name="InvoiceCommisiion" type="rest" definitionUrl="InvoiceCommission" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="sync_invoice_commission_payments.json" path="/api/v4/invoices/sync_invoice_commission_payments.json" id="f65b2f94-3736-4557-9ac8-4d0bd94fc358"><con:settings/><con:parameters><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="47275b0a-0f31-4804-bef4-86cbe1508a06" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="9ea4c3a7-b60b-4814-91df-b654c0b9241f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value=""/>
  <con:entry key="TT-Mobile" value=""/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json;"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
  "agent_commission_charged": 5.53,
  "discount": 0.0,
  "discount_traveller": 0,
  "flight_amount": 0,
  "payments_attributes": [
    {
      "_destroy": false,
      "from_traveler": 32430.0,
      "is_editable": true,
      "scheduled_date": "2016-11-08",
      "status": "Scheduled",
      "traveler_currency": "Rupee",
      "user_id": 199585
    }
  ],
  "quote_id": "1534740",
  "visa_cost": 0
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="5684a36b-0fd0-4bfd-89da-bafb54ac99e7" wadlVersion="http://wadl.dev.java.net/2009/02" name="CreateInvoice" type="rest" definitionUrl="CreateInvoice" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/><con:resource name="create_invoice.json" path="/api/v4/invoices/create_invoice.json" id="89565bb3-15ea-4647-88e3-60b3ca79bacf"><con:settings/><con:parameters><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="5f2790d5-0075-4dd9-b113-affc66429c3b" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="e293349b-4045-486f-9ac1-1b625542c007" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value=""/>
  <con:entry key="TT-Mobile" value=""/>
  <con:entry key="Accept" value="application/json;"/>
  <con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
  "agent_commision": 5.53,
  "invoice": {
    "address": "",
    "agent_earning": 30636.619140625,
    "agent_id": 199585,
    "discount": 0.0,
    "discount_traveller": 0,
    "email": "ttagentdemo@gmail.com",
    "flight_amount": 0,
    "payments_attributes": [
      {
        "_destroy": true,
        "from_traveler": 32430.0,
        "is_editable": true,
        "scheduled_date": "2016-11-08",
        "status": "Scheduled",
        "traveler_currency": "Rupee",
        "user_id": 199585
      }
    ],
    "quote_id": "1534740",
    "requested_trip_id": 947896,
    "invoices_deliverables_attributes": [
      {
        "deliverable_id": 1,
        "_destroy": false
      },
      {
        "comments": "shhhshshs",
        "deliverable_id": 6,
        "_destroy": false
      }
    ],
    "toc": "snnsnssnsnsn",
    "traveller_fullname": "Tour",
    "traveller_phone_no": "+912541369874",
    "trip_details": "Name: Tour\nAdult(s): 0\nChild: 0\nDestination: Australia\n",
    "ttcommission": 1793.3800048828125,
    "visa_cost": 0,
    "voucher_days": 3
  },
  "selectPayment": 1
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="6bcd0ab8-5e99-4c12-9e5d-bb2ac1229514" wadlVersion="http://wadl.dev.java.net/2009/02" name="SendInvoice" type="rest" definitionUrl="SendInvoice" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="send_invoice.json" path="/api/v4/invoices/send_invoice.json" id="53f46f04-d64f-4b23-82bf-1c6b724c1d2b"><con:settings/><con:parameters><con:parameter><con:name>invoice_id</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="33ed2eb7-022e-4eb8-a6c8-29f07c77d9b7" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="add2fd2b-1bf1-4f78-92e5-d1716dc2b71f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value=""/>
  <con:entry key="TT-Mobile" value=""/>
  <con:entry key="Accept" value="application/json;"/>
  <con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="invoice_id" value="{invoiceid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>invoice_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="d6e19bf2-0453-4bd8-bdfa-59b143b16791" wadlVersion="http://wadl.dev.java.net/2009/02" name="TravelerChat" type="rest" definitionUrl="TravelerChat" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="comments" path="/bookings/v1/requested_trips/{rtrip_id}/quotes/{quote_id}/comments" id="cebd8212-a178-4f4c-a3f3-c1e5cb6dac2c"><con:settings/><con:parameters><con:parameter><con:name>rtrip_id</con:name><con:value>rtrip_id</con:value><con:style>TEMPLATE</con:style><con:default>rtrip_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="b2db00be-fe83-4d39-95c2-134520880de7" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="977a147c-fc4e-4f00-b073-11407e41ab69" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"user_platform": "Not_mobile",
	"comment": {
		"title": "hello",
		"comment": "hi how are you",
		"attachments_attributes": {
			"0": {
				"desc": "dsf",
				"file": ""
			}
		}
	}
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="db1f391c-8866-4b63-8882-e449b8aac16f" wadlVersion="http://wadl.dev.java.net/2009/02" name="ConvertTrip" type="rest" definitionUrl="ConvertTrip" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="mark_trip_converted" path="/api/qa_prods/requested_trips/{request_id}/mark_trip_converted" id="4591d9aa-c368-45a9-8923-411d9021ddb3"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="8d3a0cd5-58ab-4c02-b8ff-9b16e0785908" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="578128d2-3e26-442d-8e0a-55c9f3a5d706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="785d0112-6d1e-4d3e-a9cc-432785a3302c" wadlVersion="http://wadl.dev.java.net/2009/02" name="TravelerChatHistory" type="rest" definitionUrl="TravelerChatHistory" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="comments" path="/bookings/v1/requested_trips/{rtrip_id}/quotes/{quote_id}/comments" id="ec14c14c-85de-4d38-8462-c7909b556dc1"><con:settings/><con:parameters><con:parameter><con:name>rtrip_id</con:name><con:value>rtrip_id</con:value><con:style>TEMPLATE</con:style><con:default>rtrip_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="5573f8f5-8c1b-4416-aba9-d58d21a68426" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="b062f4f6-b2fc-44a7-bcab-192c9923ba40" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="ace7c784-8aa0-4726-a03d-bcc1dd9f46e4" wadlVersion="http://wadl.dev.java.net/2009/02" name="AgentPostComment" type="rest" definitionUrl="AgentPostComment" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="comments" path="/api/v1/requested_trips/{request_id}/quotes/{quote_id}/comments" id="e9814c70-b11c-4ea2-8fb0-3f8653792126"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quoteid</con:value><con:style>TEMPLATE</con:style><con:default>quoteid</con:default></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="82aeba6a-9d6a-4d92-accc-a6c281ba1328" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="df18ec76-6980-4ad0-b4db-1d51856b1a97" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Accept" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request> {
 	"_id": 7,
 	"attachments_attributes": [],
 	"comment": "hi",
 	"commentBy": "AGENT",
 	"commentable_id": 4071786,
 	"commentable_type": "Quote",
 	"created_at": "2017-12-22T11:53:59+0530",
 	"displayTime": "Now",
 	"email": "mail@inspirekerala.com",
 	"pic": "/pics/medium/missing.png",
 	"retryCount": 0,
 	"role": "agent",
 	"status": "PENDING",
 	"title": "#chat",
 	"trip_id": 2223379,
 	"user_id": 423196
 }</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="df58597e-7e2d-4b1d-8cab-291c9cb331ba" wadlVersion="http://wadl.dev.java.net/2009/02" name="TripEnd" type="rest" definitionUrl="TripEnd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="end_trip" path="/api/qa_prods/requested_trips/{request_id}/end_trip" id="3aef8215-4f28-4ac7-9ba6-14139233b8a9"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="b02a2b42-4b37-4d91-ad00-02a02d0c4381" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="2a3b0313-196b-46b6-9a3c-0ab1f66dedee" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2729a826-98a5-4b3d-8dfc-1e2352c5d75c" wadlVersion="http://wadl.dev.java.net/2009/02" name="Inclusion/Exclusion" type="rest" definitionUrl="Inclusion/Exclusion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="list_quote_incl_excl" path="/api/qa_prods/requested_trips/{request_id}/quotes/{quote_id}/list_quote_incl_excl" id="561e0c86-e968-4574-9a9c-796d42ebee24"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter><con:parameter><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="ee54f7a2-de37-4e1a-b20b-7bf89c6c6f78" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="1b74cd66-10fd-4550-ac3b-c17d2dade66c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2b175922-958c-4455-9e1c-88318cdc1c8c" wadlVersion="http://wadl.dev.java.net/2009/02" name="MultipleQuotes" type="rest" definitionUrl="MultipleQuotes" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="quotes" path="/bookings/{api_version}/requested_trips/{rtrip_id}/quotes" id="648b8de4-c4d6-4671-a2fe-68c73235850b"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>rtrip_id</con:name><con:value>rtrip_id</con:value><con:style>TEMPLATE</con:style><con:default>rtrip_id</con:default></con:parameter><con:parameter><con:name>view</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="058f06cf-3486-4b9c-814d-aadefe112ac7" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="5afc940f-0a33-4592-b6ed-823e9900233b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Content-Type" value="applications/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="view" value="full"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>rtrip_id</con:entry><con:entry>view</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="4425c82b-fd2f-4136-86fe-4656d5ef6894" wadlVersion="http://wadl.dev.java.net/2009/02" name="CommentAttachment" type="rest" definitionUrl="CommentAPIAttachment" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="comments" path="/api/v1/requested_trips/{request_id}/quotes/{quote_id}/comments" id="e82b0c6e-8774-4ef0-92c1-e02eab35af9f"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter><con:parameter><con:name>quote_id</con:name><con:value>quote_id</con:value><con:style>TEMPLATE</con:style><con:default>quote_id</con:default></con:parameter><con:parameter required="true"><con:name>security_auth_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="c237f383-ad00-40d9-817a-d066b527c8eb" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="247bbd36-6955-4d20-a7e3-b0e6ad8f6131" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="Accept" value="application\json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request> {
 	"_id": 7,
 	"attachments_attributes": [
 	"file": "",
     "file_name": "Commission.png",
            "a_id": "",
            "local_url": "",
            "type": "image/png"],
 	"comment": "hi",
 	"commentBy": "AGENT",
 	"commentable_id": 4071786,
 	"commentable_type": "Quote",
 	"created_at": "2017-12-22T11:53:59+0530",
 	"displayTime": "Now",
 	"email": "mail@inspirekerala.com",
 	"pic": "/pics/medium/missing.png",
 	"retryCount": 0,
 	"role": "agent",
 	"status": "PENDING",
 	"title": "#chat",
 	"trip_id": 2223379,
 	"user_id": 423196
 }</con:request><con:originalUri>http://master.ttdev.in/api/v1/requested_trips/request_id/quotes/quote_id/comments</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="06f5afc9-09ce-474a-861b-bc1f496b3e66" wadlVersion="http://wadl.dev.java.net/2009/02" name="TT_Bookings_APIs_AutomatedTests" type="rest" definitionUrl="xyz" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/></con:interface><con:interface xsi:type="con:RestService" id="6edfce31-79f5-4080-86fd-e45b071360ad" wadlVersion="http://wadl.dev.java.net/2009/02" name="TT_Bookings_APIs_AutomatedTests" type="rest" definitionUrl="abc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/><con:resource name="testimonials" path="/bookings/v1/requested_trips/{request_id}/testimonials" id="13213e94-71fd-4370-bc5e-946b7b677230"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="655f5de6-3e96-4e6a-9154-97b397ea46f3" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="9156cd49-6351-4e5b-b0e2-cd8cdb2cbe52" mediaType="application/json"><con:settings/><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="ae39b1ad-5424-4745-8fd2-59ba1ef2247e" name="Reusable" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="5aef3164-72cc-4444-b245-bf72540d208b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create_Token" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="0933a251-2380-4edf-aadc-6c3224824eb9"><con:settings/><con:config><script>import java.security.MessageDigest;
import org.codehaus.groovy.runtime.EncodingGroovyMethods;


String requestUrl = context.expand('${#TestCase#request_url}');
String userEmail = context.expand('${#TestCase#user_email}');
String requestType = context.expand('${#TestCase#request_type}');
log.info requestUrl;
String digest;

if( requestType == "get" ){
  	digest = requestUrl; 
} else {
digest = userEmail + requestType;
}

digest = getUserDigest(digest); //this is final digest

log.info digest;
testRunner.testCase.setPropertyValue("hash_key",digest);

String getUserDigest(String digest) {
   String TT_S_KEY = "DAFAC0A55F50A75558B778035E3C9A8BDF03AF1E4C2124D2CD5DD42092EFD32E";
   try {
       digest = TT_S_KEY + digest;
       MessageDigest msgDigest = MessageDigest.getInstance("SHA-256");
       msgDigest.update(digest.getBytes());
       EncodingGroovyMethods encodeObj = new EncodingGroovyMethods();
       //digest = new String(Base64.encode(msgDigest.digest(), Base64.DEFAULT));
       digest = encodeObj.encodeBase64(msgDigest.digest()).toString();
       if (digest.length() > 164) {
           digest = digest.substring(0, 163);
       }
       return digest;
   } catch (Exception e) {
       log.info e.getMessage();
   }
   return null;
}</script></con:config></con:testStep><con:properties><con:property><con:name>hash_key</con:name><con:value>J4g8fuTVDtfHdPNSbb/ruM1u8+nrZBh9o/iOzr+tZ2M=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://bookings-qa2.ttdev.inapi/v4/invoices/send_invoice.json?security_auth_token=ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk&amp;invoice_id=126245</con:value></con:property><con:property><con:name>user_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="5f796657-a526-4780-870a-71dc2c398830" name="Login" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f02d89f4-b8de-44a2-badb-3d1c847f493e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Traveler Logged in with valid credential" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="4dca07c4-ba4b-497c-b818-d935fbe2136d" disabled="true"><con:settings/><con:config><script>//String traveleremail = context.expand('${#Project#user_email}');
//String travelerpassword = context.expand('${#Project#user_password}')


testRunner.testCase.setPropertyValue("useremail", traveleremail);
testRunner.testCase.setPropertyValue("userpassword", travelerpassword);</script></con:config></con:testStep><con:testStep type="restrequest" name="Then user login with valid crendentials successfully" id="adf8a0a6-f093-4e95-bfa5-16e4939f8838"><con:settings/><con:config service="SiginIn" resourcePath="/browsing/{api_version}/users/sign_in" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user login with valid crendentials successfully" id="29945a9e-ca2e-432a-b5a0-bb370cdcec48" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="X-CLIENT-DEBUG-TOKEN" value="a704f2fcc8d69618997259d65da7bf17678970d51d680d6d0edc03872f0a9b712f882b6bec1829ee"/>
  <con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
  <con:entry key="Content-Type" value="application/json"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"${#TestCase#useremail}","password":"${#TestCase#userpassword}"}}</con:request><con:originalUri>https://frontend.ttdev.in/browsing/v3/users/sign_in</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1b75f6fc-1c02-4a52-a268-160180fdd04a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ab1b71e1-a734-4d23-b4b4-0ee0abdeee33" name="Contains"><con:configuration><token>${#TestCase#useremail}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7c2eaed7-cdd0-47fc-83f8-251ee83755fc" name="Cookie"><con:configuration><scriptText>for(String cookie in messageExchange.getResponseHeaders()["Set-Cookie"]){
	if(cookie.contains("_trips3m_session")){
		messageExchange.modelItem.testCase.setPropertyValue("Cookie",cookie);
	}
}</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="95b06360-3a12-4725-90f7-ce5f4f33e36c" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String user_id = json_response_holder.metadata.id.toString();

String email = json_response_holder.metadata.email;

messageExchange.modelItem.testCase.setPropertyValue("user_id",user_id);

messageExchange.modelItem.testCase.setPropertyValue("traveler_email",email);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTExNjc5Yzg2ZWFjN2RlOWM2ZGVkODMxYjdjNWNhZDlmBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA4rUGUkiIiQyYSQxMCRxM3BNQWhwZk5NcVhjMlFkS2ZQemd1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--80cb11dfedc172ad18442cac6485ee6a73a01184; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692810</con:value></con:property><con:property><con:name>email</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522220053763@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>lorem_tt_test_ipsum1522220053763@gmail.com</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>tt12345</con:value></con:property></con:properties></con:testCase><con:testCase id="6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Agent Logged in with valid credential" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user get the hash key for login" id="34c49e3e-fbae-49dd-8e07-7dd6e6285136" disabled="true"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value/></con:property><con:property><con:name>request_url</con:name></con:property><con:property><con:name>user_email</con:name></con:property><con:property><con:name>request_type</con:name></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_FAIL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user login with valid crendentials successfully" id="56b38921-b4f1-4dab-b376-0c084da9ea5c"><con:settings/><con:config service="SiginIn" resourcePath="/browsing/{api_version}/users/sign_in" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user login with valid crendentials successfully" id="29945a9e-ca2e-432a-b5a0-bb370cdcec48" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="X-CLIENT-DEBUG-TOKEN" value="a704f2fcc8d69618997259d65da7bf17678970d51d680d6d0edc03872f0a9b712f882b6bec1829ee"/>
  <con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"${#Project#agent_user_email}","password":"${#Project#agent_user_password}"}}</con:request><con:originalUri>https://frontend.ttdev.in/browsing/v3/users/sign_in</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1b75f6fc-1c02-4a52-a268-160180fdd04a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ab1b71e1-a734-4d23-b4b4-0ee0abdeee33" name="Contains"><con:configuration><token>${#TestCase#agent_user_email}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7c2eaed7-cdd0-47fc-83f8-251ee83755fc" name="Cookie"><con:configuration><scriptText>for(String cookie in messageExchange.getResponseHeaders()["Set-Cookie"]){
	if(cookie.contains("_trips3m_session")){
		messageExchange.modelItem.testCase.setPropertyValue("Cookie",cookie);
	}
}</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="45ed96c2-f3e9-4615-a65e-fbb62da1715b" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String user_id = json_response_holder.metadata.id.toString();

String email = json_response_holder.metadata.email;

messageExchange.modelItem.testCase.setPropertyValue("user_id",user_id);

messageExchange.modelItem.testCase.setPropertyValue("agent_email",email);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTdkMzQ2NzJmNDM3OTgxOTk5ZTY4ZmE4MGE1YzE4ZmE4BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--5a1636c77f609ee7e7832aecc9a32c74c427186c; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties></con:testCase><con:testCase id="fde8c42d-bd9e-4b04-acb1-ccc7379775b3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Admin Logged in with valid credential" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user get the hash key for login" id="e6a90550-1d7b-46a4-8ce8-a6f40b89be82" disabled="true"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value/></con:property><con:property><con:name>request_url</con:name></con:property><con:property><con:name>user_email</con:name></con:property><con:property><con:name>request_type</con:name></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_FAIL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user login with valid crendentials successfully" id="d933fac3-5317-474f-ad69-867619084f15"><con:settings/><con:config service="SiginIn" resourcePath="/browsing/{api_version}/users/sign_in" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user login with valid crendentials successfully" id="29945a9e-ca2e-432a-b5a0-bb370cdcec48" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="X-CLIENT-DEBUG-TOKEN" value="a704f2fcc8d69618997259d65da7bf17678970d51d680d6d0edc03872f0a9b712f882b6bec1829ee"/>
  <con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"${#Project#admin_user_email}","password":"${#Project#admin_user_password}"}}</con:request><con:originalUri>https://frontend.ttdev.in/browsing/v3/users/sign_in</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1b75f6fc-1c02-4a52-a268-160180fdd04a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ab1b71e1-a734-4d23-b4b4-0ee0abdeee33" name="Contains"><con:configuration><token>${#TestCase#admin_user_email}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7c2eaed7-cdd0-47fc-83f8-251ee83755fc" name="Cookie"><con:configuration><scriptText>for(String cookie in messageExchange.getResponseHeaders()["Set-Cookie"]){
	if(cookie.contains("_trips3m_session")){
		messageExchange.modelItem.testCase.setPropertyValue("Cookie",cookie);
	}
}</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="0a88d90b-daac-4851-96fa-f2455b50c0db"><con:configuration/></con:assertion><con:assertion type="GroovyScriptAssertion" id="f1219aca-3f49-4d2d-a10b-3761893637e4" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String user_id = json_response_holder.metadata.id.toString();

String email = json_response_holder.metadata.email;

messageExchange.modelItem.testCase.setPropertyValue("user_id",user_id);

messageExchange.modelItem.testCase.setPropertyValue("admin_email",email);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTY4NDkwYjQ0NjUxZWVjNTAxZDAxZWE5YjU2NjY5MGVhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA91qA0kiIiQyYSQxMCRDS3JFQlFQdXVpTzlUdEZYNFpGeGplBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--dfc1d76615205bc677a74a6935e26e14087c6403; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>223965</con:value></con:property><con:property><con:name>admin_email</con:name><con:value>kanupriya@traveltriangle.com</con:value></con:property></con:properties></con:testCase><con:testCase id="cd1bcdec-f76f-41ee-a0a5-212f7625739c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Agent Logged in with valid credential1" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user get the hash key for login" id="9fab0582-9f1b-4ff2-bff3-a8f69bffb2bd" disabled="true"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value/></con:property><con:property><con:name>request_url</con:name></con:property><con:property><con:name>user_email</con:name></con:property><con:property><con:name>request_type</con:name></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_FAIL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user login with valid crendentials successfully" id="f8c64964-c291-4ed0-ae3f-79972aeda3ee"><con:settings/><con:config service="SiginIn" resourcePath="/browsing/{api_version}/users/sign_in" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user login with valid crendentials successfully" id="29945a9e-ca2e-432a-b5a0-bb370cdcec48" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="X-CLIENT-DEBUG-TOKEN" value="a704f2fcc8d69618997259d65da7bf17678970d51d680d6d0edc03872f0a9b712f882b6bec1829ee"/>
  <con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
  <con:entry key="Content-Type" value="application/json"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"${#Project#agent_email}","password":"${#Project#agent_password}"}}</con:request><con:originalUri>https://frontend.ttdev.in/browsing/v3/users/sign_in</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1b75f6fc-1c02-4a52-a268-160180fdd04a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ab1b71e1-a734-4d23-b4b4-0ee0abdeee33" name="Contains"><con:configuration><token>${#TestCase#agent_user_email}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7c2eaed7-cdd0-47fc-83f8-251ee83755fc" name="Cookie"><con:configuration><scriptText>for(String cookie in messageExchange.getResponseHeaders()["Set-Cookie"]){
	if(cookie.contains("_trips3m_session")){
		messageExchange.modelItem.testCase.setPropertyValue("Cookie",cookie);
	}
}</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="45ed96c2-f3e9-4615-a65e-fbb62da1715b" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String user_id = json_response_holder.metadata.id.toString();

String email = json_response_holder.metadata.email;

messageExchange.modelItem.testCase.setPropertyValue("user_id",user_id);

messageExchange.modelItem.testCase.setPropertyValue("agent_email",email);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTU0YzgxM2E5ZjI1NTlmZTFlOGIwOGEyNzU0YTIyMmJkBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA6ELA0kiIiQyYSQxMCRRdTBBa2ZXRGg1NjlXckFmcHZ3TmplBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--3b38633b5d71750849e8292df285ba4288d7f670; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>199585</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttagentdemo@gmail.com</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="72af56b5-55a9-4755-bc27-490262e2448e" name="RtripCreation" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="d57b6bec-b417-4f61-b937-518bd6e98dd1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TripCreated" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="42729a0d-aa46-47aa-a1f2-996ebdb1e351"><con:settings/><con:config><script>import java.util.Calendar;
import java.text.SimpleDateFormat;
import java.util.Random;
import com.eviware.soapui.model.testsuite.TestStep;
Calendar cal = Calendar.getInstance();
cal.add(Calendar.DATE, 15);
SimpleDateFormat format1 = new SimpleDateFormat("yyyy-MM-dd");
String formatted = format1.format(cal.getTime());
testRunner.testCase.setPropertyValue("start_date",formatted);
testRunner.testCase.setPropertyValue("budgets","26500..28500");
testRunner.testCase.setPropertyValue("trip_day","5");
testRunner.testCase.setPropertyValue("from_loc","Noida, Uttar Pradesh 201301, India");
testRunner.testCase.setPropertyValue("addinfos","test");
testRunner.testCase.setPropertyValue("infos","test1");


Random rand = new Random();
String[] arr_toloc = ["Europe","Himachal","Kerala"];
int arr_sizetoloc = arr_toloc.size();
int toloc_random_index = rand.nextInt((arr_sizetoloc - 0)) + 0;
testRunner.testCase.setPropertyValue("to_loc", arr_toloc[toloc_random_index]);</script></con:config></con:testStep><con:testStep type="restrequest" name="User create the trip" id="6af9b20d-933e-424d-b0cc-289f4f427f61"><con:settings/><con:config service="RtripCreation" resourcePath="/browsing/{api_version}/requested_trips" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="User create the trip" id="68eaa52b-6d31-4a91-af54-f8bc242b55dd" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
        "requested_trip": {
       "to_loc": "${#TestCase#to_loc}",
       "from_loc": "${#TestCase#from_loc}",
       "trip_days": "${#TestCase#trip_day}",
       "start_date": "${#TestCase#start_date}",
       "email": "${#TestCase#user_email}",
       "budget": "${#TestCase#budgets}",
       "info": "${#TestCase#infos}",
       "addtl_info": "${#TestCase#addinfos}",
       "phone_no": "",
       "isd_code": "",
       "adminComments": "#slider_organic #Form_filled_on http  ",
       "trip_stage": "",
       "flight": "",
       "hotels": "",
       "cab": "",
       "from_complete": "",
       "to_complete": ""

   }
}</con:request><con:originalUri>https://frontend.ttdev.in/browsing/v1/requested_trips</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="41627682-71e2-421e-b0a8-111b1c00da8e" name="Valid HTTP Status Codes"><con:configuration><codes>201</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f71907c1-3f9d-40cf-918e-95d6f704077b" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);



//Get the request ID created.
String request_id = json_response_holder.data.requested_trip.id;
messageExchange.modelItem.testCase.setPropertyValue("RequestID",request_id);
messageExchange.modelItem.testCase.testSuite.setPropertyValue("RequestID",request_id)

//Get the redirect url.
String redirect_url = json_response_holder.data.redirect_url;
messageExchange.modelItem.testCase.setPropertyValue("request_redirectUrl",redirect_url);
assert request_id != null;

String userid = json_response_holder.data.user_id;
messageExchange.modelItem.testCase.setPropertyValue("UserID" , userid);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>to_loc</con:name><con:value>Kerala</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>15 April,2018</con:value></con:property><con:property><con:name>user_email</con:name><con:value>lorem_tt_test_ipsum1522220053763@gmail.com</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559041-Test1522220053763/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692810</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559041</con:value></con:property><con:property><con:name>tolocation</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>RequestID</con:name><con:value>2559041</con:value></con:property></con:properties></con:testSuite><con:testSuite id="76b6b4b4-df5f-4144-a4ba-fab2809dc464" name="AddingAgentTagandMarkingTripActive" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="99db756f-cbf5-491a-ab9c-367a3be59142" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Agent tagging and trip is marked Active" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given admin login with valid credential successfully" id="49a07f0f-8583-4807-9580-6802f3050793"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fde8c42d-bd9e-4b04-acb1-ccc7379775b3</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWM0N2VlMjI5MDYwNjEwNmVhODVjODVkN2JjZjc1MWZhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA91qA0kiIiQyYSQxMCRDS3JFQlFQdXVpTzlUdEZYNFpGeGplBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--3c77072cd82c87e30be6c996463dc438748922e6; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>223965</con:value></con:property><con:property><con:name>admin_email</con:name><con:value>kanupriya@traveltriangle.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>admin_email</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given admin get the hash key for agent taging and activating trip" id="1d303425-780a-4111-a269-83d86934bec6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>UpZ/2/flvoKezmFiz9oV2JxvYOE3Zzj4dZX8xeIGEwQ=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>https://${#Project#traveler_apiendpoint}/api/v3/requested_trips/${#TestCase#request_id}/add_tag_and_activate_trip?is_activate=true</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#admin_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent is tagged to trip and trip is active" id="1233f56e-f1e1-4ee4-ad99-253688feeaa3"><con:settings/><con:config service="AdminAddAgentTagWithTrip" resourcePath="/api/v3/requested_trips/{rtrip_id}/add_tag_and_activate_trip" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent is tagged to trip and trip is active" id="8a7e9e1c-82ce-41cc-b2ac-22140b4d9b76" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given admin login with valid credential successfully#Cookie}"/>
  <con:entry key="TT-Mobile" value="${Given admin get the hash key for agent taging and activating trip#hash_key}"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/api/v3/requested_trips/1864854/add_tag_and_activate_trip</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9482cab7-23bd-45f4-9c47-36daa4dedd1e" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="df84aeca-249e-48e3-97a5-ef13ce628a8a" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_activate = json_response_holder.is_activate;


assert(is_activate == true) : "trip is not set to active"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="rtrip_id" value="${#TestCase#request_id}"/>
  <con:entry key="delete_agent_tags" value="true"/>
  <con:entry key="is_activate" value="true"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
  <con:entry key="tag_id" value="${#TestCase#tag_id}"/>
</con:parameters><con:parameterOrder><con:entry>rtrip_id</con:entry><con:entry>tag_id</con:entry><con:entry>is_activate</con:entry><con:entry>delete_agent_tags</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name></con:property><con:property><con:name>request_id</con:name><con:value>2559041</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="86d1e5bf-8435-4e0f-a835-6f93b8d3c887" name="AgentGiveQuote" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="c1bb06eb-caf1-45e6-a226-1b71c0fa504a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Agent give a quote" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given agent is loggedin" id="8f8801d8-14d1-426b-a370-072eb93052ba"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTg4NDlhZDE4YjgwYjQ5NDM0NGRiZjRiNDQ4ZTU4NDFkBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--8464ba3e4d2b569a9305717d15f8c2a3b760ccf9; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the has key for rtrip details" id="2e52cf4b-cf52-406d-891e-d060625ad2a0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>7QrlVIZ8vLaiTpuELrZpEpP6Z//jY4myH0RQ9QkXWXo=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>https://${#Project#traveler_apiendpoint}/api/v2/requested_trips/{rtripId}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user get rtrip details" id="45849892-dfe5-46ba-bc71-26e0473615c7"><con:settings/><con:config service="RtripDetails" resourcePath="/api/{version}/requested_trips/{requestid}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user get rtrip details" id="b966ae25-8657-4c7d-a999-3dff1ed70072" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  <con:entry key="X-Requested-With" value="XMLHttpRequest"/>
  <con:entry key="TT-Mobile" value="${Given agent get the has key for rtrip details#hash_key}"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v2/requested_trips/1903886</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="fc548515-4135-425a-b6ba-c7b9a7332863" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="736acbcc-39d4-4f6d-b461-2d1a9bcb74b1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def destinationID = json_response_holder.destinations.id;

messageExchange.modelItem.testCase.setPropertyValue("destinationID",destinationID[0].toString());</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="requestid" value="${#TestCase#request_id}"/>
  <con:entry key="version" value="v2"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>version</con:entry><con:entry>security_auth_token</con:entry><con:entry>requestid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given user get destination hotel list" id="6837b160-507d-480e-96af-f873cfd560db"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>G0VEalk/t8bUeWOPedtH7LcwHpQyL2lKoHveN74hcjs=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/{destinationId}/destination_hotel_images</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent get destination hotel list" id="6818642d-571c-4801-ba63-fb4ff5dbfaaa"><con:settings/><con:config service="GetHotelImages" resourcePath="/api/{api_version}/destinations/{destinationId}/destination_hotel_images" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent get destination hotel list" id="4e5c28c8-1409-43eb-8127-653be781edb7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v2/destinations/59/destination_hotel_images</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="73f5c6a3-c7dd-4f3e-b7a1-ee2565a3e15a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ed1aa926-de95-46da-bb14-c0dac98b3c92" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def hotels= json_response_holder.hotel_images;
log.info hotels[0].name;
	messageExchange.modelItem.testCase.setPropertyValue("address",hotels[0].address);
//	messageExchange.modelItem.testCase.setPropertyValue("category",hotel.category);
	messageExchange.modelItem.testCase.setPropertyValue("city",hotels[0].city);
	messageExchange.modelItem.testCase.setPropertyValue("city_id",String.valueOf(hotels[0].city_id));
	messageExchange.modelItem.testCase.setPropertyValue("d_id",String.valueOf(hotels[0].d_id));
	messageExchange.modelItem.testCase.setPropertyValue("img",hotels[0].img);
	messageExchange.modelItem.testCase.setPropertyValue("name",hotels[0].name);
	messageExchange.modelItem.testCase.setPropertyValue("picture",hotels[0].pictures);

	messageExchange.modelItem.testCase.setPropertyValue("address1",hotels[1].address);
//	messageExchange.modelItem.testCase.setPropertyValue("category",hotel.category);
	messageExchange.modelItem.testCase.setPropertyValue("city1",hotels[1].city);
	messageExchange.modelItem.testCase.setPropertyValue("city_id1",String.valueOf(hotels[1].city_id));
	messageExchange.modelItem.testCase.setPropertyValue("d_id1",String.valueOf(hotels[1].d_id));
	messageExchange.modelItem.testCase.setPropertyValue("img1",hotels[1].img);
	messageExchange.modelItem.testCase.setPropertyValue("name1",hotels[1].name);
	messageExchange.modelItem.testCase.setPropertyValue("picture1",hotels[1].pictures);
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="destinationId" value="${#TestCase#destinationID}"/>
  <con:entry key="api_version" value="v2"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>destinationId</con:entry><con:entry>api_version</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for new quote page" id="e0aa8c6f-b073-4966-bd16-6a35baa1277c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>F6EBpU/Z0fDQwgevGsYmXEODtKVAmThIIrHynVzXuBU=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/requested_trips/{requestID}/quotes/new</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_FAIL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent open new quote page" id="5289dd1b-b0db-416b-a06e-c8e1dc9ffb0b"><con:settings/><con:config service="GetNewQuotePage" resourcePath="/api/v4/requested_trips/{requestID}/quotes/new" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent open new quote page" id="ff497c82-7c20-43db-b33b-3450dca6635b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/requested_trips/1903886/quotes/new</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="422aa2c3-448f-4895-bfee-886d65805eb6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9d4e0aa1-66ad-467c-8190-a72fd5bf4107" name="Script Assertion" disabled="true"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def quoteinclexcl = json_response_holder.quote_incl_excl_info_form_enabled;
def hotelformenabled = json_response_holder.hotel_form_enabled;
def days = json_response_holder.trip_days.day_of_itinerary;

log.info "days " + days
String quoteincl ="";
String saveinclusions = false;
if(quoteinclexcl == true){
	saveinclusions = "true";
	def inclid = json_response_holder.quote_inclusions.id;
	int i=0;
	for (value in inclid){
	quoteincl = (quoteincl == "") ? quoteincl + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"0\"}" : quoteincl + "," + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"1\"}";
	i++;
	}
	
}else{
	messageExchange.modelItem.testCase.setPropertyValue("excluded","kdfhsdkjsdhfl");
	messageExchange.modelItem.testCase.setPropertyValue("included","kdfhsdkjhhvjsdhfl");
}

String travel_days="";
for( int i=0; i&lt;days.size();i++){
	travel_days = (travel_days == "") ? travel_days + "\""+i+"\":{\"title\":\"fdhghdg\", \"description\":\"gfdhgf\", \"_destroy\":\"false\"}" : travel_days + "," +"\""+i+"\":{\"title\":\"fdhghdg\", \"description\":\"gfdhgf\", \"_destroy\":\"false\"}"; 
}


String hoteldetail = ""; 
if(hotelformenabled){
	String nights="1";
	for (int i=2; i&lt;days.size();i++){
		nights =  nights+","+i
	}

String hotelName = context.expand('${#TestCase#name}');
String cityName = context.expand('${#TestCase#city}');
String cityId = context.expand('${#TestCase#city_id}');
String hotelName1 = context.expand('${#TestCase#name1}');
String cityName1 = context.expand('${#TestCase#city1}');
String cityId1 = context.expand('${#TestCase#city_id1}');
String night = "1";

log.info "hotelName "+hotelName
log.info "hotelName1 "+hotelName1

String hoteinfo  = "\"hotels_info_1\":[{\"alternate_hotel\":\"1\",\"hotel_id\":\"\",\"ta_url\":\"\",\"nights\":\""+night+"\",\"hotel_name\":\""+hotelName1+"\",\"hotel_city_id\":\""+cityId1+"\",\"hotel_city_name\":\""+cityName1+"\",\"hotel_category\":\"\",\"room_type\":\"Standard\",\"comments\":\"test\"}],";
hoteldetail = hoteinfo + "\"hotels_info\":[{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"1\",\"room_type\":\"Standard\",\"hotel_city_id\":\""+cityId+"\",\"hotel_city_name\":\""+cityName+"\",\"hotel_category\":\"\",\"comments\":\"gfdgsgds\"}]";

}else{
	messageExchange.modelItem.testCase.setPropertyValue("hotelnames","kdfhsdkjsdhfl");
}

messageExchange.modelItem.testCase.setPropertyValue("hoteldetail",hoteldetail);
messageExchange.modelItem.testCase.setPropertyValue("quoteincl",quoteincl);
messageExchange.modelItem.testCase.setPropertyValue("traveldays",travel_days);
messageExchange.modelItem.testCase.setPropertyValue("saveinclusions",saveinclusions);</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="0b0c57e5-c085-4489-b1fa-2e90c5d8ce6e" name="Script Assertion 1"><con:configuration><scriptText>import groovy.json.JsonSlurper;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def quoteinclexcl = json_response_holder.quote_incl_excl_info_form_enabled;
def hotelformenabled = json_response_holder.hotel_form_enabled;
def days = json_response_holder.trip_days.day_of_itinerary;

String totaldays = days.size();
messageExchange.modelItem.testCase.setPropertyValue("Totalday",totaldays);
log.info "days " + days
String quoteincl ="";
String saveinclusions = false;
if(quoteinclexcl == true){
	saveinclusions = "true";
	def inclid = json_response_holder.quote_inclusions.id;
	int i=0;
	for (value in inclid){
	quoteincl = (quoteincl == "") ? quoteincl + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"1\"}" : quoteincl + "," + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"0\"}";
	i++;
	}
	
}

else{
	messageExchange.modelItem.testCase.setPropertyValue("excluded","testenc");
	messageExchange.modelItem.testCase.setPropertyValue("included","testinc");
}

def incl = json_response_holder.quote_inclusions.id;

for(int j=1;j&lt;incl.size();j++)
{
def map = [id = incl[j], is_included = 1];
//log.info map;
}
String travel_days="";
String[] itineraray_title = new String[days.size()];
for( int i=0; i&lt;days.size();i++){
	travel_days = (travel_days == "") ? travel_days + "\""+i+"\":{\"title\":\"test\", \"description\":\"test1\", \"_destroy\":\"false\"}" : travel_days + "," 	+"\""+i+"\":{\"title\":\"test2\", \"description\":\"gfdhgftest\", \"_destroy\":\"false\"}";
}
travel_days = "{" + travel_days + "}"
for (int i=0; i&lt;days.size();i++){
	def jsonSlurper = new JsonSlurper()
	def object = jsonSlurper.parseText(travel_days)
 itineraray_title[i] = object.(i.toString()).title
}
int index = 1;
for(String it_title in itineraray_title){
	messageExchange.modelItem.testCase.setPropertyValue("travel_title_" + index ,it_title);
	index++;
}

String hoteldetail = ""; 
if(hotelformenabled){
	String nights="1";
	for (int i=2; i&lt;days.size();i++){
		nights =  nights+","+i
	}

String hotelName = context.expand('${#TestCase#name}');
log.info hotelName;
String cityName = context.expand('${#TestCase#city}');
String cityId = context.expand('${#TestCase#city_id}');
String hotelName1 = context.expand('${#TestCase#name1}');
String cityName1 = context.expand('${#TestCase#city1}');
String cityId1 = context.expand('${#TestCase#city_id1}');
String roomtype ="Standard";
String roomtype1 = "Super Delux";
String hotelcomments = "hoteltest";
String similarhotelcomments = "similarhoteltest";

String hoteinfo  = "\"hotels_info_1\":[{\"alternate_hotel\":\"0\",\"hotel_id\":\"\",\"ta_url\":\"\",\"nights\":\"\",\"hotel_name\":\"\",\"hotel_city_id\":\"\",\"hotel_city_name\":\"\",\"hotel_category\":\"\",\"room_type\":\"\",\"comments\":\"\"}],";
hoteldetail = hoteinfo + "\"hotels_info\":[{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"0\",\"room_type\":\""+roomtype+"\",\"hotel_city_id\":\""+cityId+"\",\"hotel_city_name\":\""+cityName+"\",\"hotel_category\":\"\",\"comments\":\""+hotelcomments+"\"},{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName1+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"1\",\"room_type\":\""+roomtype1+"\",\"hotel_city_id\":\""+cityId1+"\",\"hotel_city_name\":\""+cityName1+"\",\"hotel_category\":\"\",\"comments\":\""+similarhotelcomments+"\"}]";

messageExchange.modelItem.testCase.setPropertyValue("HotelNights",nights);
messageExchange.modelItem.testCase.setPropertyValue("Hotelname",hotelName);
messageExchange.modelItem.testCase.setPropertyValue("RoomTypes",roomtype);
messageExchange.modelItem.testCase.setPropertyValue("HotelCity",cityName);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelNights",nights);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelname",hotelName1);
messageExchange.modelItem.testCase.setPropertyValue("SimilarRoomTypes",roomtype1);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelCity",cityName1);
messageExchange.modelItem.testCase.setPropertyValue("HotelComment",hotelcomments);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelComment",similarhotelcomments);

}else{
	messageExchange.modelItem.testCase.setPropertyValue("hotelnames","kdfhsdkjsdhfl");
}

messageExchange.modelItem.testCase.setPropertyValue("hoteldetail",hoteldetail);
messageExchange.modelItem.testCase.setPropertyValue("quoteincl",quoteincl);
messageExchange.modelItem.testCase.setPropertyValue("traveldays",travel_days);
messageExchange.modelItem.testCase.setPropertyValue("saveinclusions",saveinclusions);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="requestID" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>requestID</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for give quote" id="bfecaa84-4aeb-46c0-a470-0987f22f953b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>drRmYaaFIqBg9YKeV61uCfsvHCqWL6VkyQEMQECPpkA=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/requested_trips/{request_id}/quotes</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email]</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent give the quote" id="5e7bd811-efab-4099-be38-f5de4ab06c08"><con:settings/><con:config service="CreateQuote" resourcePath="/api/v4/requested_trips/{RequestID}/quotes" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent give the quote" id="97573402-614a-4768-ad17-b25a06b82056" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="" value=""/>
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"utf8": "?",
	"version": "",
	"should_warnings_override": "false",
	"commit": "SAVE &amp; SEND",
	"quote_match_param": "last",
	"quote": {
		"type_of_trip": "",
		"days": "8",
		"nights": "7",
		"perperson": "per person",
		"currency": "Rupee",
		"flight_cost": "0",
		"included": "${#TestCase#included}",
		"excluded": "${#TestCase#excluded}",
		"visa_cost": "0",
		"price": "${#TestCase#price}",
		"hotels": "${#TestCase#hotelnames}",
		"flights": "${#TestCase#flight}",
		"cabs": "${#TestCase#cabdetail}",
		"terms_conditions": "tnc",
		"quote_inclusions_attributes": {
			${#TestCase#quoteincl}
		},
		"trip_days_attributes": 
		 ${#TestCase#traveldays},
		"description": "hfhg"
	},
	"quote_land_package_cost": "0",
	${#TestCase#hoteldetail},
	"flights_not_included": "true",
	"save_inclusions": "${#TestCase#saveinclusions}",
	"action": "create",
	"controller": "quotes",
	"requested_trip_id": "${#TestCase#request_id}"
}</con:request><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/requested_trips//quotes</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2554d9ab-531a-4960-8de9-34453ebe146d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b195551e-4ae5-4842-8ee3-261a5b8d40f7" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_activate = json_response_holder.is_activate;
def quote_id = json_response_holder.quote_id;
def message = json_response_holder.message;
assert(quote_id != null):"Quote not generated"

log.info quote_id + " " + message
messageExchange.modelItem.testCase.setPropertyValue("quoteid",String.valueOf(quote_id));</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="RequestID" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>security_auth_token</con:entry><con:entry>RequestID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for agent name" id="defb3c9c-8445-4812-a1f4-4a955a01f035"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>oSiZ8apFuvNrGspijdUIj4+xhtmMZhgHAwasTHDxL3E=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/users/get_user_name.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent name is fetched" id="da1573ec-6414-4bbf-9952-7aa743c6e5be"><con:settings/><con:config service="AgentName" resourcePath="/api/v4/users/get_user_name.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent name is fetched" id="d3654ba6-bb46-4c72-ae39-8d5ac129c109" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/users/get_user_name.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4b1d7e26-cd36-4ca8-8119-bae746bfc27b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="5063d467-8d24-49f0-867c-e6b47831140e" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_activate = json_response_holder.is_activate;
def name = json_response_holder.name;
def message = json_response_holder.message;
assert(name!= null):"Agent name not generated"

log.info name + " " + message
messageExchange.modelItem.testCase.setPropertyValue("agentname",String.valueOf(name));
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="user_id" value="{#TestCase#user_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>request_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2559041</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">"0":{"id":"","inclusion_id":"21","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"22","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"23","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"24","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"25","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"26","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"27","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"28","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"29","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"30","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"45","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"46","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"47","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"48","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"49","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"50","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"51","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"52","comments_added":"","is_included":"0"},"18":{"id":"","inclusion_id":"488","comments_added":"","is_included":"0"},"19":{"id":"","inclusion_id":"489","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">26320</con:value></con:property><con:property><con:name>user_id</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>destinationID</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">56</con:value></con:property><con:property><con:name>address</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">PB. No. 40, 685612 Munnar, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">587488</con:value></con:property><con:property><con:name>img</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg</con:value></con:property><con:property><con:name>picture</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668493/original/3699833.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668494/original/3699824.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668495/original/3699823.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668496/original/3699822.jpg</con:value></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708321</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>travel_title_8</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>img1</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg</con:value></con:property><con:property><con:name>picture1</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668459/original/2425569_31_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668460/original/2425569_24_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668461/original/2425569_30_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668462/original/2425569_28_z.jpg</con:value></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>name</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>address1</con:name><con:value>Chinnakanal, Chinnakkanal, Via Suryanelli</con:value></con:property><con:property><con:name>city1</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Munnar</con:value></con:property><con:property><con:name>city_id1</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">26320</con:value></con:property><con:property><con:name>d_id1</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">621707</con:value></con:property><con:property><con:name>name1</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Club Mahindra Munnar</con:value></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Tall Trees","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Club Mahindra Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties></con:testCase><con:testCase id="604eb85b-2dc9-422d-ad06-10f8d9dccf9a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Agent give 2nd quote" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given agent is loggedin" id="6eb03910-f07a-4c08-ab95-a64d39baf950"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTYzYTJmZTRmM2M1ZWRjZTA2OTJlZGQ4MTQ4ZGFjMTM3BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--7f6d756fbed53f51c7c1dab89e5a60dc7dbe1e08; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the has key for rtrip details" id="22346f44-91e5-4b10-839f-70b63d6d65f2"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>7QrlVIZ8vLaiTpuELrZpEpP6Z//jY4myH0RQ9QkXWXo=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>https://${#Project#traveler_apiendpoint}/api/v2/requested_trips/{rtripId}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user get rtrip details" id="ce880f0c-bce5-485b-9f85-267aa3a16d31"><con:settings/><con:config service="RtripDetails" resourcePath="/api/{version}/requested_trips/{requestid}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user get rtrip details" id="b966ae25-8657-4c7d-a999-3dff1ed70072" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  <con:entry key="X-Requested-With" value="XMLHttpRequest"/>
  <con:entry key="TT-Mobile" value="${Given agent get the has key for rtrip details#hash_key}"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v2/requested_trips/1903886</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="fc548515-4135-425a-b6ba-c7b9a7332863" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="736acbcc-39d4-4f6d-b461-2d1a9bcb74b1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def destinationID = json_response_holder.destinations.id;

messageExchange.modelItem.testCase.setPropertyValue("destinationID",destinationID[0].toString());</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="requestid" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
  <con:entry key="version" value="v2"/>
</con:parameters><con:parameterOrder><con:entry>version</con:entry><con:entry>security_auth_token</con:entry><con:entry>requestid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given user get destination hotel list" id="1605b1d8-2735-4953-a374-eb68dc666638"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>G0VEalk/t8bUeWOPedtH7LcwHpQyL2lKoHveN74hcjs=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/{destinationId}/destination_hotel_images</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent get destination hotel list" id="750e4103-d5ad-4136-b4db-9ab24ffb3bf7"><con:settings/><con:config service="GetHotelImages" resourcePath="/api/{api_version}/destinations/{destinationId}/destination_hotel_images" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent get destination hotel list" id="4e5c28c8-1409-43eb-8127-653be781edb7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v2/destinations/59/destination_hotel_images</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="73f5c6a3-c7dd-4f3e-b7a1-ee2565a3e15a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ed1aa926-de95-46da-bb14-c0dac98b3c92" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def hotels= json_response_holder.hotel_images;

	messageExchange.modelItem.testCase.setPropertyValue("address",hotels[1].address);
//	messageExchange.modelItem.testCase.setPropertyValue("category",hotel.category);
	messageExchange.modelItem.testCase.setPropertyValue("city",hotels[1].city);
	messageExchange.modelItem.testCase.setPropertyValue("city_id",String.valueOf(hotels[1].city_id));
	messageExchange.modelItem.testCase.setPropertyValue("d_id",String.valueOf(hotels[1].d_id));
	messageExchange.modelItem.testCase.setPropertyValue("img",hotels[1].img);
	messageExchange.modelItem.testCase.setPropertyValue("name",hotels[1].name);
	messageExchange.modelItem.testCase.setPropertyValue("picture",hotels[1].pictures);

	messageExchange.modelItem.testCase.setPropertyValue("address1",hotels[2].address);
//	messageExchange.modelItem.testCase.setPropertyValue("category",hotel.category);
	messageExchange.modelItem.testCase.setPropertyValue("city1",hotels[2].city);
	messageExchange.modelItem.testCase.setPropertyValue("city_id1",String.valueOf(hotels[2].city_id));
	messageExchange.modelItem.testCase.setPropertyValue("d_id1",String.valueOf(hotels[2].d_id));
	messageExchange.modelItem.testCase.setPropertyValue("img1",hotels[2].img);
	messageExchange.modelItem.testCase.setPropertyValue("name1",hotels[2].name);
	messageExchange.modelItem.testCase.setPropertyValue("picture1",hotels[2].pictures);
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="destinationId" value="${#TestCase#destinationID}"/>
  <con:entry key="api_version" value="v2"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>destinationId</con:entry><con:entry>api_version</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for new quote page" id="b498c555-37f1-4147-9815-f2cd4dc2be73"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>F6EBpU/Z0fDQwgevGsYmXEODtKVAmThIIrHynVzXuBU=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/requested_trips/{requestID}/quotes/new</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_FAIL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent open new quote page" id="31d572a4-b33b-457e-81f3-94d4b620148b"><con:settings/><con:config service="GetNewQuotePage" resourcePath="/api/v4/requested_trips/{requestID}/quotes/new" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent open new quote page" id="ff497c82-7c20-43db-b33b-3450dca6635b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/requested_trips/1903886/quotes/new</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="422aa2c3-448f-4895-bfee-886d65805eb6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9d4e0aa1-66ad-467c-8190-a72fd5bf4107" name="Script Assertion" disabled="true"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def quoteinclexcl = json_response_holder.quote_incl_excl_info_form_enabled;
def hotelformenabled = json_response_holder.hotel_form_enabled;
def days = json_response_holder.trip_days.day_of_itinerary;

log.info "days " + days
String quoteincl ="";
String saveinclusions = false;
if(quoteinclexcl == true){
	saveinclusions = "true";
	def inclid = json_response_holder.quote_inclusions.id;
	int i=0;
	for (value in inclid){
	quoteincl = (quoteincl == "") ? quoteincl + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"0\"}" : quoteincl + "," + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"1\"}";
	i++;
	}
	
}else{
	messageExchange.modelItem.testCase.setPropertyValue("excluded","kdfhsdkjsdhfl");
	messageExchange.modelItem.testCase.setPropertyValue("included","kdfhsdkjhhvjsdhfl");
}

String travel_days="";
for( int i=0; i&lt;days.size();i++){
	travel_days = (travel_days == "") ? travel_days + "\""+i+"\":{\"title\":\"fdhghdg\", \"description\":\"gfdhgf\", \"_destroy\":\"false\"}" : travel_days + "," +"\""+i+"\":{\"title\":\"fdhghdg\", \"description\":\"gfdhgf\", \"_destroy\":\"false\"}"; 
}


String hoteldetail = ""; 
if(hotelformenabled){
	String nights="1";
	for (int i=2; i&lt;days.size();i++){
		nights =  nights+","+i
	}

String hotelName = context.expand('${#TestCase#name}');
String cityName = context.expand('${#TestCase#city}');
String cityId = context.expand('${#TestCase#city_id}');
String hotelName1 = context.expand('${#TestCase#name1}');
String cityName1 = context.expand('${#TestCase#city1}');
String cityId1 = context.expand('${#TestCase#city_id1}');
String night = "1";

log.info "hotelName "+hotelName
log.info "hotelName1 "+hotelName1

String hoteinfo  = "\"hotels_info_1\":[{\"alternate_hotel\":\"1\",\"hotel_id\":\"\",\"ta_url\":\"\",\"nights\":\""+night+"\",\"hotel_name\":\""+hotelName1+"\",\"hotel_city_id\":\""+cityId1+"\",\"hotel_city_name\":\""+cityName1+"\",\"hotel_category\":\"\",\"room_type\":\"Standard\",\"comments\":\"test\"}],";
hoteldetail = hoteinfo + "\"hotels_info\":[{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"1\",\"room_type\":\"Standard\",\"hotel_city_id\":\""+cityId+"\",\"hotel_city_name\":\""+cityName+"\",\"hotel_category\":\"\",\"comments\":\"gfdgsgds\"}]";

}else{
	messageExchange.modelItem.testCase.setPropertyValue("hotelnames","kdfhsdkjsdhfl");
}

messageExchange.modelItem.testCase.setPropertyValue("hoteldetail",hoteldetail);
messageExchange.modelItem.testCase.setPropertyValue("quoteincl",quoteincl);
messageExchange.modelItem.testCase.setPropertyValue("traveldays",travel_days);
messageExchange.modelItem.testCase.setPropertyValue("saveinclusions",saveinclusions);</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="0b0c57e5-c085-4489-b1fa-2e90c5d8ce6e" name="Script Assertion 1"><con:configuration><scriptText>import groovy.json.JsonSlurper;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def quoteinclexcl = json_response_holder.quote_incl_excl_info_form_enabled;
def hotelformenabled = json_response_holder.hotel_form_enabled;
def days = json_response_holder.trip_days.day_of_itinerary;
String totaldays = days.size();
messageExchange.modelItem.testCase.setPropertyValue("Totalday",totaldays);
log.info "days " + days
String quoteincl ="";
String saveinclusions = false;
if(quoteinclexcl == true){
	saveinclusions = "true";
	def inclid = json_response_holder.quote_inclusions.id;
	int i=0;
	for (value in inclid){
	quoteincl = (quoteincl == "") ? quoteincl + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"1\"}" : quoteincl + "," + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"0\"}";
	i++;
	}
	
}else{
	messageExchange.modelItem.testCase.setPropertyValue("excluded","testenc");
	messageExchange.modelItem.testCase.setPropertyValue("included","testinc");
}

String travel_days="";
String[] itineraray_title = new String[days.size()];
for( int i=0; i&lt;days.size();i++){
	travel_days = (travel_days == "") ? travel_days + "\""+i+"\":{\"title\":\"test\", \"description\":\"test1\", \"_destroy\":\"false\"}" : travel_days + "," 	+"\""+i+"\":{\"title\":\"test2\", \"description\":\"gfdhgftest\", \"_destroy\":\"false\"}";
}
travel_days = "{" + travel_days + "}"
for (int i=0; i&lt;days.size();i++){
	def jsonSlurper = new JsonSlurper()
	def object = jsonSlurper.parseText(travel_days)
 itineraray_title[i] = object.(i.toString()).title
}
int index = 1;
for(String it_title in itineraray_title){
	messageExchange.modelItem.testCase.setPropertyValue("travel_title_" + index ,it_title);
	index++;
}

String hoteldetail = ""; 
if(hotelformenabled){
	String nights="1";
	for (int i=2; i&lt;days.size();i++){
		nights =  nights+","+i
	}

String hotelName = context.expand('${#TestCase#name}');
String cityName = context.expand('${#TestCase#city}');
String cityId = context.expand('${#TestCase#city_id}');
String hotelName1 = context.expand('${#TestCase#name1}');
String cityName1 = context.expand('${#TestCase#city1}');
String cityId1 = context.expand('${#TestCase#city_id1}');
String roomtype ="Standard";
String roomtype1 = "Super Delux";
String hotelcomments = "hoteltest";
String similarhotelcomments = "similarhoteltest";


String hoteinfo  = "\"hotels_info_1\":[{\"alternate_hotel\":\"0\",\"hotel_id\":\"\",\"ta_url\":\"\",\"nights\":\"\",\"hotel_name\":\"\",\"hotel_city_id\":\"\",\"hotel_city_name\":\"\",\"hotel_category\":\"\",\"room_type\":\"\",\"comments\":\"\"}],";
hoteldetail = hoteinfo + "\"hotels_info\":[{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"0\",\"room_type\":\""+roomtype+"\",\"hotel_city_id\":\""+cityId+"\",\"hotel_city_name\":\""+cityName+"\",\"hotel_category\":\"\",\"comments\":\""+hotelcomments+"\"},{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName1+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"1\",\"room_type\":\""+roomtype1+"\",\"hotel_city_id\":\""+cityId1+"\",\"hotel_city_name\":\""+cityName1+"\",\"hotel_category\":\"\",\"comments\":\""+similarhotelcomments+"\"}]";

messageExchange.modelItem.testCase.setPropertyValue("HotelNights",nights);
messageExchange.modelItem.testCase.setPropertyValue("Hotelname",hotelName);
messageExchange.modelItem.testCase.setPropertyValue("RoomTypes",roomtype);
messageExchange.modelItem.testCase.setPropertyValue("HotelCity",cityName);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelNights",nights);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelname",hotelName1);
messageExchange.modelItem.testCase.setPropertyValue("SimilarRoomTypes",roomtype1);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelCity",cityName1);
messageExchange.modelItem.testCase.setPropertyValue("HotelComment",hotelcomments);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelComment",similarhotelcomments);


}else{
	messageExchange.modelItem.testCase.setPropertyValue("hotelnames","kdfhsdkjsdhfl");
}

messageExchange.modelItem.testCase.setPropertyValue("hoteldetail",hoteldetail);
messageExchange.modelItem.testCase.setPropertyValue("quoteincl",quoteincl);
messageExchange.modelItem.testCase.setPropertyValue("traveldays",travel_days);
messageExchange.modelItem.testCase.setPropertyValue("saveinclusions",saveinclusions);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="requestID" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>requestID</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for give quote" id="bffe5f43-65cf-4357-b911-ca34e5701837"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>drRmYaaFIqBg9YKeV61uCfsvHCqWL6VkyQEMQECPpkA=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/requested_trips/{request_id}/quotes</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email]</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent give the quote" id="155c4d27-05a0-476e-b7e4-504986d988c6"><con:settings/><con:config service="CreateQuote" resourcePath="/api/v4/requested_trips/{RequestID}/quotes" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent give the quote" id="97573402-614a-4768-ad17-b25a06b82056" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="" value=""/>
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"utf8": "?",
	"version": "",
	"should_warnings_override": "false",
	"commit": "SAVE &amp; SEND",
	"quote_match_param": "last",
	"quote": {
		"type_of_trip": "",
		"days": "8",
		"nights": "7",
		"perperson": "per person",
		"currency": "Rupee",
		"flight_cost": "0",
		"included": "${#TestCase#included}",
		"excluded": "${#TestCase#excluded}",
		"visa_cost": "0",
		"price": "${#TestCase#price}",
		"hotels": "${#TestCase#hotelnames}",
		"flights": "${#TestCase#flight}",
		"cabs": "${#TestCase#cabdetail}",
		"terms_conditions": "tnc",
		"quote_inclusions_attributes": {
			${#TestCase#quoteincl}
		},
		"trip_days_attributes": 
		 ${#TestCase#traveldays},
		"description": "hfhg"
	},
	"quote_land_package_cost": "0",
	${#TestCase#hoteldetail},
	"flights_not_included": "true",
	"save_inclusions": "${#TestCase#saveinclusions}",
	"action": "create",
	"controller": "quotes",
	"requested_trip_id": "${#TestCase#request_id}"
}</con:request><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/requested_trips//quotes</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2554d9ab-531a-4960-8de9-34453ebe146d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b195551e-4ae5-4842-8ee3-261a5b8d40f7" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_activate = json_response_holder.is_activate;
def quote_id = json_response_holder.quote_id;
def message = json_response_holder.message;
assert(quote_id != null):"Quote not generated"

log.info quote_id + " " + message
messageExchange.modelItem.testCase.setPropertyValue("quoteid",String.valueOf(quote_id));</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="RequestID" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>security_auth_token</con:entry><con:entry>RequestID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for agent name" id="9dee4c79-b430-4ea4-a215-65014167a3b6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>oSiZ8apFuvNrGspijdUIj4+xhtmMZhgHAwasTHDxL3E=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/users/get_user_name.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent name is fetched" id="527a1578-6a89-4e72-9be9-1358717cd4d7"><con:settings/><con:config service="AgentName" resourcePath="/api/v4/users/get_user_name.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent name is fetched" id="d3654ba6-bb46-4c72-ae39-8d5ac129c109" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/users/get_user_name.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4b1d7e26-cd36-4ca8-8119-bae746bfc27b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="5063d467-8d24-49f0-867c-e6b47831140e" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_activate = json_response_holder.is_activate;
def name = json_response_holder.name;
def message = json_response_holder.message;
assert(name!= null):"Agent name not generated"

log.info name + " " + message
messageExchange.modelItem.testCase.setPropertyValue("agentname",String.valueOf(name));
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="user_id" value="{#TestCase#user_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>request_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2559041</con:value></con:property><con:property><con:name>price</con:name><con:value>5000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">"0":{"id":"","inclusion_id":"21","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"22","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"23","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"24","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"25","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"26","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"27","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"28","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"29","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"30","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"45","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"46","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"47","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"48","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"49","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"50","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"51","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"52","comments_added":"","is_included":"0"},"18":{"id":"","inclusion_id":"488","comments_added":"","is_included":"0"},"19":{"id":"","inclusion_id":"489","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>name</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>city</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>city_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">26320</con:value></con:property><con:property><con:name>user_id</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>destinationID</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">56</con:value></con:property><con:property><con:name>address</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">Chinnakanal, Chinnakkanal, Via Suryanelli</con:value></con:property><con:property><con:name>d_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">621707</con:value></con:property><con:property><con:name>img</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg</con:value></con:property><con:property><con:name>picture</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668459/original/2425569_31_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668460/original/2425569_24_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668461/original/2425569_30_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668462/original/2425569_28_z.jpg</con:value></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708322</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>travel_title_8</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>address1</con:name><con:value>Munnar Town, Temple Road, Munnar</con:value></con:property><con:property><con:name>city1</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>city_id1</con:name><con:value>26320</con:value></con:property><con:property><con:name>d_id1</con:name><con:value>637869</con:value></con:property><con:property><con:name>img1</con:name><con:value>w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668469/original/2794283_31_z.jpg</con:value></con:property><con:property><con:name>picture1</con:name><con:value>w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668469/original/2794283_31_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668470/original/2794283_33_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668471/original/2794283_44_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668472/original/2794283_28_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668473/original/2794283_25_z.jpg</con:value></con:property><con:property><con:name>name1</con:name><con:value>Eastend Munnar</con:value></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Club Mahindra Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Eastend Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>cabsdetail</con:name><con:value>cabstest</con:value></con:property><con:property><con:name>flight</con:name><con:value/></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Eastend Munnar</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>HotelComments</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComments</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property></con:properties></con:testCase><con:testCase id="206a6f97-e840-4b35-8e31-4e8aacc6b69c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ttdemoAgent give a quote" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given agent is loggedin" id="c9a15de9-df70-4929-89c5-b86273200ec2"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>cd1bcdec-f76f-41ee-a0a5-212f7625739c</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTU0YzgxM2E5ZjI1NTlmZTFlOGIwOGEyNzU0YTIyMmJkBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA6ELA0kiIiQyYSQxMCRRdTBBa2ZXRGg1NjlXckFmcHZ3TmplBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--3b38633b5d71750849e8292df285ba4288d7f670; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>199585</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttagentdemo@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the has key for rtrip details" id="a455fc74-a6d7-46a9-88ef-79c5a5da30d5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>7QrlVIZ8vLaiTpuELrZpEpP6Z//jY4myH0RQ9QkXWXo=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>https://${#Project#traveler_apiendpoint}/api/v2/requested_trips/{rtripId}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user get rtrip details" id="91785385-4614-4565-9636-b811e7d15b9f"><con:settings/><con:config service="RtripDetails" resourcePath="/api/{version}/requested_trips/{requestid}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user get rtrip details" id="b966ae25-8657-4c7d-a999-3dff1ed70072" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  <con:entry key="X-Requested-With" value="XMLHttpRequest"/>
  <con:entry key="TT-Mobile" value="${Given agent get the has key for rtrip details#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v2/requested_trips/1903886</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="fc548515-4135-425a-b6ba-c7b9a7332863" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="736acbcc-39d4-4f6d-b461-2d1a9bcb74b1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def destinationID = json_response_holder.destinations.id;

messageExchange.modelItem.testCase.setPropertyValue("destinationID",destinationID[0].toString());</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="requestid" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
  <con:entry key="version" value="v2"/>
</con:parameters><con:parameterOrder><con:entry>version</con:entry><con:entry>security_auth_token</con:entry><con:entry>requestid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given user get destination hotel list" id="53d01dfd-7217-4d2c-8492-fef1ff40c31a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>G0VEalk/t8bUeWOPedtH7LcwHpQyL2lKoHveN74hcjs=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/{destinationId}/destination_hotel_images</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent get destination hotel list" id="c40507d6-af9e-480b-962c-72e9f1a628a1"><con:settings/><con:config service="GetHotelImages" resourcePath="/api/{api_version}/destinations/{destinationId}/destination_hotel_images" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent get destination hotel list" id="4e5c28c8-1409-43eb-8127-653be781edb7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v2/destinations/59/destination_hotel_images</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="73f5c6a3-c7dd-4f3e-b7a1-ee2565a3e15a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ed1aa926-de95-46da-bb14-c0dac98b3c92" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def hotels= json_response_holder.hotel_images;
log.info hotels[0].name;
	messageExchange.modelItem.testCase.setPropertyValue("address",hotels[0].address);
//	messageExchange.modelItem.testCase.setPropertyValue("category",hotel.category);
	messageExchange.modelItem.testCase.setPropertyValue("city",hotels[0].city);
	messageExchange.modelItem.testCase.setPropertyValue("city_id",String.valueOf(hotels[0].city_id));
	messageExchange.modelItem.testCase.setPropertyValue("d_id",String.valueOf(hotels[0].d_id));
	messageExchange.modelItem.testCase.setPropertyValue("img",hotels[0].img);
	messageExchange.modelItem.testCase.setPropertyValue("name",hotels[0].name);
	messageExchange.modelItem.testCase.setPropertyValue("picture",hotels[0].pictures);

	messageExchange.modelItem.testCase.setPropertyValue("address1",hotels[1].address);
//	messageExchange.modelItem.testCase.setPropertyValue("category",hotel.category);
	messageExchange.modelItem.testCase.setPropertyValue("city1",hotels[1].city);
	messageExchange.modelItem.testCase.setPropertyValue("city_id1",String.valueOf(hotels[1].city_id));
	messageExchange.modelItem.testCase.setPropertyValue("d_id1",String.valueOf(hotels[1].d_id));
	messageExchange.modelItem.testCase.setPropertyValue("img1",hotels[1].img);
	messageExchange.modelItem.testCase.setPropertyValue("name1",hotels[1].name);
	messageExchange.modelItem.testCase.setPropertyValue("picture1",hotels[1].pictures);
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="destinationId" value="${#TestCase#destinationID}"/>
  <con:entry key="api_version" value="v2"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>destinationId</con:entry><con:entry>api_version</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then agent open new quote page" id="dd01c41c-8b64-449c-883e-270d17bf1d17"><con:settings/><con:config service="GetNewQuotePage" resourcePath="/api/v4/requested_trips/{requestID}/quotes/new" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent open new quote page" id="ff497c82-7c20-43db-b33b-3450dca6635b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/requested_trips/1903886/quotes/new</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="422aa2c3-448f-4895-bfee-886d65805eb6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9d4e0aa1-66ad-467c-8190-a72fd5bf4107" name="Script Assertion" disabled="true"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def quoteinclexcl = json_response_holder.quote_incl_excl_info_form_enabled;
def hotelformenabled = json_response_holder.hotel_form_enabled;
def days = json_response_holder.trip_days.day_of_itinerary;

log.info "days " + days
String quoteincl ="";
String saveinclusions = false;
if(quoteinclexcl == true){
	saveinclusions = "true";
	def inclid = json_response_holder.quote_inclusions.id;
	int i=0;
	for (value in inclid){
	quoteincl = (quoteincl == "") ? quoteincl + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"0\"}" : quoteincl + "," + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"1\"}";
	i++;
	}
	
}else{
	messageExchange.modelItem.testCase.setPropertyValue("excluded","kdfhsdkjsdhfl");
	messageExchange.modelItem.testCase.setPropertyValue("included","kdfhsdkjhhvjsdhfl");
}

String travel_days="";
for( int i=0; i&lt;days.size();i++){
	travel_days = (travel_days == "") ? travel_days + "\""+i+"\":{\"title\":\"fdhghdg\", \"description\":\"gfdhgf\", \"_destroy\":\"false\"}" : travel_days + "," +"\""+i+"\":{\"title\":\"fdhghdg\", \"description\":\"gfdhgf\", \"_destroy\":\"false\"}"; 
}


String hoteldetail = ""; 
if(hotelformenabled){
	String nights="1";
	for (int i=2; i&lt;days.size();i++){
		nights =  nights+","+i
	}

String hotelName = context.expand('${#TestCase#name}');
String cityName = context.expand('${#TestCase#city}');
String cityId = context.expand('${#TestCase#city_id}');
String hotelName1 = context.expand('${#TestCase#name1}');
String cityName1 = context.expand('${#TestCase#city1}');
String cityId1 = context.expand('${#TestCase#city_id1}');
String night = "1";

log.info "hotelName "+hotelName
log.info "hotelName1 "+hotelName1

String hoteinfo  = "\"hotels_info_1\":[{\"alternate_hotel\":\"1\",\"hotel_id\":\"\",\"ta_url\":\"\",\"nights\":\""+night+"\",\"hotel_name\":\""+hotelName1+"\",\"hotel_city_id\":\""+cityId1+"\",\"hotel_city_name\":\""+cityName1+"\",\"hotel_category\":\"\",\"room_type\":\"Standard\",\"comments\":\"test\"}],";
hoteldetail = hoteinfo + "\"hotels_info\":[{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"1\",\"room_type\":\"Standard\",\"hotel_city_id\":\""+cityId+"\",\"hotel_city_name\":\""+cityName+"\",\"hotel_category\":\"\",\"comments\":\"gfdgsgds\"}]";

}else{
	messageExchange.modelItem.testCase.setPropertyValue("hotelnames","kdfhsdkjsdhfl");
}

messageExchange.modelItem.testCase.setPropertyValue("hoteldetail",hoteldetail);
messageExchange.modelItem.testCase.setPropertyValue("quoteincl",quoteincl);
messageExchange.modelItem.testCase.setPropertyValue("traveldays",travel_days);
messageExchange.modelItem.testCase.setPropertyValue("saveinclusions",saveinclusions);</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="0b0c57e5-c085-4489-b1fa-2e90c5d8ce6e" name="Script Assertion 1"><con:configuration><scriptText>import groovy.json.JsonSlurper;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def quoteinclexcl = json_response_holder.quote_incl_excl_info_form_enabled;
def hotelformenabled = json_response_holder.hotel_form_enabled;
def days = json_response_holder.trip_days.day_of_itinerary;

String totaldays = days.size();
messageExchange.modelItem.testCase.setPropertyValue("Totalday",totaldays);
log.info "days " + days
String quoteincl ="";
String saveinclusions = false;
if(quoteinclexcl == true){
	saveinclusions = "true";
	def inclid = json_response_holder.quote_inclusions.id;
	int i=0;
	for (value in inclid){
	quoteincl = (quoteincl == "") ? quoteincl + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"1\"}" : quoteincl + "," + "\""+i+"\":{\"id\":\"\",\"inclusion_id\":\""+value+"\",\"comments_added\":\"\",\"is_included\":\"0\"}";
	i++;
	}
	
}

else{
	messageExchange.modelItem.testCase.setPropertyValue("excluded","testenc");
	messageExchange.modelItem.testCase.setPropertyValue("included","testinc");
}

def incl = json_response_holder.quote_inclusions.id;

for(int j=1;j&lt;incl.size();j++)
{
def map = [id = incl[j], is_included = 1];
//log.info map;
}
String travel_days="";
String[] itineraray_title = new String[days.size()];
for( int i=0; i&lt;days.size();i++){
	travel_days = (travel_days == "") ? travel_days + "\""+i+"\":{\"title\":\"test\", \"description\":\"test1\", \"_destroy\":\"false\"}" : travel_days + "," 	+"\""+i+"\":{\"title\":\"test2\", \"description\":\"gfdhgftest\", \"_destroy\":\"false\"}";
}
travel_days = "{" + travel_days + "}"
for (int i=0; i&lt;days.size();i++){
	def jsonSlurper = new JsonSlurper()
	def object = jsonSlurper.parseText(travel_days)
 itineraray_title[i] = object.(i.toString()).title
}
int index = 1;
for(String it_title in itineraray_title){
	messageExchange.modelItem.testCase.setPropertyValue("travel_title_" + index ,it_title);
	index++;
}

String hoteldetail = ""; 
if(hotelformenabled){
	String nights="1";
	for (int i=2; i&lt;days.size();i++){
		nights =  nights+","+i
	}

String hotelName = context.expand('${#TestCase#name}');
log.info hotelName;
String cityName = context.expand('${#TestCase#city}');
String cityId = context.expand('${#TestCase#city_id}');
String hotelName1 = context.expand('${#TestCase#name1}');
String cityName1 = context.expand('${#TestCase#city1}');
String cityId1 = context.expand('${#TestCase#city_id1}');
String roomtype ="Standard";
String roomtype1 = "Super Delux";
String hotelcomments = "hoteltest";
String similarhotelcomments = "similarhoteltest";

String hoteinfo  = "\"hotels_info_1\":[{\"alternate_hotel\":\"0\",\"hotel_id\":\"\",\"ta_url\":\"\",\"nights\":\"\",\"hotel_name\":\"\",\"hotel_city_id\":\"\",\"hotel_city_name\":\"\",\"hotel_category\":\"\",\"room_type\":\"\",\"comments\":\"\"}],";
hoteldetail = hoteinfo + "\"hotels_info\":[{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"0\",\"room_type\":\""+roomtype+"\",\"hotel_city_id\":\""+cityId+"\",\"hotel_city_name\":\""+cityName+"\",\"hotel_category\":\"\",\"comments\":\""+hotelcomments+"\"},{\"nights\":\""+nights+"\",\"hotel_name\":\""+hotelName1+"\",\"hotel_id\":\"\",\"hotel_ta_url\":\"\",\"alternate_hotel\":\"1\",\"room_type\":\""+roomtype1+"\",\"hotel_city_id\":\""+cityId1+"\",\"hotel_city_name\":\""+cityName1+"\",\"hotel_category\":\"\",\"comments\":\""+similarhotelcomments+"\"}]";

messageExchange.modelItem.testCase.setPropertyValue("HotelNights",nights);
messageExchange.modelItem.testCase.setPropertyValue("Hotelname",hotelName);
messageExchange.modelItem.testCase.setPropertyValue("RoomTypes",roomtype);
messageExchange.modelItem.testCase.setPropertyValue("HotelCity",cityName);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelNights",nights);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelname",hotelName1);
messageExchange.modelItem.testCase.setPropertyValue("SimilarRoomTypes",roomtype1);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelCity",cityName1);
messageExchange.modelItem.testCase.setPropertyValue("HotelComment",hotelcomments);
messageExchange.modelItem.testCase.setPropertyValue("SimilarHotelComment",similarhotelcomments);

}else{
	messageExchange.modelItem.testCase.setPropertyValue("hotelnames","kdfhsdkjsdhfl");
}

messageExchange.modelItem.testCase.setPropertyValue("hoteldetail",hoteldetail);
messageExchange.modelItem.testCase.setPropertyValue("quoteincl",quoteincl);
messageExchange.modelItem.testCase.setPropertyValue("traveldays",travel_days);
messageExchange.modelItem.testCase.setPropertyValue("saveinclusions",saveinclusions);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="requestID" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>requestID</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for new quote page" id="979d201f-3f3d-423e-9cb0-842beef146a8"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>F6EBpU/Z0fDQwgevGsYmXEODtKVAmThIIrHynVzXuBU=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/requested_trips/{requestID}/quotes/new</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_FAIL</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for give quote" id="a8e97e74-acb9-47d4-b9e1-e1d170f131b3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>drRmYaaFIqBg9YKeV61uCfsvHCqWL6VkyQEMQECPpkA=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/requested_trips/{request_id}/quotes</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email]</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent give the quote" id="f9dcb8f7-5962-4f32-95f3-0b77a820b15f"><con:settings/><con:config service="CreateQuote" resourcePath="/api/v4/requested_trips/{RequestID}/quotes" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent give the quote" id="97573402-614a-4768-ad17-b25a06b82056" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="" value=""/>
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"utf8": "?",
	"version": "",
	"should_warnings_override": "false",
	"commit": "SAVE &amp; SEND",
	"quote_match_param": "last",
	"quote": {
		"type_of_trip": "",
		"days": "8",
		"nights": "7",
		"perperson": "per person",
		"currency": "Rupee",
		"flight_cost": "0",
		"included": "${#TestCase#included}",
		"excluded": "${#TestCase#excluded}",
		"visa_cost": "0",
		"price": "${#TestCase#price}",
		"hotels": "${#TestCase#hotelnames}",
		"flights": "${#TestCase#flight}",
		"cabs": "${#TestCase#cabdetail}",
		"terms_conditions": "tnc",
		"quote_inclusions_attributes": {
			${#TestCase#quoteincl}
		},
		"trip_days_attributes": 
		 ${#TestCase#traveldays},
		"description": "hfhg"
	},
	"quote_land_package_cost": "0",
	${#TestCase#hoteldetail},
	"flights_not_included": "true",
	"save_inclusions": "${#TestCase#saveinclusions}",
	"action": "create",
	"controller": "quotes",
	"requested_trip_id": "${#TestCase#request_id}"
}</con:request><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/requested_trips//quotes</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2554d9ab-531a-4960-8de9-34453ebe146d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b195551e-4ae5-4842-8ee3-261a5b8d40f7" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_activate = json_response_holder.is_activate;
def quote_id = json_response_holder.quote_id;
def message = json_response_holder.message;
assert(quote_id != null):"Quote not generated"

log.info quote_id + " " + message
messageExchange.modelItem.testCase.setPropertyValue("quoteid",String.valueOf(quote_id));</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="RequestID" value="${#TestCase#request_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>security_auth_token</con:entry><con:entry>RequestID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent get the hash key for agent name" id="4b255ad6-a86e-4b13-aaf7-f79905642360"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>oSiZ8apFuvNrGspijdUIj4+xhtmMZhgHAwasTHDxL3E=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/users/get_user_name.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent name is fetched" id="ef8ea133-674f-498c-bcfc-12ca53d43711"><con:settings/><con:config service="AgentName" resourcePath="/api/v4/users/get_user_name.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent name is fetched" id="d3654ba6-bb46-4c72-ae39-8d5ac129c109" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent is loggedin#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa1.ttdev.in/api/v4/users/get_user_name.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4b1d7e26-cd36-4ca8-8119-bae746bfc27b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="5063d467-8d24-49f0-867c-e6b47831140e" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_activate = json_response_holder.is_activate;
def name = json_response_holder.name;
def message = json_response_holder.message;
assert(name!= null):"Agent name not generated"

log.info name + " " + message
messageExchange.modelItem.testCase.setPropertyValue("agentname",String.valueOf(name));
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="user_id" value="{#TestCase#user_id}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>request_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2559037</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">"0":{"id":"","inclusion_id":"21","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"22","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"23","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"24","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"25","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"26","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"27","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"28","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"29","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"30","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"45","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"46","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"47","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"48","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"49","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"50","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"51","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"52","comments_added":"","is_included":"0"},"18":{"id":"","inclusion_id":"488","comments_added":"","is_included":"0"},"19":{"id":"","inclusion_id":"489","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>testinc</con:value></con:property><con:property><con:name>excluded</con:name><con:value>testenc</con:value></con:property><con:property><con:name>city_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">26320</con:value></con:property><con:property><con:name>user_id</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>destinationID</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">56</con:value></con:property><con:property><con:name>address</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">PB. No. 40, 685612 Munnar, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">587488</con:value></con:property><con:property><con:name>img</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg</con:value></con:property><con:property><con:name>picture</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668493/original/3699833.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668494/original/3699824.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668495/original/3699823.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668496/original/3699822.jpg</con:value></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708316</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>travel_title_8</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>img1</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg</con:value></con:property><con:property><con:name>picture1</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668459/original/2425569_31_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668460/original/2425569_24_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668461/original/2425569_30_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668462/original/2425569_28_z.jpg</con:value></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>name</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>address1</con:name><con:value>Chinnakanal, Chinnakkanal, Via Suryanelli</con:value></con:property><con:property><con:name>city1</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>city_id1</con:name><con:value>26320</con:value></con:property><con:property><con:name>d_id1</con:name><con:value>621707</con:value></con:property><con:property><con:name>name1</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Tall Trees","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Club Mahindra Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="ab42b786-ee7a-4926-afae-f78f0a710698" name="Health_Check_Booking_PP_API"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="c204e1b8-2a22-47cc-8f51-d6fe8e4afe17" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Compare_Quote" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="dc7c7f96-7d1c-48b5-9b23-c0b1cd17ce1e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219746958</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219746958</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692785</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219746958@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="c2e309eb-7bf2-4115-a10c-5dab67ae3300"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Europe</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559015-Test1522219746958/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559015</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="52e6ccaa-a26b-4632-a70e-1d2f2ecc3052"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="e472f486-0773-4828-8a8d-ce4984accba7"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26383</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name><con:value>260827</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708296</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name><con:value>Prague 02, Katerinska 36</con:value></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Prague</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry><con:entry>city</con:entry><con:entry>name</con:entry><con:entry>address1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the 2nd quote" id="80949543-a2a3-4211-a9ec-e786322ef6cc"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>604eb85b-2dc9-422d-ad06-10f8d9dccf9a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>5000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>name</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>city</con:name><con:value>Prague</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26221</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Prague 02, Katerinska 36</con:value></con:property><con:property><con:name>d_id</con:name><con:value>651052</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708297</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Budapest City","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26153","hotel_city_name":"Budapest","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>cabsdetail</con:name><con:value>cabstest</con:value></con:property><con:property><con:name>flight</con:name><con:value/></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Prague</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Ibis Budapest City</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Budapest</con:value></con:property><con:property><con:name>HotelComments</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComments</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>hoteldetail</con:entry><con:entry>cabsdetail</con:entry><con:entry>flight</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComments</con:entry><con:entry>SimilarHotelComments</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent login" id="d78c29fc-71e2-4d55-9953-1b6f94000a43"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWRkZDkxYjgzMWZlM2RjYmE0YjQ4MjAxZDNlMzBlYTcyBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--f9e1f55fef864c6ad1983904dcb1fbd535ae9345; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Given agent give inclusions/exclusions of 1st quote" id="4c01a9ac-1e49-49fc-a217-98508f45e257"><con:settings/><con:config service="Inclusion/Exclusion" resourcePath="/api/qa_prods/requested_trips/{request_id}/quotes/{quote_id}/list_quote_incl_excl" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given agent give inclusions/exclusions of 1st quote" id="1b74cd66-10fd-4550-ac3b-c17d2dade66c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/qa_prods/requested_trips/2263994/quotes/4148886/list_quote_incl_excl</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="473062cb-3cd0-42f8-9d23-5fcbbfc1c6e1" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9587f35e-473b-4625-9987-1869e217de39" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String[] arr_inclusions = jsonHolder.list.inclusions;
String[] arr_exclusions = jsonHolder.list.exclusions;
int arrsize_inclusions = arr_inclusions.size();
int arrsize_exclusions = arr_exclusions.size();

for(int i=0; i&lt;arrsize_inclusions; i++)
{
String input_inclusioncategory = jsonHolder.list.inclusions.category[i];
String input_inclusionname = jsonHolder.list.inclusions.name[i];
String inclusion = input_inclusioncategory + ": "+ input_inclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputinclusion1stquote"+i ,inclusion);
}
for(int j=0; j&lt;arrsize_exclusions; j++)
{
String input_exclusioncategory = jsonHolder.list.exclusions.category[j];
String input_exclusionname = jsonHolder.list.exclusions.name[j];
String exclusion = input_exclusioncategory + ": "+ input_exclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputexclusion1stquote"+j ,exclusion);
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Given agent give inclusions/exclusions of 2nd quote" id="bf5228f8-ec7b-4610-90da-cc766007af97"><con:settings/><con:config service="Inclusion/Exclusion" resourcePath="/api/qa_prods/requested_trips/{request_id}/quotes/{quote_id}/list_quote_incl_excl" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given agent give inclusions/exclusions of 2nd quote" id="1b74cd66-10fd-4550-ac3b-c17d2dade66c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/qa_prods/requested_trips/2263994/quotes/4148886/list_quote_incl_excl</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="473062cb-3cd0-42f8-9d23-5fcbbfc1c6e1" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9587f35e-473b-4625-9987-1869e217de39" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String[] arr_inclusions = jsonHolder.list.inclusions;
String[] arr_exclusions = jsonHolder.list.exclusions;
int arrsize_inclusions = arr_inclusions.size();
int arrsize_exclusions = arr_exclusions.size();

for(int i=0; i&lt;arrsize_inclusions; i++)
{
String input_inclusioncategory = jsonHolder.list.inclusions.category[i];
String input_inclusionname = jsonHolder.list.inclusions.name[i];
String inclusion = input_inclusioncategory + ": "+ input_inclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputinclusion2ndquote"+i ,inclusion);
}
for(int j=0; j&lt;arrsize_exclusions; j++)
{
String input_exclusioncategory = jsonHolder.list.exclusions.category[j];
String input_exclusionname = jsonHolder.list.exclusions.name[j];
String exclusion = input_exclusioncategory + ": "+ input_exclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputexclusion2ndquote"+j ,exclusion);
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the 2nd quote#quoteid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="2d633598-1096-4d2e-8b8d-b2aaa3aa07cb"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTYxNzdjNzU3NjU3YmNiYjMwMzg2MDk3ZTZhZGE1NGViBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3HUGUkiIiQyYSQxMCR3RmhTbmhhMXg5ck5MUVVtOFBma3d1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--88835480879f5589da18089736217c31a2dbdfc5; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692785</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219746958@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler view the Compare quote page" id="18e5e47e-4abd-4f11-8699-d534432b656c"><con:settings/><con:config service="CompareQuote" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/quotes" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler view the Compare quote page" id="1b02569a-e02f-4d72-b844-2a271e35ef7f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/bookings/v1/requested_trips/1918555/compare</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4e1cde07-2572-4d45-aaf7-abb93c7a96f8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="32d92e6d-c205-447c-b225-206b583e0bfd" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String quote_id_of_2nd_quote = jsonHolder.data.quotes.id[0];
String quote_id_2nd_quote =context.expand('${Given agent give the 2nd quote#quoteid}');
//log.info quote_id_of_2nd_quote;
//log.info quote_id;
assert quote_id_of_2nd_quote == quote_id_2nd_quote;

String price_of_2nd_quote = jsonHolder.data.quotes.pricing_info.price[0];
String price_2nd_quote =context.expand('${Given agent give the 2nd quote#price}');
assert price_of_2nd_quote == price_2nd_quote;

String cabs_detail_of_2nd_quote = jsonHolder.data.quotes[0].cabs_text;
log.info cabs_detail_of_2nd_quote;
String cabs_detail_2nd_quote = context.expand('${Given agent give the 2nd quote#cabs}');
assert cabs_detail_of_2nd_quote == cabs_detail_2nd_quote;

String flight_detail_of_2nd_quote = jsonHolder.data.quotes[0].flights_text;
String flight_detail_2nd_quote = context.expand('${Given agent give the 2nd quote#flight}');
assert flight_detail_of_2nd_quote == flight_detail_2nd_quote;

String hotelnight = context.expand('${Given agent give the 2nd quote#HotelNights}');
String hotelnames = context.expand('${Given agent give the 2nd quote#Hotelname}');
String hotelroomtype = context.expand('${Given agent give the 2nd quote#RoomTypes}');
String hotelscity = context.expand('${Given agent give the 2nd quote#HotelCity}');
String similarhotelnight = context.expand('${Given agent give the 2nd quote#SimilarHotelNights}');
String similarhotelnames = context.expand('${Given agent give the 2nd quote#SimilarHotelname}');
String similarhotelroomtype = context.expand('${Given agent give the 2nd quote#SimilarRoomTypes}');
String similarhotelscity = context.expand('${Given agent give the 2nd quote#SimilarHotelCity}');
String hotelcomments = context.expand('${Given agent give the 2nd quote#HotelComment}');
String similarhotelcomments = context.expand('${Given agent give the 2nd quote#SimilarHotelComment}');

String hoteldetails = jsonHolder.data.quotes.hotel_text[0];
log.info hoteldetails;
String[] hotels = hoteldetails.split('Same Price Option - ');
log.info hotels[0];
String hotels_details_2nd_quote ="Night " + hotelnight + ", " + hotelnames +", " + hotelscity + ", " + hotelroomtype+","+hotelcomments;
String hotel_of_2nd_quote = hotels[0];
String hotel_detail_of_2nd_quote = hotel_of_2nd_quote.trim();
assert hotels_details_2nd_quote == hotel_detail_of_2nd_quote;

String similar_hotel_of_2nd_quote = hotels[1];
log.info similar_hotel_of_2nd_quote;

String similar_hotels_details_2nd_quote ="Night " + similarhotelnight + ", " + similarhotelnames +", " + similarhotelscity+ ", " + similarhotelroomtype+","+ similarhotelcomments;
log.info similar_hotels_details_2nd_quote
assert similar_hotel_of_2nd_quote == similar_hotels_details_2nd_quote;

String quote_id_of_1st_quote = jsonHolder.data.quotes.id[1];
String quote_id_1st_quote =context.expand('${Given agent give the quote#quoteid}');
//log.info quote_id_of_2nd_quote;
//log.info quote_id;
assert quote_id_of_1st_quote == quote_id_1st_quote;

String price_of_1st_quote = jsonHolder.data.quotes[1].pricing_info.price;
String price_1st_quote =context.expand('${Given agent give the quote#price}');
assert price_of_1st_quote == price_1st_quote;

String cabs_detail_of_1st_quote = jsonHolder.data.quotes.cabs_text[1];
String cabs_detail_1st_quote = context.expand('${Given agent give the quote#cabs}');
assert cabs_detail_of_1st_quote == cabs_detail_1st_quote;

String flight_detail_of_1st_quote = jsonHolder.data.quotes[1].flights_text;
String flight_detail_1st_quote = context.expand('${Given agent give the quote#flight}');
assert flight_detail_of_1st_quote == flight_detail_2nd_quote;

String hotelnight_1stquote = context.expand('${Given agent give the quote#HotelNights}');
String hotelnames_1stquote = context.expand('${Given agent give the quote#Hotelname}');
String hotelroomtype_1stquote = context.expand('${Given agent give the quote#RoomTypes}');
String hotelscity_1stquote = context.expand('${Given agent give the quote#HotelCity}');
String similarhotelnight_1stquote = context.expand('${Given agent give the quote#SimilarHotelNights}');
String similarhotelnames_1stquote = context.expand('${Given agent give the quote#SimilarHotelname}');
String similarhotelroomtype_1stquote = context.expand('${Given agent give the quote#SimilarRoomTypes}');
String similarhotelscity_1stquote = context.expand('${Given agent give the quote#SimilarHotelCity}');
String hotelcomments_1stquote = context.expand('${Given agent give the quote#HotelComment}');
String similarhotelcomments_1stquote = context.expand('${Given agent give the quote#SimilarHotelComment}');

String hoteldetails_1stquote = jsonHolder.data.quotes.hotel_text[1];
log.info hoteldetails_1stquote;
String[] hotels_1stquote = hoteldetails_1stquote.split('Same Price Option - ');
log.info hotels_1stquote[0];
String hotels_details_1stquote ="Night " + hotelnight_1stquote + ", " + hotelnames_1stquote +", " + hotelscity_1stquote + ", " + hotelroomtype_1stquote+","+hotelcomments_1stquote;
String hotel_of_1stquote = hotels_1stquote[0];
String hotel_detail_of_1stquote = hotel_of_1stquote.trim();
assert hotels_details_1stquote == hotel_detail_of_1stquote;

String similar_hotel_of_1stquote = hotels_1stquote[1];
log.info similar_hotel_of_1stquote;

String similar_hotels_details_1stquote ="Night " + similarhotelnight_1stquote + ", " + similarhotelnames_1stquote +", " + similarhotelscity_1stquote+ ", " + similarhotelroomtype_1stquote+","+ similarhotelcomments_1stquote;
log.info similar_hotels_details_1stquote
assert similar_hotel_of_1stquote == similar_hotels_details_1stquote;
String Days = context.expand('${Given agent give the quote#Totalday}');
int totaldays = Days.toInteger();
log.info totaldays;
String[] arrnights = hotelnight_1stquote.split(",");
String totalnights = arrnights.size();
for(int i=0;i&lt;totaldays; i++)
{	
int m = i + 1;
String k = Integer.toString(m);
String Days_iterneray = jsonHolder.data.quotes.itinerary[1].days_information[i].day_of_itinerary;
String city_iternary = jsonHolder.data.quotes.itinerary[1].days_information[i].city_name;
String quotesumarray_1st = "Days " + Days_iterneray +": " + city_iternary;
quotesumarray_1st = quotesumarray_1st.replaceAll('null' , "");

if(arrnights.contains(k))
{	
String summary_1stquote = "Days " + m +": "+hotelscity_1stquote;
assert quotesumarray_1st == summary_1stquote;
}
else
{
String summary_1stquote = "Days " + m +": "
assert quotesumarray_1st == summary_1stquote;
}

}
String[] arrnights_2ndquote = hotelnight.split(",");
String totalnights_2ndquote = arrnights_2ndquote.size();
String Days_2ndquote = context.expand('${Given agent give the 2nd quote#Totalday}');
int totaldays_2ndquote = Days_2ndquote.toInteger();
log.info totaldays_2ndquote;
for(int j=0; j&lt;totaldays_2ndquote; j++)
{	
int n = j + 1;
String q = Integer.toString(n);
String Days_iterneray2nd = jsonHolder.data.quotes.itinerary[0].days_information[j].day_of_itinerary;
String city_iternary2nd = jsonHolder.data.quotes.itinerary[0].days_information[j].city_name;
String quotesumarray_2nd = "Days " + Days_iterneray2nd +": " + city_iternary2nd;
quotesumarray_2nd = quotesumarray_2nd.replaceAll('null' , "");
if(arrnights_2ndquote.contains(q))
{	
String summary_2ndquote = "Days " + n +": "+hotelscity;
assert quotesumarray_2nd == summary_2ndquote;
}
else
{
String summary_2ndquote = "Days " + n +": "
assert quotesumarray_2nd == summary_2ndquote;
}
}</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="5fb312d8-86c9-4a40-af21-a33d20c2247d" name="Script Assertion 1"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String[] opinclusions = jsonHolder.data.quotes[0].inclusions."1";
int arrsize_inc = opinclusions.size();
String[] opexclusions = jsonHolder.data.quotes[0].inclusions."0";
int arrsize_excl = opexclusions.size();
for(int i =0;i&lt;arrsize_inc;i++)
{
String opinclusioncategory = jsonHolder.data.quotes[0].inclusions."1".category[i];
String opinclusionname =jsonHolder.data.quotes[0].inclusions."1".name[i];
String op_inclusion1stquote = opinclusioncategory + ": "+ opinclusionname;
String in_inclusion1stquote = context.expand('${#TestCase#inputexclusion1stquote'+i+'}');
assert op_inclusion1stquote == in_inclusion1stquote;
}
for(int j =0;j&lt;arrsize_excl;j++)
{
String opexclusioncategory = jsonHolder.data.quotes[0].inclusions."0".category[j];
String opexclusionname =jsonHolder.data.quotes[0].inclusions."0".name[j];
String op_exclusion = opexclusioncategory + ": "+ opexclusionname;
String in_exclusion = context.expand('${#TestCase#inputinclusion1stquote'+j+'}');
assert in_exclusion == op_exclusion;
}

String[] opinclusions1 = jsonHolder.data.quotes[1].inclusions."1";
int arrsize_inc1 = opinclusions1.size();
String[] opexclusions1 = jsonHolder.data.quotes[1].inclusions."0";
int arrsize_excl1 = opexclusions1.size();
for(int m =0;m&lt;arrsize_inc1;m++)
{
String opinclusioncategory1 = jsonHolder.data.quotes[0].inclusions."1".category[m];
String opinclusionname1 =jsonHolder.data.quotes[0].inclusions."1".name[m];
String op_inclusion2ndquote = opinclusioncategory1 + ": "+ opinclusionname1;
String in_inclusion2ndquote = context.expand('${#TestCase#inputexclusion2ndquote'+m+'}');
assert op_inclusion2ndquote == in_inclusion2ndquote;
}
for(int n=0;n&lt;arrsize_excl;n++)
{
String opexclusioncategory1 = jsonHolder.data.quotes[0].inclusions."0".category[n];
String opexclusionname1 =jsonHolder.data.quotes[0].inclusions."0".name[n];
String op_exclusion2ndquote = opexclusioncategory1 + ": "+ opexclusionname1;
String in_exclusion2ndquote = context.expand('${#TestCase#inputinclusion2ndquote'+n+'}');
assert in_exclusion2ndquote == op_exclusion2ndquote;
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#requestID}"/>
  <con:entry key="view" value="full"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>request_id</con:entry><con:entry>view</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>inputinclusion0</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion1</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion10</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion12</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion13</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion14</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion15</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion16</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion2</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion3</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion4</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion5</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion6</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion7</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion8</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion9</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion11</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion0</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion1</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion4</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion6</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion7</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion8</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion9</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion10</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion11</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion12</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion13</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion14</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion15</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion16</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion1stquote0</con:name><con:value>Meal plan: Lunch</con:value></con:property><con:property><con:name>inputinclusion1stquote1</con:name><con:value>Meal plan: Dinner</con:value></con:property><con:property><con:name>inputinclusion1stquote2</con:name><con:value>Airport Transfer: Arrival</con:value></con:property><con:property><con:name>inputinclusion1stquote3</con:name><con:value>Airport Transfer: Departure</con:value></con:property><con:property><con:name>inputinclusion1stquote4</con:name><con:value>: Airfare</con:value></con:property><con:property><con:name>inputinclusion1stquote5</con:name><con:value>: Government Taxes/VAT/ Service Charges</con:value></con:property><con:property><con:name>inputinclusion1stquote6</con:name><con:value>: Siteseeing </con:value></con:property><con:property><con:name>inputinclusion1stquote7</con:name><con:value>: Transfers</con:value></con:property><con:property><con:name>inputinclusion1stquote8</con:name><con:value>VISA: Assistance </con:value></con:property><con:property><con:name>inputinclusion1stquote9</con:name><con:value>VISA: fees </con:value></con:property><con:property><con:name>inputinclusion1stquote10</con:name><con:value>: Travel Insurance</con:value></con:property><con:property><con:name>inputinclusion1stquote11</con:name><con:value>: City taxes on hotels</con:value></con:property><con:property><con:name>inputinclusion1stquote12</con:name><con:value>Others: Other Exclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote13</con:name><con:value>: Entry fee charges</con:value></con:property><con:property><con:name>inputinclusion1stquote14</con:name><con:value>: Sightseeing</con:value></con:property><con:property><con:name>inputinclusion1stquote15</con:name><con:value>Others: Other Exclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote16</con:name><con:value>Houseboat Stay: Private Houseboat</con:value></con:property><con:property><con:name>inputexclusion1stquote0</con:name><con:value>Meal plan: Breakfast</con:value></con:property><con:property><con:name>inputexclusion1stquote1</con:name><con:value>Others: Other Inclusions</con:value></con:property><con:property><con:name>inputinclusion2ndquote0</con:name><con:value>Meal plan: Lunch</con:value></con:property><con:property><con:name>inputinclusion2ndquote1</con:name><con:value>Meal plan: Dinner</con:value></con:property><con:property><con:name>inputinclusion2ndquote2</con:name><con:value>Airport Transfer: Arrival</con:value></con:property><con:property><con:name>inputinclusion2ndquote3</con:name><con:value>Airport Transfer: Departure</con:value></con:property><con:property><con:name>inputinclusion2ndquote4</con:name><con:value>: Airfare</con:value></con:property><con:property><con:name>inputinclusion2ndquote5</con:name><con:value>: Government Taxes/VAT/ Service Charges</con:value></con:property><con:property><con:name>inputinclusion2ndquote6</con:name><con:value>: Siteseeing </con:value></con:property><con:property><con:name>inputinclusion2ndquote7</con:name><con:value>: Transfers</con:value></con:property><con:property><con:name>inputinclusion2ndquote8</con:name><con:value>VISA: Assistance </con:value></con:property><con:property><con:name>inputinclusion2ndquote9</con:name><con:value>VISA: fees </con:value></con:property><con:property><con:name>inputinclusion2ndquote10</con:name><con:value>: Travel Insurance</con:value></con:property><con:property><con:name>inputinclusion2ndquote11</con:name><con:value>: City taxes on hotels</con:value></con:property><con:property><con:name>inputinclusion2ndquote12</con:name><con:value>Others: Other Exclusions</con:value></con:property><con:property><con:name>inputinclusion2ndquote13</con:name><con:value>: Entry fee charges</con:value></con:property><con:property><con:name>inputinclusion2ndquote14</con:name><con:value>: Sightseeing</con:value></con:property><con:property><con:name>inputinclusion2ndquote15</con:name><con:value>Others: Other Exclusions</con:value></con:property><con:property><con:name>inputinclusion2ndquote16</con:name><con:value>Houseboat Stay: Private Houseboat</con:value></con:property><con:property><con:name>inputexclusion2ndquote0</con:name><con:value>Meal plan: Breakfast</con:value></con:property><con:property><con:name>inputexclusion2ndquote1</con:name><con:value>Others: Other Inclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote17</con:name><con:value>Houseboat Stay: Sharing Houseboat</con:value></con:property><con:property><con:name>inputinclusion2ndquote17</con:name><con:value>Houseboat Stay: Sharing Houseboat</con:value></con:property></con:properties></con:testCase><con:testCase id="10053c0d-6f32-4ef0-88fb-b0dae777678e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_RL_Showpage" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="fc4c71b6-4ac0-4d2b-bb1b-29dd376973a1"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219771626</con:value></con:property><con:property><con:name>email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>phone</con:name><con:value>2219771626</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692786</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219771626@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="0cb964d6-3ce9-4f32-a90a-deabbcfc8179"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Himachal</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>15 April,2018</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559016-Test1522219771626/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559016</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>trip_days</con:entry><con:entry>start_days</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="04027ded-29a3-4410-a5d9-d57b98856742"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="e56518c6-76c2-4edd-ba4a-258fcb2d9e6e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name></con:property><con:property><con:name>traveldays</con:name></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>20999</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name></con:property><con:property><con:name>d_id</con:name><con:value>297618</con:value></con:property><con:property><con:name>img</con:name><con:value>w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/397635/original/12500342.jpg</con:value></con:property><con:property><con:name>picture</con:name><con:value>w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/397635/original/12500342.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/397643/original/12483610.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/397653/original/12500340.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/397663/original/12500343.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/397670/original/12500338.jpg</con:value></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name></con:property><con:property><con:name>travel_title_3</con:name></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708298</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name><con:value>Manali</con:value></con:property><con:property><con:name>name</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>d_id</con:entry><con:entry>img</con:entry><con:entry>picture</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="75f68f4b-322c-46dc-aae4-a4cafd41a0d0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTIyNTk5ZjA0ZTNjNDNiNzg5NzBlNDEyNDhlNTZhOTAzBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3LUGUkiIiQyYSQxMCRsdDRVQllGdjN3MkhkSWMwSEprdnB1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--7ba43283cae8b1888895c4b5e90bccf9f42e40b7; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692786</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219771626@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user landed to RL" id="219a2bed-7f3b-4837-ba14-a7f05e6cd62c"><con:settings/><con:config service="RequestLandingPage" resourcePath="/bookings/{api_version}/requested_trips/{requested_trip}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user landed to RL" id="02c48a84-955f-4988-9fb5-9fa94d62f32c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="appliccation\json; charset =utf-8;"/>
  &lt;con:entry key="Accept" value="application\json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/bookings/v1/requested_trips/1904453</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="cf93500d-8c06-4498-8fe7-b27918facfa8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7c86f4d9-8d06-4103-b668-2ee1f05b78d8" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String input_tripid = context.expand('${Given traveler create the trip#RequestID}');
String output_tripid = jsonHolder.data.requested_trip.id;
assert input_tripid == output_tripid;

String input_days = context.expand('${Given traveler create the trip#trip_days}');
String output_tripdays = jsonHolder.data.requested_trip.trip_days;
assert input_days == output_tripdays;

String input_toloc = context.expand('${Given traveler create the trip#to_loc}');
String output_toloc = jsonHolder.data.requested_trip.to_loc;
assert input_toloc == output_toloc;

String output_quotecount = jsonHolder.data.requested_trip.quotes_count;
assert output_quotecount == '1';

String output_startdate = jsonHolder.data.requested_trip.start_date;
String input_startdate = context.expand('${Given traveler create the trip#start_date}');
assert output_startdate == input_startdate;

String output_bookinglabel = jsonHolder.data.requested_trip.booking_status_label;
assert output_bookinglabel == "Active";

String output_cabs = jsonHolder.data.requested_trip.exclusive_preferences_values.cabs;
assert output_cabs == "Excluded";

String output_flight = jsonHolder.data.requested_trip.exclusive_preferences_values.flights;
assert output_flight == "Excluded";

String output_hotels = jsonHolder.data.requested_trip.exclusive_preferences_values.hotels;
assert output_hotels == "Excluded";

String output_info = jsonHolder.data.requested_trip.info;
String input_info = context.expand('${Given traveler create the trip#infos}');
assert output_info == input_info;

String output_rtripstatus = jsonHolder.data.requested_trip.status;
assert output_rtripstatus == "Active";

//String output_opsemail = jsonHolder.data.requested_trip.op_details.email;
//assert output_opsemail == "ttprodops@gmail.com";
//
//String output_opsname = jsonHolder.data.requested_trip.op_details.name;
//assert output_opsname == "Ops Tt";

String output_traveleremail = jsonHolder.data.requested_trip.traveler_details.email;
String input_traveleremail = context.expand('${Given traveler signup#emails}');
assert output_traveleremail == input_traveleremail;

String output_travelerid = jsonHolder.data.requested_trip.traveler_details.id;
String input_travelerid = context.expand('${Given traveler signup#UserID}');
assert output_travelerid == input_travelerid;

String output_destination = jsonHolder.data.requested_trip.destinations_list.name;
String input_destination = context.expand('${Given traveler create the trip#to_loc}');
assert output_toloc == input_destination;

String[] output_quoteid = jsonHolder.data.requested_trip.quote_ids;
String input_quoteid = context.expand('${Given agent give the quote#quoteid}');
assert output_quoteid[0] == input_quoteid;</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="view" value="full"/>
  <con:entry key="api_version" value="v1"/>
  <con:entry key="requested_trip" value="${Given traveler create the trip#requestID}"/>
</con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>requested_trip</con:entry><con:entry>view</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="fca1ba07-319a-4ca2-8c6f-a04441fed36a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Reject_Quote" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="0aeb94a6-56f0-4e3f-a3c5-ad2586060fd5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219783405</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219783405</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692787</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219783405@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given user creates the trip" id="ef38b8a2-5894-44d3-84e0-72f713605063"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Europe</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559017-Test1522219783405/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692787</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559017</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>trip_days</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="9119f23f-273b-4b9a-ac02-3ec7a269b176"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given user creates the trip#RequestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="785bdddf-040d-4ceb-90cf-1c7ab1208cdc"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given user creates the trip#RequestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708299</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>hoteldetail</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>address</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="3f6108d0-012b-40eb-9e60-806eec6513c2"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTc2NDBjYmFhZWQ5ZTU0ZDNhZTNhZTRiYjhiNTgzMzVkBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3PUGUkiIiQyYSQxMCRwbUFQLnVmNExNeGV0YU1QWXYuTTJPBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--8f595cd79d5f8704a21843bfdad29837ca3e6ae4; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692787</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219783405@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="f568e577-1f42-4016-b1b9-05702aeefa50"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;


String rejectquotes = context.expand('${#TestCase#reject_reason}');
String rejectquote_textbox = context.expand('${#TestCase#reject_reason_textbox}');
String[] arr_rejectquote = rejectquotes.split(",");


for(i=0; i&lt;6; i++)
{
testRunner.testCase.setPropertyValue("rejectquote", arr_rejectquote[i]);
if(arr_rejectquote[i] == 'Others')
{
testRunner.testCase.setPropertyValue("textbox", rejectquote_textbox);
}
else
{
testRunner.testCase.setPropertyValue("textbox", "");
}
TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler reject the quote");
TestStepResult results = api_teststep.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK)
{
	String[] messages = results.getMessages();
	System.out.println(messages);
}
else
{
	assert true;
}
TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler reactivate the quote");
TestStepResult result = api_teststeps.run(testRunner,context);
if(result.getStatus() != TestStepStatus.OK)
{
	String[] message = result.getMessages();
	System.out.println(message);
}
else
{
	assert true;
}
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler reject the quote" id="94474787-b0e9-4b63-9ad8-ebae630d0eb9" disabled="true"><con:settings/><con:config service="RejectQuote" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/reject_quote" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler reject the quote" id="d9b639e3-4cd5-4cc9-b837-222da6855d4b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"quote": {
		"quote_decline_reason": "${#TestCase#rejectquote}",
		"quote_other_decline_reason": "${#TestCase#textbox}"
	}
}</con:request><con:originalUri>http://frontend.ttdev.in/bookings/v1/requested_trips/2014489/quotes/3667280/reject_quote</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0780f815-2c5a-4e60-a52b-17576d255d80" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e0500452-c957-4aab-bc56-fc2a75ce10ec" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String quote_id_rejected_quote = jsonHolder.data.quote.id;
String quote_id_quotegiven =context.expand('${Given agent give the quote#quoteid}');
log.info quote_id_quotegiven;
log.info quote_id_rejected_quote;
assert quote_id_rejected_quote == quote_id_quotegiven;

String quotestatus = jsonHolder.data.quote.status
log.info quotestatus
assert quotestatus == "declined";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given user creates the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>request_id</con:entry><con:entry>quote_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler reactivate the quote" id="33ea5acb-7266-408e-92a2-970d4d8c12d0" disabled="true"><con:settings/><con:config service="ReactivateQuote" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/reactivate_quote" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler reactivate the quote" id="dc22f9fb-6c84-4227-8ae9-4fae7563f6e1" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://null///bookings/v1/requested_trips/2039232/quotes/3715057/reactivate_quote</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="cffcf90b-96c6-4f99-a961-ae09c893e4e2" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="11c142df-5880-4089-93d5-9272083d71d9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response); 

String quote_id_activated_quote = jsonHolder.data.quote.id;
String quote_id_of_givenquote = context.expand('${Given agent give the quote#quoteid}');
log.info quote_id_activated_quote;
log.info quote_id_of_givenquote;

assert quote_id_activated_quote == quote_id_of_givenquote;

String reactivated_quote_status = jsonHolder.data.quote.status;
log.info reactivated_quote_status;
assert reactivated_quote_status == "active";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given user creates the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>reject_reason</con:name><con:value>1,2,3,4,5,6</con:value></con:property><con:property><con:name>reject_reason_textbox</con:name><con:value>Test</con:value></con:property><con:property><con:name>rejectquote</con:name><con:value>6</con:value></con:property><con:property><con:name>textbox</con:name><con:value/></con:property></con:properties></con:testCase><con:testCase id="b0448a5c-5587-4218-aa5e-50ae45176c3e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Quote_Show_Page" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="11504f7c-5f36-4579-8434-293d199db8d6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219799296</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219799296</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692789</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219799296@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="5d05b808-60a1-49f2-b4bb-dd48b15184e0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Kerala</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>15 April,2018</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559019-Test1522219799296/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692789</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559019</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>trip_days</con:entry><con:entry>start_days</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="09b7cfc3-1318-4bfb-9e12-832fb2f644d2"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="9007f063-e96c-421e-aff7-3469a8927030"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"21","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"22","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"23","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"24","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"25","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"26","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"27","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"28","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"29","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"30","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"45","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"46","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"47","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"48","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"49","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"50","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"51","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"52","comments_added":"","is_included":"0"},"18":{"id":"","inclusion_id":"488","comments_added":"","is_included":"0"},"19":{"id":"","inclusion_id":"489","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26320</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name></con:property><con:property><con:name>d_id</con:name><con:value>587488</con:value></con:property><con:property><con:name>img</con:name><con:value>w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg</con:value></con:property><con:property><con:name>picture</con:name><con:value>w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668493/original/3699833.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668494/original/3699824.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668495/original/3699823.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668496/original/3699822.jpg</con:value></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708300</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name><con:value>w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668459/original/2425569_31_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668460/original/2425569_24_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668461/original/2425569_30_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668462/original/2425569_28_z.jpg</con:value></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>name</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>address1</con:name><con:value>Chinnakanal, Chinnakkanal, Via Suryanelli</con:value></con:property><con:property><con:name>city1</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>city_id1</con:name><con:value>26320</con:value></con:property><con:property><con:name>d_id1</con:name><con:value>621707</con:value></con:property><con:property><con:name>name1</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Tall Trees","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Club Mahindra Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>city_id</con:entry><con:entry>d_id</con:entry><con:entry>img</con:entry><con:entry>picture</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>travel_title_6</con:entry><con:entry>travel_title_7</con:entry><con:entry>picture1</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry><con:entry>city</con:entry><con:entry>name</con:entry><con:entry>address1</con:entry><con:entry>city1</con:entry><con:entry>city_id1</con:entry><con:entry>d_id1</con:entry><con:entry>name1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent login" id="4697fa4d-67b9-4080-a8f1-bf74c6cf3063"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWM5OWIyYzE1ZjgwNGFmZTBkNGM5NDRhYWQ4NGVlZGQ5BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--04c9e3785b99f62a7181def4360277964026efaa; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Given agent give inclusions/exclusions of 1st quote" id="0eda8220-d7c0-457f-92cb-aa6a145f84be"><con:settings/><con:config service="Inclusion/Exclusion" resourcePath="/api/qa_prods/requested_trips/{request_id}/quotes/{quote_id}/list_quote_incl_excl" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given agent give inclusions/exclusions of 1st quote" id="1b74cd66-10fd-4550-ac3b-c17d2dade66c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/qa_prods/requested_trips/2263994/quotes/4148886/list_quote_incl_excl</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="473062cb-3cd0-42f8-9d23-5fcbbfc1c6e1" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9587f35e-473b-4625-9987-1869e217de39" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String[] arr_inclusions = jsonHolder.list.inclusions;
String[] arr_exclusions = jsonHolder.list.exclusions;
int arrsize_inclusions = arr_inclusions.size();
int arrsize_exclusions = arr_exclusions.size();

for(int i=0; i&lt;arrsize_inclusions; i++)
{
String input_inclusioncategory = jsonHolder.list.inclusions.category[i];
String input_inclusionname = jsonHolder.list.inclusions.name[i];
String inclusion = input_inclusioncategory + ": "+ input_inclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputinclusion1stquote"+i ,inclusion);
}
for(int j=0; j&lt;arrsize_exclusions; j++)
{
String input_exclusioncategory = jsonHolder.list.exclusions.category[j];
String input_exclusionname = jsonHolder.list.exclusions.name[j];
String exclusion = input_exclusioncategory + ": "+ input_exclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputexclusion1stquote"+j ,exclusion);
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="1cf68224-3149-4090-a7f7-1cbddbdd0894"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJThmYjhjN2JiNGI3MWJjZTFjZjM4NjE3OWQwNjEwMDQ5BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3XUGUkiIiQyYSQxMCQ0V0Znd2RlVHdWRXdBWmwzSUVHRy4uBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--e5b722b78b6ba749232875760e371115954cf484; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692789</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219799296@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler opens Quote Show Page" id="f668364d-e0f4-48d1-8007-ec59bdea965f"><con:settings/><con:config service="QuoteShowPage" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler opens Quote Show Page" id="d6f84094-d219-451a-884c-2211cf2f578b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="30543fcf-c3e3-4396-a0fe-1cde73142802" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="0ff1a495-d8f1-41c7-867a-5aab038b1c1e" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String quote_id_of_1st_quote = jsonHolder.data.quote.id;
String quote_id_1st_quote =context.expand('${Given agent give the quote#quoteid}');
//log.info quote_id_of_2nd_quote;
//log.info quote_id;
assert quote_id_of_1st_quote == quote_id_1st_quote;

String price_of_1st_quote = jsonHolder.data.quote.pricing_info.price;
String price_1st_quote =context.expand('${Given agent give the quote#price}');
assert price_of_1st_quote == price_1st_quote;

String cabs_detail_of_1st_quote = jsonHolder.data.quote.cabs_text;
String cabs_detail_1st_quote = context.expand('${Given agent give the quote#cabs}');
assert cabs_detail_of_1st_quote == cabs_detail_1st_quote;

String flight_detail_of_1st_quote = jsonHolder.data.quote.flights_text;
String flight_detail_1st_quote = context.expand('${Given agent give the quote#flight}');
assert flight_detail_of_1st_quote == flight_detail_1st_quote;

String hotelnight_1stquote = context.expand('${Given agent give the quote#HotelNights}');
String hotelnames_1stquote = context.expand('${Given agent give the quote#Hotelname}');
String hotelroomtype_1stquote = context.expand('${Given agent give the quote#RoomTypes}');
String hotelscity_1stquote = context.expand('${Given agent give the quote#HotelCity}');
String similarhotelnight_1stquote = context.expand('${Given agent give the quote#SimilarHotelNights}');
String similarhotelnames_1stquote = context.expand('${Given agent give the quote#SimilarHotelname}');
String similarhotelroomtype_1stquote = context.expand('${Given agent give the quote#SimilarRoomTypes}');
String similarhotelscity_1stquote = context.expand('${Given agent give the quote#SimilarHotelCity}');
String hotelcomments_1stquote = context.expand('${Given agent give the quote#HotelComment}');
String similarhotelcomments_1stquote = context.expand('${Given agent give the quote#SimilarHotelComment}');

String hoteldetails_1stquote = jsonHolder.data.quote.hotel_text;
//log.info hoteldetails_1stquote;
String[] hotels_1stquote = hoteldetails_1stquote.split('Same Price Option - ');
//log.info hotels_1stquote[0];
String hotels_details_1stquote ="Night " + hotelnight_1stquote + ", " + hotelnames_1stquote +", " + hotelscity_1stquote + ", " + hotelroomtype_1stquote+","+hotelcomments_1stquote;
String hotel_of_1stquote = hotels_1stquote[0];
String hotel_detail_of_1stquote = hotel_of_1stquote.trim();
assert hotels_details_1stquote == hotel_detail_of_1stquote;

String similar_hotel_of_1stquote = hotels_1stquote[1];
log.info similar_hotel_of_1stquote;

String similar_hotels_details_1stquote ="Night " + similarhotelnight_1stquote + ", " + similarhotelnames_1stquote +", " + similarhotelscity_1stquote+ ", " + similarhotelroomtype_1stquote+","+ similarhotelcomments_1stquote;
log.info similar_hotels_details_1stquote
assert similar_hotel_of_1stquote == similar_hotels_details_1stquote;
String Days = context.expand('${Given agent give the quote#Totalday}');
int totaldays = Days.toInteger();
log.info totaldays;
String[] arrnights = hotelnight_1stquote.split(",");
String totalnights = arrnights.size();
for(int i=0;i&lt;totaldays; i++)
{	
int m = i + 1;
String k = Integer.toString(m);
String Days_iterneray = jsonHolder.data.quote.itinerary.days_information[i].day_of_itinerary;
String city_iternary = jsonHolder.data.quote.itinerary.days_information[i].city_name;
String quotesumarray_1st = "Days " + Days_iterneray +": " + city_iternary;
quotesumarray_1st = quotesumarray_1st.replaceAll('null' , "");

if(arrnights.contains(k))
{	
String summary_1stquote = "Days " + m +": "+hotelscity_1stquote;
assert quotesumarray_1st == summary_1stquote;
}
else
{
String summary_1stquote = "Days " + m +": "
assert quotesumarray_1st == summary_1stquote;
}
}

String[] opinclusions = jsonHolder.data.quote.inclusions."1";
int arrsize_inc = opinclusions.size();
String[] opexclusions = jsonHolder.data.quote.inclusions."0";
int arrsize_excl = opexclusions.size();
for(int i =0;i&lt;arrsize_inc;i++)
{
String opinclusioncategory = jsonHolder.data.quote.inclusions."1".category[i];
String opinclusionname =jsonHolder.data.quote.inclusions."1".name[i];
String op_inclusion1stquote = opinclusioncategory + ": "+ opinclusionname;
String in_inclusion1stquote = context.expand('${#TestCase#inputexclusion1stquote'+i+'}');
assert op_inclusion1stquote == in_inclusion1stquote;
}
for(int j =0;j&lt;arrsize_excl;j++)
{
String opexclusioncategory = jsonHolder.data.quote.inclusions."0".category[j];
String opexclusionname =jsonHolder.data.quote.inclusions."0".name[j];
String op_exclusion = opexclusioncategory + ": "+ opexclusionname;
String in_exclusion = context.expand('${#TestCase#inputinclusion1stquote'+j+'}');
assert in_exclusion == op_exclusion;
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#requestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="view" value="full"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>api_version</con:entry><con:entry>view</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>inputinclusion1stquote0</con:name><con:value>Meal Plan for Houseboat: Lunch</con:value></con:property><con:property><con:name>inputinclusion1stquote1</con:name><con:value>: Airport/ Railway Station Transfers</con:value></con:property><con:property><con:name>inputinclusion1stquote2</con:name><con:value>: Parking/Toll/ Driver Bata/ Fuel cost</con:value></con:property><con:property><con:name>inputinclusion1stquote3</con:name><con:value>: Transfer Cab</con:value></con:property><con:property><con:name>inputinclusion1stquote4</con:name><con:value>: Airfare</con:value></con:property><con:property><con:name>inputinclusion1stquote5</con:name><con:value>: Early check-in &amp; late check-out charges, if any</con:value></con:property><con:property><con:name>inputinclusion1stquote6</con:name><con:value>: Tips/Porterage/Personal expenses</con:value></con:property><con:property><con:name>inputinclusion1stquote7</con:name><con:value>: Honeymoon Inclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote8</con:name><con:value>: Accommodation</con:value></con:property><con:property><con:name>inputinclusion1stquote9</con:name><con:value>Meal Plan for Hotel: Breakfast</con:value></con:property><con:property><con:name>inputinclusion1stquote10</con:name><con:value>Meal Plan for Hotel: Lunch</con:value></con:property><con:property><con:name>inputinclusion1stquote11</con:name><con:value>Meal Plan for Hotel: Dinner</con:value></con:property><con:property><con:name>inputinclusion1stquote12</con:name><con:value>: GST/VAT/ Service Charges</con:value></con:property><con:property><con:name>inputinclusion1stquote13</con:name><con:value>: Entry fee charges</con:value></con:property><con:property><con:name>inputinclusion1stquote14</con:name><con:value>: Sightseeing</con:value></con:property><con:property><con:name>inputinclusion1stquote15</con:name><con:value>Others: Other Exclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote16</con:name><con:value>Houseboat Stay: Private Houseboat</con:value></con:property><con:property><con:name>inputexclusion1stquote0</con:name><con:value>Meal Plan for Houseboat: All Meals</con:value></con:property><con:property><con:name>inputexclusion1stquote1</con:name><con:value>Others: Other Inclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote17</con:name><con:value>Houseboat Stay: Sharing Houseboat</con:value></con:property></con:properties></con:testCase><con:testCase id="d9aa4a19-abd6-4326-b37e-d5c6bdd14f4a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Book_Quote" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="7f4de689-05b0-4e50-b61b-e1d003dc1121"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219811034</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219811034</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692790</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219811034@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="5350ff22-0124-46eb-ba34-e2cbea8f4938"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Europe</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>15 April,2018</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559020-Test1522219811034/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692790</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559020</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>trip_days</con:entry><con:entry>start_days</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="25d6c2fe-b89e-4e65-b963-892e0a40eebb"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="c4416bb0-9fc4-48f3-a8b6-7c872983f730"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26383</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name><con:value>260827</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708301</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_8</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>hoteldetail</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>travel_title_6</con:entry><con:entry>travel_title_7</con:entry><con:entry>travel_title_8</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="a3425bf2-eb85-47fe-b1d0-2e1a4068ab82"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTA5NDU3ZWRkMzMyMGM5YmJkNWU1NzAyZWUzMTIyZTFjBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3bUGUkiIiQyYSQxMCQ1b3Q1ZXFsNnNaYWg2b1dlVTBmWFBPBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--c9892e8828ababace583855cb4cac6a0bc6b1112; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692790</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219811034@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler book the quote" id="1c93a906-1680-4aec-941d-1f2cb9287663"><con:settings/><con:config service="BookNow" methodName="Method 1" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/accept_quote" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler book the quote" id="799b6342-e14d-4eed-bfb9-9846e057d14c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/bookings/v1/requested_trips/%24%7BGiven%20traveler%20create%20the%20trip%23requestID/quotes/3485390/accept_quote</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9dd03ab2-b142-48ff-9979-92a8c38f1328" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="95e740c1-4aea-491e-bb27-662d21140496" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String quote_id_of_chosenquote = jsonHolder.data.quote.id
String quote_id_ofquotegiven = context.expand('${Given agent give the quote#quoteid}');
assert quote_id_of_chosenquote == quote_id_ofquotegiven;

String bookedquotestatus = jsonHolder.data.quote.status;
assert bookedquotestatus == "chosen";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="b6136067-72d1-495c-adfb-8012a69d65f0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Cancel_Trip" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="51d26d6b-e457-4db3-8422-42b7fcb76225"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219820282</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219820282</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692791</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219820282@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="957333eb-2c13-49d6-b56c-2f6a3dab68e5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Kerala</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559021-Test1522219820282/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692791</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559021</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="94abaf38-2aad-4591-80dd-deaa90ccc0b3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="149ebab0-5ced-4874-a0cd-d2467707475d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWM1MWI5YTdlZmExMTI3ZGU1YmY4NzE3NmVmODc2YWRlBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3fUGUkiIiQyYSQxMCR2bHlrd09YMmtxdExsOXl6Q21KaEcuBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--6047245886f57f5c43fc285156eb8f77fe5af19f; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692791</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219820282@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="0b547edb-c54c-498c-86f3-7c263f1ebf35"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;


String mainreason_for_canceltrip = context.expand('${#TestCase#mainreason}');
String subreason_for_canceltrip = context.expand('${#TestCase#subreasons}');
String subreason_for_canceltrip1 = context.expand('${#TestCase#subreason1}')
String subreason_for_canceltrip2 = context.expand('${#TestCase#subreason2}')

String[] arr_mainreason = mainreason_for_canceltrip.split(",");
String[] arr_sub_reason = subreason_for_canceltrip.split(",");
String[] arr_sub_reason1 = subreason_for_canceltrip1.split(",");
String[] arr_sub_reason2 = subreason_for_canceltrip2.split(",");

for(int index = 0; index&lt;3 ; index++)
{ 
	if (arr_mainreason[index] == "Not going cancel my plan")
	{
		for(int i = 0; i&lt;4 ; i++)
		{	
			testRunner.testCase.setPropertyValue("subreason",arr_sub_reason[i]);
			TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler cancel the trip");
			TestStepResult results = api_teststep.run(testRunner,context);
			if(results.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
			TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler reactivate the trip");
			TestStepResult result = api_teststeps.run(testRunner,context);
			if(result.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
		}
    }
	if(arr_mainreason[index] == "Not satisfied with the current quotes")
	{
		for(int j = 0; j&lt;2 ; j++)
		{
			testRunner.testCase.setPropertyValue("subreason",arr_sub_reason1[j]);
			TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler cancel the trip");
			TestStepResult results = api_teststep.run(testRunner,context);
			if(results.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
			TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler reactivate the trip");
			TestStepResult result = api_teststeps.run(testRunner,context);
			if(result.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
		}
	}
	if(arr_mainreason[index] == "Going but not booking on traveltriangle")
	{
		for(int k = 0; k&lt;4 ; k++)
		{
			testRunner.testCase.setPropertyValue("subreason",arr_sub_reason2[k]);
			TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler cancel the trip");
			TestStepResult results = api_teststep.run(testRunner,context);
			if(results.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
				TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler reactivate the trip");
			TestStepResult result = api_teststeps.run(testRunner,context);
			if(result.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
		}
	}

}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler cancel the trip" id="5e4d2f5d-3a5c-4604-8c5d-4ca79050acbb" disabled="true"><con:settings/><con:config service="CancelRequest" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/cancel_request" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler cancel the trip" id="029f5cd8-05eb-4aa9-bd46-55c785a123eb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
  &lt;con:entry key="Accept" value="application/json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{ "cancel_reason": "${#TestCase#mainreason}", 	"reason": "${#TestCase#}", 	"other_reason": "", 	"quote_customization": "", 	"changed_destination_name": ""  }</con:request><con:originalUri>http://frontend.ttdev.in/bookings/v1/requested_trips/1940606/cancel_request</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="42e725fa-589f-4e7b-917d-62ed7cb730e4" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="cbfd2e35-8e84-49ba-b483-c4030b75935c" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String cancelled_tripid = jsonHolder.data.requested_trip.id;
String requestedtrip = context.expand('${Given traveler create the trip#RequestID}');
assert cancelled_tripid == requestedtrip;

String cancelledtrip_quotescount = jsonHolder.data.requested_trip.quotes_count;
assert cancelledtrip_quotescount == "0";

String bookingstatus = jsonHolder.data.requested_trip.booking_status_label;
assert bookingstatus == "Incomplete";</scriptText></con:configuration></con:assertion><con:credentials><con:domain/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#requestID}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler reactivate the trip" id="ed494451-f4d9-48a2-98ac-d1b387dd78ed" disabled="true"><con:settings/><con:config service="ReactivateRequest" resourcePath="/bookings/v1/requested_trips/{request_id}/reactivate_request.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler reactivate the trip" id="aea02b14-b051-4d45-a2ec-57da1d5452de" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://frontend.ttdev.in/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f0005ed8-5a41-48d6-b653-b8c3a88da6ed" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="c9e2f6e5-96e9-4e86-a24a-05bc8e5f4de0" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String cancelled_tripid = jsonHolder.data.requested_trip.id;
String requestedtrip = context.expand('${Given traveler create the trip#RequestID}');
assert cancelled_tripid == requestedtrip;

String cancelledtrip_quotescount = jsonHolder.data.requested_trip.quotes_count;
assert cancelledtrip_quotescount == "0";

String bookingstatus = jsonHolder.data.requested_trip.booking_status_label;
assert bookingstatus == "Active";
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="user_id" value="${Given traveler login#user_id}"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>user_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript/><con:tearDownScript/><con:properties><con:property><con:name>mainreason</con:name><con:value>Not going cancel my plan,Not satisfied with the current quotes,Going but not booking on traveltriangle</con:value></con:property><con:property><con:name>subreason1</con:name><con:value>Need better quality.,Need lower budget.</con:value></con:property><con:property><con:name>subreason2</con:name><con:value>Have better offer/services from some other agent.,Booking myself without an agent.,TravelTriangle quotes didn't meet my requirements.,Didn't receive timely response from TravelTriangle agents.</con:value></con:property><con:property><con:name>subreason3</con:name><con:value>Didn't receive timely response from TravelTriangle agents.</con:value></con:property><con:property><con:name>subreasons</con:name><con:value>Due to personal reasons.,Going somewhere else.,Postponed my trip,Other reason.</con:value></con:property><con:property><con:name>subreason</con:name><con:value>Didn't receive timely response from TravelTriangle agents.</con:value></con:property></con:properties></con:testCase><con:testCase id="7fcca61d-c377-4337-a263-88029fd6bcd5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Cancel_QuotedTrip" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="eea02a9c-45dd-453a-93eb-699f2844b1bc"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219845837</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219845837</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692793</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219845837@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="ea64ed4a-3b77-49fc-9afd-9cbe292e2ffe"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Europe</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559022-Test1522219845837/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692793</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559022</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="5f0f063b-a336-4191-982c-8824155dd37d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="9c8ca8aa-dadc-40c6-b79f-a9d45b3aa59c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26383</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name><con:value>260827</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708302</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>hoteldetail</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the 2nd quote" id="91fabbd8-1c2a-418d-a0a1-826cea3bd7d3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26383</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name><con:value>260827</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708303</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>hoteldetail</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="21c2d379-19a4-4c6c-9491-1faa53e618ff"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWViNDI3ZGI5NGE2MGNmMmMyYzhiMDlmNzNmODhmZDAyBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3nUGUkiIiQyYSQxMCREcmhaVnhVR3VHdDRRY2t0ZlZySXN1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--97ec3e7b15d9ef2d87c9ffcd57495ffc01e9c6c0; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692793</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219845837@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script1" id="b29bd3f1-e315-4117-8ba2-d8ed9dcbbf72"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;


String mainreason_for_canceltrip = context.expand('${#TestCase#mainreason}');
String subreason_for_canceltrip = context.expand('${#TestCase#subreasons}');
String subreason_for_canceltrip1 = context.expand('${#TestCase#subreason1}')
String subreason_for_canceltrip2 = context.expand('${#TestCase#subreason2}')

String[] arr_mainreason = mainreason_for_canceltrip.split(",");
String[] arr_sub_reason = subreason_for_canceltrip.split(",");
String[] arr_sub_reason1 = subreason_for_canceltrip1.split(",");
String[] arr_sub_reason2 = subreason_for_canceltrip2.split(",");

for(int index = 0; index&lt;3 ; index++)
{ 
	if (arr_mainreason[index] == "Not going cancel my plan")
	{
		for(int i = 0; i&lt;4 ; i++)
		{	
			testRunner.testCase.setPropertyValue("subreason",arr_sub_reason[i]);
			TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler cancel the trip");
			TestStepResult results = api_teststep.run(testRunner,context);
			if(results.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
			TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler reactivate the trip");
			TestStepResult result = api_teststeps.run(testRunner,context);
			if(result.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
		}
    }
	if(arr_mainreason[index] == "Not satisfied with the current quotes")
	{
		for(int j = 0; j&lt;2 ; j++)
		{
			testRunner.testCase.setPropertyValue("subreason",arr_sub_reason1[j]);
			TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler cancel the trip");
			TestStepResult results = api_teststep.run(testRunner,context);
			if(results.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
			TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler reactivate the trip");
			TestStepResult result = api_teststeps.run(testRunner,context);
			if(result.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
		}
	}
	if(arr_mainreason[index] == "Going but not booking on traveltriangle")
	{
		for(int k = 0; k&lt;4 ; k++)
		{
			testRunner.testCase.setPropertyValue("subreason",arr_sub_reason2[k]);
			TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler cancel the trip");
			TestStepResult results = api_teststep.run(testRunner,context);
			if(results.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
				TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler reactivate the trip");
			TestStepResult result = api_teststeps.run(testRunner,context);
			if(result.getStatus() != TestStepStatus.OK){
				String[] messages = results.getMessages();
				assert false : messages;
			}
			else{
				assert true;
			}
		}
	}

}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler cancel the trip" id="70ae8f0c-fb6b-499c-9683-225d2d309202" disabled="true"><con:settings/><con:config service="CancelRequest" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/cancel_request" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler cancel the trip" id="029f5cd8-05eb-4aa9-bd46-55c785a123eb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
  &lt;con:entry key="Accept" value="application/json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{ "cancel_reason": "${#TestCase#mainreason}", 	"reason": "${#TestCase#}", 	"other_reason": "", 	"quote_customization": "", 	"changed_destination_name": ""  }</con:request><con:originalUri>http://frontend.ttdev.in/bookings/v1/requested_trips/1940606/cancel_request</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="42e725fa-589f-4e7b-917d-62ed7cb730e4" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f871c5ca-5aa3-4032-9748-cc09a1b22c7a" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String cancelled_tripid = jsonHolder.data.requested_trip.id;
String requestedtrip = context.expand('${Given traveler create the trip#RequestID}');
assert cancelled_tripid == requestedtrip;

String cancelledtrip_quotescount = jsonHolder.data.requested_trip.quotes_count;
assert cancelledtrip_quotescount == "2";

String bookingstatus = jsonHolder.data.requested_trip.booking_status_label;
assert bookingstatus == "Incomplete";
</scriptText></con:configuration></con:assertion><con:credentials><con:domain/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#requestID}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler reactivate the trip" id="0696aac9-1c1e-4ec9-84e9-223519b85961" disabled="true"><con:settings/><con:config service="ReactivateRequest" resourcePath="/bookings/v1/requested_trips/{request_id}/reactivate_request.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler reactivate the trip" id="aea02b14-b051-4d45-a2ec-57da1d5452de" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://frontend.ttdev.in/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f0005ed8-5a41-48d6-b653-b8c3a88da6ed" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ecceeda0-658f-4c23-85d0-f9711b1f1d25" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String cancelled_tripid = jsonHolder.data.requested_trip.id;
String requestedtrip = context.expand('${Given traveler create the trip#RequestID}');
assert cancelled_tripid == requestedtrip;

String cancelledtrip_quotescount = jsonHolder.data.requested_trip.quotes_count;
assert cancelledtrip_quotescount == "2";

String bookingstatus = jsonHolder.data.requested_trip.booking_status_label;
assert bookingstatus == "Active";
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="user_id" value="${Given traveler login#user_id}"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>user_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript/><con:tearDownScript/><con:properties><con:property><con:name>mainreason</con:name><con:value>Not going cancel my plan,Not satisfied with the current quotes,Going but not booking on traveltriangle</con:value></con:property><con:property><con:name>subreason1</con:name><con:value>Need better quality.,Need lower budget.</con:value></con:property><con:property><con:name>subreason2</con:name><con:value>Have better offer/services from some other agent.,Booking myself without an agent.,TravelTriangle quotes didn't meet my requirements.,Didn't receive timely response from TravelTriangle agents.</con:value></con:property><con:property><con:name>subreason3</con:name><con:value>Didn't receive timely response from TravelTriangle agents.</con:value></con:property><con:property><con:name>subreasons</con:name><con:value>Due to personal reasons.,Going somewhere else.,Postponed my trip,Other reason.</con:value></con:property><con:property><con:name>subreason</con:name><con:value>Didn't receive timely response from TravelTriangle agents.</con:value></con:property></con:properties></con:testCase><con:testCase id="a59dd0bc-55a3-49a6-bd17-72b55e760cd1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Edit_Preferences" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="3f97df69-3bad-4deb-a42c-94dacdc6bb03"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219881726</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219881726</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692795</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219881726@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given user creates the trip" id="b93e8493-c7c0-4d74-b614-cebe36b3d29a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Kerala</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559025-Test1522219881726/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692795</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559025</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="be00853a-fd9a-4e8b-8571-fff37998e0b1"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTJjNGI2ZGQzMGE0NDcyZjc1NmQxNWRjYmY2ZDk4YWVlBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3vUGUkiIiQyYSQxMCR0QjdJby8vdExHOW9KOFY0Q3doVUhlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--1aa6fe5f45ab23f095d9f1375dfc71b585d861b6; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692795</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219881726@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler open edit preferences" id="15c361a2-3eed-45b4-b244-586681832f12"><con:settings/><con:config service="EditTripPrefences" resourcePath="/bookings/v1/requested_trips/{request_id}/edit" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler open edit preferences" id="f3c31f40-b650-4fff-ae0f-3086ede7d886" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/bookings/v1/requested_trips/1963467/edit</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="30e00321-5f19-46d8-860e-c4ed3b38310f" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="request_id" value="${Given user creates the trip#RequestID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="93557ccf-f3e7-4c48-b882-31ce1f91ba6e"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;
import java.util.Random;

Random rand = new Random();
String i_will_book_for_edit = context.expand('${#TestCase#iwillbook}');
String[] arr_iwillbook = i_will_book_for_edit.split(",");
int arr_sizebook = arr_iwillbook.size();
int ibook_random_index = rand.nextInt((arr_sizebook - 0)) + 0;
String ibook = arr_iwillbook[ibook_random_index];
testRunner.testCase.setPropertyValue("i_will_book",ibook);

String hotel_needed_for_edit = context.expand('${#TestCase#hotelneeded}');
String hotel_category_for_edit = context.expand('${#TestCase#hotelcategory}');
String[] arr_hotelcategory = hotel_category_for_edit.split(",");
String[] arr_hotelneeded = hotel_needed_for_edit.split(",");
int arr_sizehotelneeded = arr_hotelneeded.size();
int arr_sizehotelcategory = arr_hotelcategory.size();
int hotelneed_random_index = rand.nextInt((arr_sizehotelneeded - 0)) + 0;
int hotelcategory_random_index = rand.nextInt((arr_sizehotelcategory - 0)) + 0;
String hotelrequired = arr_hotelneeded[hotelneed_random_index];
String hotelcategory = arr_hotelcategory[hotelcategory_random_index];
testRunner.testCase.setPropertyValue("hotel_needed",hotelrequired);
if(hotelrequired=="95")
{
testRunner.testCase.setPropertyValue("hotel_category",hotelcategory);
}

String flight_required_for_edit = context.expand('${#TestCase#flightrequired}');
String[] arr_flightrequired = flight_required_for_edit.split(",");
int arr_sizeflightneed = arr_flightrequired.size();
int flightneeded_random_index = rand.nextInt((arr_sizeflightneed - 0)) + 0;
String flightneeded = arr_flightrequired[flightneeded_random_index];
testRunner.testCase.setPropertyValue("flight_required" , flightneeded);

String cab_required_for_edit = context.expand('${#TestCase#cabrequired}');
String user_input_for_cabservices = context.expand('${#TestCase#userinputforcabservices}');
String[] arr_userinputforcabservices = user_input_for_cabservices.split(",");
String[] arr_cabrequired = cab_required_for_edit.split(",");
int arr_sizecab = arr_cabrequired.size();
int cabrequired_random_index = rand.nextInt((arr_sizecab - 0)) + 0;
int arr_sizeuserinput = arr_userinputforcabservices.size();
int userinputforcab_random_index = rand.nextInt((arr_sizeuserinput - 0)) + 0;
String userinputforcab = arr_userinputforcabservices[userinputforcab_random_index];
String cabneeded = arr_cabrequired[cabrequired_random_index];
testRunner.testCase.setPropertyValue("cab_required" ,cabneeded);
if(cabneeded =="99")
{
testRunner.testCase.setPropertyValue("userinput_for_cabservices",userinputforcab);
}

String local_experience_for_edit = context.expand('${#TestCase#localexperience}');
String[] arr_localexperience = local_experience_for_edit.split(",");
int arr_sizelocalexp = arr_localexperience.size();
int localexperience_random_index = rand.nextInt((arr_sizelocalexp - 0)) + 0;
String localexp = arr_localexperience[localexperience_random_index];
testRunner.testCase.setPropertyValue("local_experience",localexp);

TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler update the trip preferences");
TestStepResult results = api_teststep.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK)
{
	String[] messages = results.getMessages();
	System.out.println(messages);
}
else
{
	assert true;
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler update the trip preferences" id="e58b6750-57ba-4a8f-b5d0-262e70c3f596" disabled="true"><con:settings/><con:config service="UpdateTRipPreferences" resourcePath="/bookings/v1/requested_trips/{request_id}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler update the trip preferences" id="823962a0-a88d-4695-af90-85f11c9d984a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"requested_trip": {
		"to_loc": "Goa",
		"from_loc": "New Delhi",
		"trip_days": "4",
		"start_date": "25/11/2017",
		"adult": "3",
		"child": "2",
		"child_age_answers_attributes": {
			"0": {
				"user_input": "",
				"customization_id": "7",
				"option_id": "29",
				"_destroy": "false"
			},
			"1": {
				"user_input": "",
				"customization_id": "7",
				"option_id": "30",
				"_destroy": "false"
			},
			"2": {
				"user_input": "",
				"customization_id": "7",
				"option_id": "31",
				"_destroy": "false"
			}
		},
		"hotel_category_answers_attributes": {
			"0": {
				"option_id": "${#TestCase#hotel_category}",
				"customization_id": "2",
				"_destroy": "false",
				"id": ""
			},
			"1": {
				"option_id": "7",
				"customization_id": "2",
				"_destroy": "false",
				"id": ""
			}
		},
		"hotel_needed_answer_attributes": {
			"option_id": "${#TestCase#hotel_needed}",
			"customization_id": "22",
			"id": ""
		},
		"flight_answer_attributes": {
			"option_id": "${#TestCase#flight_required}",
			"customization_id": "23",
			"id": ""
		},
		"currency": "Rupee",
		"budget_type": "Per Person",
		"other_answers_attributes": {
			"0": {
				"option_id": "${#TestCase#local_experience}",
				"customization_id": "25",
				"id": ""
			},
			"1": {
				"option_id": "${#TestCase#cab_required}",
				"customization_id": "24",
				"id": ""
			},
			"2": {
				"user_input": "${#TestCase#userinput_for_cabservices}",
				"customization_id": "3",
				"option_id": "12",
				"_destroy": "false"
			},
			"3": {
				"option_id": "${#TestCase#i_will_book}",
				"customization_id": "43",
				"id": ""
			}
		},
		"info": "test"
	},
	"commit": "Update Changes",
	"action": "update",
	"controller": "requested_trips",
	"id": "${request_id}"
}</con:request><con:originalUri>https://frontend.ttdev.in/bookings/v1/requested_trips/request_id.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="396efea9-b879-4582-9db8-bf7363388684" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="a2249405-48dd-49f8-8d0e-86aacff6125f" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;
String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String input_iwillbook =context.expand('${#TestCase#i_will_book}');
String input_flightrequired = context.expand('${#TestCase#flight_required}');
String input_hotelneeded = context.expand('${#TestCase#hotel_needed}');
String input_hotelcategory = context.expand('${#TestCase#hotel_category}');
String input_cabrequired = context.expand('${#TestCase#cab_required}');
String input_localexperience = context.expand('${#TestCase#local_experience}');
String input_userinputforcabservices = context.expand('${#TestCase#userinput_for_cabservices}');


String optionid = jsonHolder.data.requested_trip.preferences_data.eligible_answers.option_id;
String optionid_cabservices = jsonHolder.data.requested_trip.preferences_data.eligible_answers.user_input[6]
log.info optionid_cabservices;
String z = optionid.replace("[","");
String y = z.replace("]","");
log.info y;
String[] arr_optionid = y.split(", ");
assert arr_optionid.contains(input_iwillbook);
assert arr_optionid.contains(input_flightrequired);
assert arr_optionid.contains(input_hotelneeded);
assert arr_optionid.contains(input_hotelcategory);
assert arr_optionid.contains(input_cabrequired);
assert arr_optionid.contains(input_localexperience);
assert optionid_cabservices == input_userinputforcabservices;



</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="request_id" value="${Given user creates the trip#RequestID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>iwillbook</con:name><con:value>202,203,204,205</con:value></con:property><con:property><con:name>flightrequired</con:name><con:value>97,98</con:value></con:property><con:property><con:name>cabrequired</con:name><con:value>99,100</con:value></con:property><con:property><con:name>localexperience</con:name><con:value>101,102</con:value></con:property><con:property><con:name>hotelneeded</con:name><con:value>95,96</con:value></con:property><con:property><con:name>i_will_book</con:name><con:value>205</con:value></con:property><con:property><con:name>hotel_needed</con:name><con:value>96</con:value></con:property><con:property><con:name>hotel_category</con:name><con:value>8</con:value></con:property><con:property><con:name>flight_required</con:name><con:value>98</con:value></con:property><con:property><con:name>hotelcategory</con:name><con:value>6,7,8,32</con:value></con:property><con:property><con:name>userinputforcabservices</con:name><con:value>English,Hindi</con:value></con:property><con:property><con:name>cab_required</con:name><con:value>100</con:value></con:property><con:property><con:name>local_experience</con:name><con:value>101</con:value></con:property><con:property><con:name>userinput_for_cabservices</con:name><con:value>Hindi</con:value></con:property></con:properties></con:testCase><con:testCase id="239e0ece-ba88-45da-86ad-30b6e0261fe1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Request_More_Quote" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="bee40616-05e4-4777-8161-4aeded71f189"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219888184</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219888184</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692796</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219888184@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given user creates the trip" id="95975add-b717-452c-b731-482a97d75f92"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Europe</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559026-Test1522219888184/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692796</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559026</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="506b5ee5-259c-4521-9320-44f25d70f4f6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given user creates the trip#RequestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="a46fa1e7-087a-4a01-98ad-444925cf5f0f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given user creates the trip#RequestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>3667280</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>hoteldetail</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>address</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>agentname</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="1a0ebf63-58bf-4fbb-b443-fd203bdfd3b4"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTgyMjIzMWJkZmZmNWRmNDhjMTBjZWYzMGNkYzllNDQyBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3zUGUkiIiQyYSQxMCRCd3pIbVlOTFNieVVTSG1SaW1jNzYuBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--4a633dc26108c227ea8caabdbc217aa110685a58; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692796</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219888184@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="36c5582c-95b4-4e93-82fe-415e7d553e23"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;


String requestmorequote = context.expand('${#TestCase#requestmorequote_reason}');
String othertextbox = context.expand('${#TestCase#Other_reason}');
String[] arr_requestmorequote = requestmorequote.split(",");


for(i=0; i&lt;6; i++)
{
testRunner.testCase.setPropertyValue("requestmorequote", arr_requestmorequote[i]);
if(arr_requestmorequote[i] == '5')
{
testRunner.testCase.setPropertyValue("textbox", othertextbox);
}
else
{
testRunner.testCase.setPropertyValue("textbox", "")
}
TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler click on request more quote");
TestStepResult results = api_teststep.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK)
{
	String[] messages = results.getMessages();
	System.out.println(messages);
}
else
{
	assert true;
}
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler click on request more quote" id="48189ca8-39a1-4e05-8121-73d0503b49f1" disabled="true"><con:settings/><con:config service="RL_RequestMoreQuotes" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/request_more_quotes" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler click on request more quote" id="3b291c3b-b657-47d1-b651-de0dd0e80f1f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/bookings/v1/requested_trips/2014546/request_more_quotes</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6bc40ef9-5f10-49e1-9ad8-d07d4f6d2125" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="33d042bb-f6da-4005-b6be-d2545771631a" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String sucessmessage = jsonHolder.data.message;
log.info sucessmessage;
assert sucessmessage == "Your request is successfully submitted";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="feedback" value="${#TestCase#requestmorequote}"/>
  <con:entry key="request_id" value="${Given user creates the trip#RequestID}"/>
  <con:entry key="other_reason" value="${#TestCase#textbox}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>request_id</con:entry><con:entry>feedback</con:entry><con:entry>other_reason</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>requestmorequote_reason</con:name><con:value>0,1,2,3,4,5</con:value></con:property><con:property><con:name>Other_reason</con:name><con:value>Test</con:value></con:property><con:property><con:name>requestmorequote</con:name><con:value>5</con:value></con:property><con:property><con:name>textbox</con:name><con:value>Test</con:value></con:property></con:properties></con:testCase><con:testCase id="66f77594-a3de-4569-acfc-d3f7343d07ce" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Request_To_Call" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="84bd42f4-f88f-4f5c-91d9-4b4f91bf4d8a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219900057</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219900057</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692797</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219900057@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="9a4d7a79-e1ed-431d-9597-11f6d2dbc37d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Himachal</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559027-Test1522219900057/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692797</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559027</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="0a1f06b6-f963-459d-bfe3-0731da956481"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="11dcd3fa-ecfe-49f1-8c20-58a79066fe7e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"351","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"352","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"353","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"354","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"355","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"356","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"357","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"358","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"359","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"360","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"361","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"362","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"363","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"508","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"509","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"511","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"514","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"515","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>20999</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Left Bank, Aleo, New Manali,, 175131 ManÄli, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>297618</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708305</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_8</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name><con:value>Manali</con:value></con:property><con:property><con:name>name</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Royal Regency","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"The Manali Inn","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>hoteldetail</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>travel_title_6</con:entry><con:entry>travel_title_7</con:entry><con:entry>travel_title_8</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="daa25880-b450-4c1d-99f3-73162196b638"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTZlMGI5YzA4ZmVjZWQ4Yjk4OWYzOGQ2MmQ3Y2NlM2E5BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA33UGUkiIiQyYSQxMCRRMEdqZk5DUlVsYkJ3SVNsd3k2OGwuBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--74715c797ad33bd5493cb5f83107229038f4b986; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692797</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219900057@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then Traveler click on Request to Call" id="700d2914-ba64-492c-9c48-8d3bbb9dd53f"><con:settings/><con:config service="RL_RequestACall" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/request_call_back" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then Traveler click on Request to Call" id="6209180d-62ff-4be1-adb7-ea42829bc8a8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/bookings/v1/requested_trips/2039183/request_call_back</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4bf98d56-06d7-49d2-b6f8-6fc62cae137e" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="21d20ed1-2ca7-452a-822f-b3f52a9c0f22" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String successmessage = jsonHolder.data.message;
log.info successmessage;

assert successmessage == "Thank you for your request,our agent will get in touch with you shortly.";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="42d2a3fd-c437-44eb-942a-62fca9ed12f8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Edit_Contact" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="ddf41d51-e711-41c2-85d7-67e7b8627f22"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219910540</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219910540</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692798</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219910540@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given user creates the trip" id="b857d094-09a8-46ed-81fe-61399fdd89d3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Himachal</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559028-Test1522219910540/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692798</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559028</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="cc565eeb-a053-4217-95f1-0c65065bbe09"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTdmYjRlMjNiMDQzZDA4YjRlZjE3OWQ5MDE4NmUxMTkxBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA37UGUkiIiQyYSQxMCRkTjhlVUZ1RXpSSWQ4Q0ZrVlJOSUVlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--4dee55d78d4902040cd319c59423f02e2aab2188; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692798</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219910540@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="515066a2-833c-403e-ba7b-f2daa9474cad"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import org.apache.commons.lang.RandomStringUtils;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;


String randomNumbers = RandomStringUtils.randomNumeric(9);
String randomNumbers1 = RandomStringUtils.randomNumeric(8);

String phNo = '9'+ randomNumbers;
String phNos = '1' + randomNumbers1;
String AltphNos = '4' + randomNumbers1;
String AltphNo = '8' + randomNumbers;
String randomUserName = RandomStringUtils.randomAlphabetic(4); 
String randomEmail = RandomStringUtils.randomAlphanumeric(5);
String UserName = 'Loreum' + " " + randomUserName;
String Email = randomUserName + '@gmail.com' + ", "+randomEmail+'@gmail.com';

String isdcode = context.expand('${#TestCase#isd_code}');
String[] isdcodes = isdcode.split(",");
for(int i=0;i&lt;isdcodes.size();i++)
{
testRunner.testCase.setPropertyValue("isdcode",isdcodes[i]);	
if(isdcodes[i] == '+91')
{
testRunner.testCase.setPropertyValue("PhoneNo",phNo);
testRunner.testCase.setPropertyValue("AlternateNo" ,AltphNo);
}	
else
{
testRunner.testCase.setPropertyValue("PhoneNo",phNos);
testRunner.testCase.setPropertyValue("AlternateNo" ,AltphNos);
}
testRunner.testCase.setPropertyValue("TravelerName" , UserName);
testRunner.testCase.setPropertyValue("altEmail" , Email);
TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler update the contact");
TestStepResult results = api_teststep.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK){
String[] messages = results.getMessages();
System.out.println(message);
}
else{

assert true;
}
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler update the contact" id="94bbf078-14fc-41e1-bea1-9ddb393e98de" disabled="true"><con:settings/><con:config service="RL_UpdateContact" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/update_user_details" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler update the contact" id="48e3dd94-2ec8-42a4-a3a5-7406fcd6f806" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"first_name": "",
	"last_name": "",
	"phone_no": "${#TestCase#PhoneNo}",
	"user_name": "${#TestCase#TravelerName}",
	"alternate_phone_no": "${#TestCase#AlternateNo}",
	"alternate_emails": "${#TestCase#altEmail}",
	"isd_code": "${#TestCase#isdcode}",
	"isd_code_alt": "${#TestCase#isdcode}"
}</con:request><con:originalUri>http://frontend.ttdev.in/bookings/v1/requested_trips/2039265/update_user_details</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="db39f706-7dc3-4282-8735-725f2b4831ef" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="fd2b7c79-6309-4b66-9149-159e820f314b" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String input_Phoneno = context.expand('${#TestCase#PhoneNo}');
String input_AlernatePhoneno = context.expand('${#TestCase#AlternateNo}');
String input_TravelerName = context.expand('${#TestCase#TravelerName}');
String input_AltEmail = context.expand('${#TestCase#altEmail}');

String output_PhoneNo = jsonHolder.data.requested_trip.primary_phone_no.phone_no;
assert input_Phoneno == output_PhoneNo;

String output_AlernatePhoneno = jsonHolder.data.requested_trip.alternate_phone_no.phone_no;
assert output_AlernatePhoneno == input_AlernatePhoneno;

String output_TravelerName = jsonHolder.data.requested_trip.traveler_details.name;
assert input_TravelerName == output_TravelerName;

String output_AltEmail = jsonHolder.data.requested_trip.alternate_email;
assert output_AltEmail ==input_AltEmail;</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given user creates the trip#RequestID}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>PhoneNo</con:name><con:value>196846581</con:value></con:property><con:property><con:name>AlternateNo</con:name><con:value>496846581</con:value></con:property><con:property><con:name>TravelerName</con:name><con:value>Loreum lDQM</con:value></con:property><con:property><con:name>altEmail</con:name><con:value>lDQM@gmail.com, fH0BC@gmail.com</con:value></con:property><con:property><con:name>isdcode</con:name><con:value>+41</con:value></con:property><con:property><con:name>isd_code</con:name><con:value>+91,+41</con:value></con:property></con:properties></con:testCase><con:testCase id="fd70cf2d-99df-4e3c-b083-a8ea22108434" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_RL_Testimonals" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="546fceed-2f85-417f-85cb-44ae88ff9271"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219914250</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219914250</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692799</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219914250@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="30cc228e-7154-4c09-822d-5ed545629960"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Kerala</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>15 April,2018</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559029-Test1522219914250/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692799</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559029</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="2ba4061b-f606-4720-b0eb-6ff7a88e2857" disabled="true"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="96201eb5-b379-4fbe-89ef-1623b5b4c814" disabled="true"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name></con:property><con:property><con:name>traveldays</con:name></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26828</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name></con:property><con:property><con:name>d_id</con:name><con:value>1197452</con:value></con:property><con:property><con:name>img</con:name><con:value>w_300/http://dknfdeb8v69ms.cloudfront.net/attachments/pictures/507628/original/16436586.jpg</con:value></con:property><con:property><con:name>picture</con:name><con:value>w_630/http://dknfdeb8v69ms.cloudfront.net/attachments/pictures/507628/original/16436586.jpg,w_630/http://dknfdeb8v69ms.cloudfront.net/attachments/pictures/507633/original/16419124.jpg,w_630/http://dknfdeb8v69ms.cloudfront.net/attachments/pictures/507640/original/16436538.jpg,w_630/http://dknfdeb8v69ms.cloudfront.net/attachments/pictures/507646/original/16436546.jpg,w_630/http://dknfdeb8v69ms.cloudfront.net/attachments/pictures/507652/original/16436560.jpg</con:value></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name></con:property><con:property><con:name>travel_title_3</con:name></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4070572</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name></con:property><con:property><con:name>name</con:name></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>d_id</con:entry><con:entry>img</con:entry><con:entry>picture</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="b8b1d1e1-82ee-490d-a2b7-a48bb496b150"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWIzNDllYTJlMmExYWEwNTdmNTdkNzU1ZjI1ZGY5Njc3BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA3%2FUGUkiIiQyYSQxMCRiMG9oZmFPdmEzQzBlRDVVUTlKRWNPBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--8e0db8317e93ddd2e747840273b881c0f0486c84; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692799</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219914250@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler view testimonals" id="dfce5379-4259-4ebb-9dd6-44278b41fbda"><con:settings/><con:config service="Testimonails" resourcePath="/bookings/v1/requested_trips/{request_id}/testimonials" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler view testimonals" id="5b094e94-6814-4249-9275-9679ae0f2a5d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://master.ttdev.in/bookings/v1/requested_trips/2226008/testimonials</con:originalUri><con:assertion type="GroovyScriptAssertion" id="ce0bcd4d-5d4f-48ec-b37c-46dbd5470d0a" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String arrsize = jsonHolder.data.testimonials.size();
int testimonalscount = Integer.parseInt(arrsize)
for(int i=0; i&lt;testimonalscount; i++)
{
String output_testimonialsdestination = jsonHolder.data.testimonials.destination_name[i];
String expected_testimonialdestination = context.expand('${Given traveler create the trip#to_loc}');
assert output_testimonialsdestination == expected_testimonialdestination;
}
</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="0ef3287c-b84d-42b0-8e8b-84acffd49a24" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="request_id" value="${Given traveler create the trip#RequestID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="48ed4de6-34ed-40b6-8200-0b7e838de391" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_BellNotifications" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="d47313ad-d357-4ffa-bff5-142dcf4b914c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219920561</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219920561</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692800</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219920561@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="021bb8fb-5abe-4013-aabe-9ce7ce5ec0b8"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Himachal</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value/></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559030-Test1522219920561/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692800</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559030</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="9a3d7cd5-c61b-4426-8841-0034fde8ee12"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="0711c1a4-4a58-40ba-9366-7d30dd020786"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"351","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"352","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"353","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"354","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"355","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"356","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"357","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"358","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"359","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"360","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"361","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"362","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"363","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"508","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"509","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"511","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"514","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"515","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>20999</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Left Bank, Aleo, New Manali,, 175131 ManÄli, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>297618</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708306</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Manali</con:value></con:property><con:property><con:name>name</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>address1</con:name><con:value>Rangri Manali - 175131
Himachal Pradesh, India</con:value></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Royal Regency","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"The Manali Inn","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>The Manali Inn</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>address1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give invoice" id="0a31a8a7-c625-4ede-b608-6ed21485eeae"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>0c0f6f41-dcaf-4707-a0f9-e1200d5eabae</con:targetTestCase><con:properties><con:property><con:name>quoteId</con:name><con:value>${Given agent give the quote#quoteid}</con:value></con:property><con:property><con:name>agentID</con:name><con:value>759117</con:value></con:property><con:property><con:name>invoiceID</con:name><con:value>4708306-2559030</con:value></con:property><con:property><con:name>invoiceTravellerFullName</con:name><con:value>Test1522219920561</con:value></con:property><con:property><con:name>invoiceTravellerPhnNo</con:name><con:value/></con:property><con:property><con:name>invoiceAgentEarning</con:name><con:value>3704.8</con:value></con:property><con:property><con:name>requestedTripID</con:name><con:value>${Given traveler create the trip#RequestID}</con:value></con:property><con:property><con:name>invoiceDiscount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceDiscountTraveller</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceFlightAmount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceVisaCost</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceTTComission</con:name><con:value>295.2</con:value></con:property><con:property><con:name>invoiceVoucherDays</con:name><con:value>3</con:value></con:property><con:property><con:name>invoiceTOC</con:name><con:value>null</con:value></con:property><con:property><con:name>invoiceTripDetails</con:name><con:value>Name: Test1522219920561
Adult(s): 0
Child: 0
Destination: Himachal
</con:value></con:property><con:property><con:name>invoiceEmail</con:name><con:value>ttprodagent@gmail.com</con:value></con:property><con:property><con:name>invoicePhoneNumber</con:name><con:value>8977636376</con:value></con:property><con:property><con:name>invoiceAddress</con:name><con:value>abc, delhi, new delhi, India - 110069</con:value></con:property><con:property><con:name>paymentsAttributesID</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTraveler</con:name><con:value>4000.0</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTravelerCurrency</con:name><con:value>Rupee</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceScheduleDate</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDestroy</con:name><con:value>false</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceStatus</con:name><con:value>Scheduled</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceUserID</con:name><con:value>759117</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMethod</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTDR</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoicePG</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMode</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTravelerActual</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDescription</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceIsEditable</con:name><con:value>true</con:value></con:property><con:property><con:name>agentCommision</con:name><con:value>7.38</con:value></con:property><con:property><con:name>todayDate</con:name><con:value>2018-03-28</con:value></con:property><con:property><con:name>selectPayment</con:name><con:value>1</con:value></con:property><con:property><con:name>deliverablesAgent</con:name><con:value>1</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>user_password</con:name><con:value>${#Project#agent_user_password}</con:value></con:property><con:property><con:name>traveler_apiendpoint</con:name><con:value>${#Project#traveler_apiendpoint}</con:value></con:property><con:property><con:name>invoicecfee</con:name><con:value>null</con:value></con:property></con:properties><con:returnProperties><con:entry>agentID</con:entry><con:entry>invoiceID</con:entry><con:entry>invoiceTravellerFullName</con:entry><con:entry>invoiceTravellerPhnNo</con:entry><con:entry>invoiceAgentEarning</con:entry><con:entry>invoiceDiscount</con:entry><con:entry>invoiceDiscountTraveller</con:entry><con:entry>invoiceFlightAmount</con:entry><con:entry>invoiceVisaCost</con:entry><con:entry>invoiceTTComission</con:entry><con:entry>invoiceVoucherDays</con:entry><con:entry>invoiceTOC</con:entry><con:entry>invoiceTripDetails</con:entry><con:entry>invoiceEmail</con:entry><con:entry>invoicePhoneNumber</con:entry><con:entry>invoiceAddress</con:entry><con:entry>paymentsAttributesID</con:entry><con:entry>paymentsAttributesFromTraveler</con:entry><con:entry>paymentsAttributesInvoiceTravelerCurrency</con:entry><con:entry>paymentsAttributesInvoiceScheduleDate</con:entry><con:entry>paymentsAttributesInvoiceDestroy</con:entry><con:entry>paymentsAttributesInvoiceStatus</con:entry><con:entry>paymentsAttributesInvoiceUserID</con:entry><con:entry>paymentsAttributesInvoiceMethod</con:entry><con:entry>paymentsAttributesInvoiceTDR</con:entry><con:entry>paymentsAttributesInvoicePG</con:entry><con:entry>paymentsAttributesInvoiceMode</con:entry><con:entry>paymentsAttributesFromTravelerActual</con:entry><con:entry>paymentsAttributesInvoiceDescription</con:entry><con:entry>paymentsAttributesInvoiceIsEditable</con:entry><con:entry>agentCommision</con:entry><con:entry>todayDate</con:entry><con:entry>selectPayment</con:entry><con:entry>deliverablesAgent</con:entry><con:entry>invoicecfee</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="f931c219-458d-459e-b402-4a0974b7e773"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTRkNGFmMjU3YWRkNjllZTA2M2FlN2YyNDNkNWJkNGNiBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA%2BEPF0kiIiQyYSQxMCRlLktWTzJBMFN2WW8xa3dJYWJGMDNPBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--8df7bbd99b1e72a3a08f9f0a61f4448ad91f2179; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1511393</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum@mailinator.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Given trip is marked converted" id="5e12d359-1bd7-42fc-ab22-b04b93471624"><con:settings/><con:config service="ConvertTrip" resourcePath="/api/qa_prods/requested_trips/{request_id}/mark_trip_converted" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given trip is marked converted" id="578128d2-3e26-442d-8e0a-55c9f3a5d706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://bookings-qa2.ttdev.in/api/qa_prods/requested_trips/2223385/mark_trip_converted</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="514de5f6-972e-4acc-9b13-94c72427d0d3" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="17d14a77-3435-4136-945c-eb549d832034" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String message = jsonHolder.message;
assert message == 'true';</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler click on Bell Notification" id="789abcc7-109a-4a8c-a875-38e8919287ea"><con:settings/><con:config service="BellNotifications" resourcePath="/bookings/{api_version}/users/{user_id}/notifications" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler click on Bell Notification" id="1fbe6b95-3781-4667-88a8-7bee9ed04e06" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://master.ttdev.in/bookings/v1/users/953268/notifications</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b1e74c42-df1e-4194-9d12-be789824f605" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="user_id" value="${Given traveler create the trip#UserID}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="af40b22c-6f9a-4fd9-b1ef-9502ee82c381" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Reject_Quote_After_Invoice_Creation" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="7d6d7aa7-38ce-4b17-bc72-3ca5407acaf7"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219932556</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219932556</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692801</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219932556@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="067fc674-0a2a-4610-bbd3-5059115bf86b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Kerala</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>15 April,2018</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559031-Test1522219932556/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692801</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559031</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="671c1980-a686-4e68-a1b7-6f5ac6ee39da"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#RequestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="b2cb0c09-5aeb-4543-8015-a36b4e32d767"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name></con:property><con:property><con:name>request_type</con:name></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#RequestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"21","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"22","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"23","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"24","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"25","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"26","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"27","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"28","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"29","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"30","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"45","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"46","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"47","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"48","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"49","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"50","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"51","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"52","comments_added":"","is_included":"0"},"18":{"id":"","inclusion_id":"488","comments_added":"","is_included":"0"},"19":{"id":"","inclusion_id":"489","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26320</con:value></con:property><con:property><con:name>user_id</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>destinationID</con:name><con:value>56</con:value></con:property><con:property><con:name>address</con:name><con:value>PB. No. 40, 685612 Munnar, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>587488</con:value></con:property><con:property><con:name>img</con:name><con:value>w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg</con:value></con:property><con:property><con:name>picture</con:name><con:value>w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668493/original/3699833.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668494/original/3699824.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668495/original/3699823.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668496/original/3699822.jpg</con:value></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name></con:property><con:property><con:name>travel_title_4</con:name></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708307</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_8</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>img1</con:name><con:value>w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg</con:value></con:property><con:property><con:name>picture1</con:name><con:value>w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668459/original/2425569_31_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668460/original/2425569_24_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668461/original/2425569_30_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668462/original/2425569_28_z.jpg</con:value></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>name</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>address1</con:name><con:value>Chinnakanal, Chinnakkanal, Via Suryanelli</con:value></con:property><con:property><con:name>city1</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>city_id1</con:name><con:value>26320</con:value></con:property><con:property><con:name>d_id1</con:name><con:value>621707</con:value></con:property><con:property><con:name>name1</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Tall Trees","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Club Mahindra Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>user_id</con:entry><con:entry>destinationID</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>img</con:entry><con:entry>picture</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>travel_title_6</con:entry><con:entry>travel_title_7</con:entry><con:entry>travel_title_8</con:entry><con:entry>address1</con:entry><con:entry>city1</con:entry><con:entry>city_id1</con:entry><con:entry>d_id1</con:entry><con:entry>img1</con:entry><con:entry>picture1</con:entry><con:entry>name1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent create invoice" id="ce10dc5f-1e4f-4d3b-8c54-43085838770b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>0c0f6f41-dcaf-4707-a0f9-e1200d5eabae</con:targetTestCase><con:properties><con:property><con:name>quoteId</con:name><con:value>${Given agent give the quote#quoteid}</con:value></con:property><con:property><con:name>agentID</con:name><con:value>759117</con:value></con:property><con:property><con:name>invoiceID</con:name><con:value>4708307-2559031</con:value></con:property><con:property><con:name>invoiceTravellerFullName</con:name><con:value>Test1522219932556</con:value></con:property><con:property><con:name>invoiceTravellerPhnNo</con:name><con:value/></con:property><con:property><con:name>invoiceAgentEarning</con:name><con:value>3700.0</con:value></con:property><con:property><con:name>requestedTripID</con:name><con:value>${Given traveler create the trip#RequestID}</con:value></con:property><con:property><con:name>invoiceDiscount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceDiscountTraveller</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceFlightAmount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceVisaCost</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceTTComission</con:name><con:value>300.0</con:value></con:property><con:property><con:name>invoiceVoucherDays</con:name><con:value>3</con:value></con:property><con:property><con:name>invoiceTOC</con:name><con:value>null</con:value></con:property><con:property><con:name>invoiceTripDetails</con:name><con:value>Name: Test1522219932556
Adult(s): 0
Child: 0
Destination: Kerala
</con:value></con:property><con:property><con:name>invoiceEmail</con:name><con:value>ttprodagent@gmail.com</con:value></con:property><con:property><con:name>invoicePhoneNumber</con:name><con:value>8977636376</con:value></con:property><con:property><con:name>invoiceAddress</con:name><con:value>abc, delhi, new delhi, India - 110069</con:value></con:property><con:property><con:name>paymentsAttributesID</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTraveler</con:name><con:value>4000.0</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTravelerCurrency</con:name><con:value>Rupee</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceScheduleDate</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDestroy</con:name><con:value>false</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceStatus</con:name><con:value>Scheduled</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceUserID</con:name><con:value>759117</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMethod</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTDR</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoicePG</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMode</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTravelerActual</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDescription</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceIsEditable</con:name><con:value>true</con:value></con:property><con:property><con:name>agentCommision</con:name><con:value>7.5</con:value></con:property><con:property><con:name>todayDate</con:name><con:value>2018-03-28</con:value></con:property><con:property><con:name>selectPayment</con:name><con:value>1</con:value></con:property><con:property><con:name>deliverablesAgent</con:name><con:value>1</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>user_password</con:name><con:value>${#Project#agent_user_password}</con:value></con:property><con:property><con:name>traveler_apiendpoint</con:name><con:value>${#Project#traveler_apiendpoint}</con:value></con:property><con:property><con:name>invoicecfee</con:name><con:value>null</con:value></con:property></con:properties><con:returnProperties><con:entry>agentID</con:entry><con:entry>invoiceID</con:entry><con:entry>invoiceTravellerFullName</con:entry><con:entry>invoiceTravellerPhnNo</con:entry><con:entry>invoiceAgentEarning</con:entry><con:entry>invoiceDiscount</con:entry><con:entry>invoiceDiscountTraveller</con:entry><con:entry>invoiceFlightAmount</con:entry><con:entry>invoiceVisaCost</con:entry><con:entry>invoiceTTComission</con:entry><con:entry>invoiceVoucherDays</con:entry><con:entry>invoiceTOC</con:entry><con:entry>invoiceTripDetails</con:entry><con:entry>invoiceEmail</con:entry><con:entry>invoicePhoneNumber</con:entry><con:entry>invoiceAddress</con:entry><con:entry>paymentsAttributesID</con:entry><con:entry>paymentsAttributesFromTraveler</con:entry><con:entry>paymentsAttributesInvoiceTravelerCurrency</con:entry><con:entry>paymentsAttributesInvoiceScheduleDate</con:entry><con:entry>paymentsAttributesInvoiceDestroy</con:entry><con:entry>paymentsAttributesInvoiceStatus</con:entry><con:entry>paymentsAttributesInvoiceUserID</con:entry><con:entry>paymentsAttributesInvoiceMethod</con:entry><con:entry>paymentsAttributesInvoiceTDR</con:entry><con:entry>paymentsAttributesInvoicePG</con:entry><con:entry>paymentsAttributesInvoiceMode</con:entry><con:entry>paymentsAttributesFromTravelerActual</con:entry><con:entry>paymentsAttributesInvoiceDescription</con:entry><con:entry>paymentsAttributesInvoiceIsEditable</con:entry><con:entry>agentCommision</con:entry><con:entry>todayDate</con:entry><con:entry>selectPayment</con:entry><con:entry>deliverablesAgent</con:entry><con:entry>invoicecfee</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="35d29fa5-d774-4ee7-9454-cb90b4b37ac2"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWE5MTE5NTllYWY0YTdmYzZhZmU0NGJjZDEyNDI2YThkBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA%2FgPF0kiIiQyYSQxMCRqeHV4b25mRklLajFtTll6YVZVZ3YuBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--2d68102cda7d5afc2e94fa5d2009acf6d5dec822; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1511416</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1515414105603@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="572d09c1-607f-4ae6-b0a4-f45d20b19d31"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;


String rejectquotes = context.expand('${#TestCase#reject_reason}');
String rejectquote_textbox = context.expand('${#TestCase#reject_reason_textbox}');
String[] arr_rejectquote = rejectquotes.split(",");


for(i=0; i&lt;6; i++)
{
testRunner.testCase.setPropertyValue("rejectquote", arr_rejectquote[i]);
if(arr_rejectquote[i] == 'Others')
{
testRunner.testCase.setPropertyValue("textbox", rejectquote_textbox);
}
else
{
testRunner.testCase.setPropertyValue("textbox", "");
}
TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler reject the quote");
TestStepResult results = api_teststep.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK)
{
	String[] messages = results.getMessages();
	System.out.println(messages);
}
else
{
	assert true;
}
TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler reactivate the quote");
TestStepResult result = api_teststeps.run(testRunner,context);
if(result.getStatus() != TestStepStatus.OK)
{
	String[] message = result.getMessages();
	System.out.println(message);
}
else
{
	assert true;
}
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler reject the quote" id="8208f66f-6a69-440d-a6b0-1525421451bb" disabled="true"><con:settings/><con:config service="RejectQuote" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/reject_quote" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler reject the quote" id="d9b639e3-4cd5-4cc9-b837-222da6855d4b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"quote": {
		"quote_decline_reason": "${#TestCase#rejectquote}",
		"quote_other_decline_reason": "${#TestCase#textbox}"
	}
}</con:request><con:originalUri>http://frontend.ttdev.in/bookings/v1/requested_trips/2014489/quotes/3667280/reject_quote</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0780f815-2c5a-4e60-a52b-17576d255d80" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e0500452-c957-4aab-bc56-fc2a75ce10ec" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String quote_id_rejected_quote = jsonHolder.data.quote.id;
String quote_id_quotegiven =context.expand('${Given agent give the quote#quoteid}');
log.info quote_id_quotegiven;
log.info quote_id_rejected_quote;
assert quote_id_rejected_quote == quote_id_quotegiven;

String quotestatus = jsonHolder.data.quote.status
log.info quotestatus
assert quotestatus == "declined";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>request_id</con:entry><con:entry>quote_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler reactivate the quote" id="01cb6c96-7da5-4aa3-b056-571d9d9a4027" disabled="true"><con:settings/><con:config service="ReactivateQuote" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/reactivate_quote" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler reactivate the quote" id="dc22f9fb-6c84-4227-8ae9-4fae7563f6e1" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://null///bookings/v1/requested_trips/2039232/quotes/3715057/reactivate_quote</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="cffcf90b-96c6-4f99-a961-ae09c893e4e2" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="11c142df-5880-4089-93d5-9272083d71d9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response); 

String quote_id_activated_quote = jsonHolder.data.quote.id;
String quote_id_of_givenquote = context.expand('${Given agent give the quote#quoteid}');
log.info quote_id_activated_quote;
log.info quote_id_of_givenquote;

assert quote_id_activated_quote == quote_id_of_givenquote;

String reactivated_quote_status = jsonHolder.data.quote.status;
log.info reactivated_quote_status;
assert reactivated_quote_status == "active";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>reject_reason</con:name><con:value>1,2,3,4,5,6</con:value></con:property><con:property><con:name>reject_reason_textbox</con:name><con:value>Test</con:value></con:property><con:property><con:name>rejectquote</con:name><con:value>6</con:value></con:property><con:property><con:name>textbox</con:name><con:value/></con:property></con:properties></con:testCase><con:testCase id="c1459476-7676-4438-8673-7adff157135c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_QD_Request_Call_Back" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="bac6da56-22e7-4c01-b62e-4751966b3f1e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219946253</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219946253</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692802</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219946253@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="4e2e6323-9bcc-4818-ae15-9c66559dc29c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Himachal</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559032-Test1522219946253/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692802</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559032</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="f072c9af-e748-4112-993e-833fcf9f862e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="57f88277-678f-4d79-b2d8-cefae6198521"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"351","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"352","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"353","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"354","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"355","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"356","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"357","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"358","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"359","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"360","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"361","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"362","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"363","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"508","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"509","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"511","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"514","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"515","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>20999</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Left Bank, Aleo, New Manali,, 175131 ManÄli, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>297618</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708308</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Manali</con:value></con:property><con:property><con:name>name</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>address1</con:name><con:value>Rangri Manali - 175131
Himachal Pradesh, India</con:value></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Royal Regency","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"The Manali Inn","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>The Manali Inn</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>address1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="dbfce74d-a355-4e3e-81bb-afc4da03970b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTY2ZWE2ZGQzMzBlNzdlZTQ2YzBlZjZlMDFjNDZjZDM5BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA4LUGUkiIiQyYSQxMCRtYjNjS2VVZVZuQ0FLM1NyOFBaSVJ1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--347273f6c6eb0a7caee46101312b60889674ddef; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692802</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219946253@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="680559e6-6c37-442b-a26d-69717b715915"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;

String reject_quote_optionid = context.expand('${#TestCase#optionid}');
String[] arr_optionid = reject_quote_optionid.split(',');


for(int i = 0; i&lt;4 ; i++)
{	
testRunner.testCase.setPropertyValue("option_id",arr_optionid[i]);
if(arr_optionid[i] == '4')
{
String othertext = "test";
testRunner.testCase.setPropertyValue("textbox", othertext);
}
TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler request a call back");
TestStepResult results = api_teststep.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK){
String[] messages = results.getMessages();
System.out.println(messages);
}
else{
assert true;
}
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler request a call back" id="708a3844-14be-48fd-8830-cc582e367565" disabled="true"><con:settings/><con:config service="QD_RequestACall" resourcePath="/bookings/v1/requested_trips/{request_id}/quotes/{quote_id}/request_call_back" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler request a call back" id="a1ed1f68-0d6f-4b83-9ae8-72bfdbfbcf0c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application\json; charset =utf-8;"/>
  &lt;con:entry key="Accept" value="application\json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"option": "request_cta_${#TestCase#option_id}",
	"request_cta_4_reason": "${#TestCase#textbox}"
}</con:request><con:originalUri>http://master.ttdev.in/bookings/v1/requested_trips/2238178/quotes/4099507/request_call_back</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9b31c364-a2f9-4dd7-b6c1-01dc82b1c4c4" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="6a8fb5e8-b5ba-4265-889b-a7e2662f29d6" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response); 

String quote_id_activated_quote = jsonHolder.data.message;

assert quote_id_activated_quote == "Thank you for your request,our agent will get in touch with you shortly.";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>optionid</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>option_id</con:name><con:value>4</con:value></con:property><con:property><con:name>textbox</con:name><con:value>test</con:value></con:property></con:properties></con:testCase><con:testCase id="d269356c-6264-4272-8418-cfcec6aee775" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_TravelerChat" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="37538f83-f732-4810-978b-4935139d232a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219960089</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219960089</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692803</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219960089@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="e1635af4-ee01-4789-9dcf-8580a9d8e40c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Himachal</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559033-Test1522219960089/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692803</con:value></con:property><con:property><con:name>start_date</con:name></con:property><con:property><con:name>RequestID</con:name><con:value>2559033</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="c9f51fa6-9ea0-4fba-adc5-f79d7d8ee841"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="df443866-9eb7-47e6-82f7-73104011d201"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"351","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"352","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"353","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"354","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"355","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"356","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"357","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"358","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"359","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"360","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"361","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"362","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"363","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"508","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"509","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"511","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"514","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"515","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>20999</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Left Bank, Aleo, New Manali,, 175131 ManÄli, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>297618</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708309</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Manali</con:value></con:property><con:property><con:name>name</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>address1</con:name><con:value>Rangri Manali - 175131
Himachal Pradesh, India</con:value></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Royal Regency","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"The Manali Inn","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>The Manali Inn</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>address1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the 2nd quote" id="e7e710e5-fa87-4710-9a2c-57237be3af58"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>604eb85b-2dc9-422d-ad06-10f8d9dccf9a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>5000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"351","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"352","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"353","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"354","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"355","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"356","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"357","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"358","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"359","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"360","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"361","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"362","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"363","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"508","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"509","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"511","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"514","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"515","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>name</con:name><con:value>The Manali Inn</con:value></con:property><con:property><con:name>city</con:name><con:value>Manali</con:value></con:property><con:property><con:name>city_id</con:name><con:value>20999</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Rangri Manali - 175131
Himachal Pradesh, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>735449</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708310</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"The Manali Inn","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Spring Valley Resort","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26399","hotel_city_name":"Dharamshala","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>cabsdetail</con:name><con:value>cabstest</con:value></con:property><con:property><con:name>flight</con:name><con:value/></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>The Manali Inn</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Spring Valley Resort</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Dharamshala</con:value></con:property><con:property><con:name>HotelComments</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComments</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>hoteldetail</con:entry><con:entry>cabsdetail</con:entry><con:entry>flight</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComments</con:entry><con:entry>SimilarHotelComments</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="696c43ac-1762-477d-a3fc-9f69438406ab"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWQ3NmI5Zjg0ZjMwNjA2MDJmZDU3YTlmNmRmMjgwNmRjBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA4PUGUkiIiQyYSQxMCQwRkdTSmpvZmhtaEhtL2FyaEFTZm1PBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--435ea190e70ed0de6d27d43ad287fd6e3bb8dc76; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692803</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219960089@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler post comment in chatbox" id="771f3155-d060-4cc4-9a78-c792c4e897a6"><con:settings/><con:config service="TravelerChat" resourcePath="/bookings/v1/requested_trips/{rtrip_id}/quotes/{quote_id}/comments" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler post comment in chatbox" id="977a147c-fc4e-4f00-b073-11407e41ab69" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"user_platform": "${#TestCase#userplatform}",
	"comment": {
		"title": "${#TestCase#chattitle}",
		"comment": "${#TestCase#chatcomment}",
		"attachments_attributes": {
			"0": {
				"desc": "dsf",
				"file": ""
			}
		}
	}
}</con:request><con:originalUri>http://null///bookings/v1/requested_trips/2238181/quotes/4099510/comments</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="687d4a53-6d14-4dc5-a57c-5de9ed48a1c6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="2876dce1-d9ba-4fae-8455-4209e14db0eb" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String output_title = jsonHolder.data.title;
String output_comment = jsonHolder.data.comment;
String output_email = jsonHolder.data.email;
String output_userrole = jsonHolder.data.user_role;
String output_userid = jsonHolder.data.user_id;

String input_title = context.expand('${#TestCase#chattitle}');
String input_chatcomment = context.expand('${#TestCase#chatcomment}');
String input_platform = context.expand('${#TestCase#userplatform}');
String titles = input_title + '#'+ input_platform;
String input_email = context.expand('${Given traveler login#traveler_email}');
String input_userid = context.expand('${Given traveler login#user_id}');

assert input_chatcomment == output_comment;
assert titles == output_title;
assert input_email == output_email;
assert output_userrole == 'traveller';
assert output_userid == input_userid;

</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="rtrip_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>chattitle</con:name><con:value>hello</con:value></con:property><con:property><con:name>chatcomment</con:name><con:value>test</con:value></con:property><con:property><con:name>userplatform</con:name><con:value>Not_mobile</con:value></con:property></con:properties></con:testCase><con:testCase id="59ced70e-99b7-4991-afd3-bde67209afdd" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Book_Quote_After_Invoice _Creation" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="c086ffb4-8c71-4045-b87b-c2ef360c2250"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219975004</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219975004</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692804</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219975004@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="7113eeb1-6cee-469a-b171-433b76cde546"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Europe</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559034-Test1522219975004/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692804</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559034</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="68e4f13c-1839-4f4a-acc6-ea1da5a101a3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="cf61194e-7258-4be8-94da-acb6f210a926"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26383</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name><con:value>260827</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708311</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_8</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name></con:property><con:property><con:name>flight</con:name></con:property><con:property><con:name>Totalday</con:name></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name></con:property><con:property><con:name>Hotelname</con:name></con:property><con:property><con:name>RoomTypes</con:name></con:property><con:property><con:name>HotelCity</con:name></con:property><con:property><con:name>SimilarHotelNights</con:name></con:property><con:property><con:name>SimilarHotelname</con:name></con:property><con:property><con:name>SimilarRoomTypes</con:name></con:property><con:property><con:name>SimilarHotelCity</con:name></con:property><con:property><con:name>HotelComment</con:name></con:property><con:property><con:name>SimilarHotelComment</con:name></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>hoteldetail</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>travel_title_6</con:entry><con:entry>travel_title_7</con:entry><con:entry>travel_title_8</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give invoice" id="3efad7aa-dc6f-41b4-8217-214fa5075238"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>0c0f6f41-dcaf-4707-a0f9-e1200d5eabae</con:targetTestCase><con:properties><con:property><con:name>quoteId</con:name><con:value>${Given agent give the quote#quoteid}</con:value></con:property><con:property><con:name>agentID</con:name><con:value>759117</con:value></con:property><con:property><con:name>invoiceID</con:name><con:value>4708311-2559034</con:value></con:property><con:property><con:name>invoiceTravellerFullName</con:name><con:value>Test1522219975004</con:value></con:property><con:property><con:name>invoiceTravellerPhnNo</con:name><con:value>null</con:value></con:property><con:property><con:name>invoiceAgentEarning</con:name><con:value>3764.0</con:value></con:property><con:property><con:name>requestedTripID</con:name><con:value>${Given traveler create the trip#RequestID}</con:value></con:property><con:property><con:name>invoiceDiscount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceDiscountTraveller</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceFlightAmount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceVisaCost</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceTTComission</con:name><con:value>236.0</con:value></con:property><con:property><con:name>invoiceVoucherDays</con:name><con:value>3</con:value></con:property><con:property><con:name>invoiceTOC</con:name><con:value>null</con:value></con:property><con:property><con:name>invoiceTripDetails</con:name><con:value>Name: Test1522219975004
Adult(s): 0
Child: 0
Destination: Europe
</con:value></con:property><con:property><con:name>invoiceEmail</con:name><con:value>ttprodagent@gmail.com</con:value></con:property><con:property><con:name>invoicePhoneNumber</con:name><con:value>8977636376</con:value></con:property><con:property><con:name>invoiceAddress</con:name><con:value>abc, delhi, new delhi, India - 110069</con:value></con:property><con:property><con:name>paymentsAttributesID</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTraveler</con:name><con:value>4000.0</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTravelerCurrency</con:name><con:value>Rupee</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceScheduleDate</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDestroy</con:name><con:value>false</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceStatus</con:name><con:value>Scheduled</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceUserID</con:name><con:value>759117</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMethod</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTDR</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoicePG</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMode</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTravelerActual</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDescription</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceIsEditable</con:name><con:value>true</con:value></con:property><con:property><con:name>agentCommision</con:name><con:value>5.9</con:value></con:property><con:property><con:name>todayDate</con:name><con:value>2018-03-28</con:value></con:property><con:property><con:name>selectPayment</con:name><con:value>1</con:value></con:property><con:property><con:name>deliverablesAgent</con:name><con:value>1</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>user_password</con:name><con:value>${#Project#agent_user_password}</con:value></con:property><con:property><con:name>traveler_apiendpoint</con:name><con:value>${#Project#traveler_apiendpoint}</con:value></con:property><con:property><con:name>invoicecfee</con:name><con:value>null</con:value></con:property></con:properties><con:returnProperties><con:entry>agentID</con:entry><con:entry>invoiceID</con:entry><con:entry>invoiceTravellerFullName</con:entry><con:entry>invoiceTravellerPhnNo</con:entry><con:entry>invoiceAgentEarning</con:entry><con:entry>invoiceDiscount</con:entry><con:entry>invoiceDiscountTraveller</con:entry><con:entry>invoiceFlightAmount</con:entry><con:entry>invoiceVisaCost</con:entry><con:entry>invoiceTTComission</con:entry><con:entry>invoiceVoucherDays</con:entry><con:entry>invoiceTOC</con:entry><con:entry>invoiceTripDetails</con:entry><con:entry>invoiceEmail</con:entry><con:entry>invoicePhoneNumber</con:entry><con:entry>invoiceAddress</con:entry><con:entry>paymentsAttributesID</con:entry><con:entry>paymentsAttributesFromTraveler</con:entry><con:entry>paymentsAttributesInvoiceTravelerCurrency</con:entry><con:entry>paymentsAttributesInvoiceScheduleDate</con:entry><con:entry>paymentsAttributesInvoiceDestroy</con:entry><con:entry>paymentsAttributesInvoiceStatus</con:entry><con:entry>paymentsAttributesInvoiceUserID</con:entry><con:entry>paymentsAttributesInvoiceMethod</con:entry><con:entry>paymentsAttributesInvoiceTDR</con:entry><con:entry>paymentsAttributesInvoicePG</con:entry><con:entry>paymentsAttributesInvoiceMode</con:entry><con:entry>paymentsAttributesFromTravelerActual</con:entry><con:entry>paymentsAttributesInvoiceDescription</con:entry><con:entry>paymentsAttributesInvoiceIsEditable</con:entry><con:entry>agentCommision</con:entry><con:entry>todayDate</con:entry><con:entry>selectPayment</con:entry><con:entry>deliverablesAgent</con:entry><con:entry>invoicecfee</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="209a4e99-0f93-4b07-95d0-6cb586e9837c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWNlN2EzYzgwMjhiM2QwZjM2ZDZjNGZhZjIzMTIxZmFmBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA%2FsPF0kiIiQyYSQxMCRBbzdORnUyWldZOEhGbGI2NGJJZTJ1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--edb4c65975c7b79916e0dfe7978dc07240487edc; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1511419</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1515414161340@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler book the quote" id="aa4770fc-b61d-4c36-9cbb-e52a489d8d5c"><con:settings/><con:config service="BookNow" methodName="Method 1" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/quotes/{quote_id}/accept_quote" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler book the quote" id="799b6342-e14d-4eed-bfb9-9846e057d14c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://frontend.ttdev.in/bookings/v1/requested_trips/%24%7BGiven%20traveler%20create%20the%20trip%23requestID/quotes/3485390/accept_quote</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9dd03ab2-b142-48ff-9979-92a8c38f1328" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="95e740c1-4aea-491e-bb27-662d21140496" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String quote_id_of_chosenquote = jsonHolder.data.quote.id
String quote_id_ofquotegiven = context.expand('${Given agent give the quote#quoteid}');
assert quote_id_of_chosenquote == quote_id_ofquotegiven;

String bookedquotestatus = jsonHolder.data.quote.status;
assert bookedquotestatus == "chosen";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="846afc3b-f8a9-462a-ba5d-d6773a964e50" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_TravelerChatHistory" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="7e13f490-72b0-425f-833e-0a2fd71b508f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522219985800</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2219985800</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692805</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522219985800@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="7f3d2441-9e17-424c-b586-a3fc162f36b0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Europe</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559035-Test1522219985800/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692805</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559035</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="8c897198-1d0b-4b79-9eae-f34d5df900c6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="97471465-cfab-45a6-953d-d71633186d4f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26383</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name><con:value>260827</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708313</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name><con:value>Prague 02, Katerinska 36</con:value></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Prague</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>address1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the 2nd quote" id="94fc31c6-8e53-4239-a72d-8d9072b18065"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>604eb85b-2dc9-422d-ad06-10f8d9dccf9a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>5000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>name</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>city</con:name><con:value>Prague</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26221</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Prague 02, Katerinska 36</con:value></con:property><con:property><con:name>d_id</con:name><con:value>651052</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708314</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Budapest City","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26153","hotel_city_name":"Budapest","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>cabsdetail</con:name><con:value>cabstest</con:value></con:property><con:property><con:name>flight</con:name><con:value/></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Prague</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Ibis Budapest City</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Budapest</con:value></con:property><con:property><con:name>HotelComments</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComments</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>hoteldetail</con:entry><con:entry>cabsdetail</con:entry><con:entry>flight</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComments</con:entry><con:entry>SimilarHotelComments</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="b5ac59e9-de98-48b0-9d04-02471199fd61"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTYxZjNhNjA1ZmFhZWRiMGRmZmE5ODdiMmIwZjIyYTE2BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA4XUGUkiIiQyYSQxMCRta1c4UHgyMWZYbGF2NXEubmlQVC5lBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--ae2138c36d73ea680a24b5578d1eb4f7bd068e08; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692805</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522219985800@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="d13b7761-40dc-4f06-b208-30427febe0ba"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;

String chat_comment = context.expand('${#TestCase#comment}');

String chat_title = context.expand('${#TestCase#title}');
String[] arr_comment = chat_comment.split(",");
String[] arr_title = chat_title.split(",");

for(int i=0;i&lt;4;i++)
{

testRunner.testCase.setPropertyValue("inputchattitle",arr_title[i]);	
testRunner.testCase.setPropertyValue("inputchatcomment",arr_comment[i]);
TestStep api_teststep = testRunner.testCase.getTestStepByName("Then traveler post comment in chatbox");
TestStepResult results = api_teststep.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK){
String[] messages = results.getMessages();
System.out.println(messages);
}
else{
assert true;
}
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler post comment in chatbox" id="ee8021e7-7943-465e-9753-11c1886f0306" disabled="true"><con:settings/><con:config service="TravelerChat" resourcePath="/bookings/v1/requested_trips/{rtrip_id}/quotes/{quote_id}/comments" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler post comment in chatbox" id="977a147c-fc4e-4f00-b073-11407e41ab69" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json;"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"user_platform": "${#TestCase#userplatform}",
	"comment": {
		"title": "${#TestCase#inputchattitle}",
		"comment": "${#TestCase#inputchatcomment}",
		"attachments_attributes": {
			"0": {
				"desc": "dsf",
				"file": ""
			}
		}
	}
}</con:request><con:originalUri>http://null///bookings/v1/requested_trips/2238181/quotes/4099510/comments</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="687d4a53-6d14-4dc5-a57c-5de9ed48a1c6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="2876dce1-d9ba-4fae-8455-4209e14db0eb" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String output_title = jsonHolder.data.title;
String output_comment = jsonHolder.data.comment;
String output_email = jsonHolder.data.email;
String output_userrole = jsonHolder.data.user_role;
String output_userid = jsonHolder.data.user_id;

String input_title = context.expand('${#TestCase#inputchattitle}');
String input_chatcomment = context.expand('${#TestCase#inputchatcomment}');
String input_platform = context.expand('${#TestCase#userplatform}');
String titles = input_title + '#'+ input_platform;
String input_email = context.expand('${Given traveler login#traveler_email}');
String input_userid = context.expand('${Given traveler login#user_id}');

assert input_chatcomment == output_comment;
assert titles == output_title;
assert input_email == output_email;
assert output_userrole == 'traveller';
assert output_userid == input_userid;

</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="rtrip_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler view the chat history" id="88fec8d1-dca9-45f6-8bbb-b9806ffa43ec"><con:settings/><con:config service="TravelerChatHistory" resourcePath="/bookings/v1/requested_trips/{rtrip_id}/quotes/{quote_id}/comments" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler view the chat history" id="b062f4f6-b2fc-44a7-bcab-192c9923ba40" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa2.ttdev.in/bookings/v1/requested_trips/2247371/quotes/4116902/comments</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5879ac3d-81a1-4ce5-ae89-43388d4f1baf" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="6e65f738-ae9e-46a2-8f87-86fb14967f1e" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String totalcomment = jsonHolder.data.total_comments;
assert totalcomment == '4';
String comments = context.expand('${#TestCase#comment}');
String titles = context.expand('${#TestCase#title}');
String platform = context.expand('${#TestCase#userplatform}');
String input_email = context.expand('${Given traveler login#traveler_email}');
String input_userid = context.expand('${Given traveler login#user_id}');
String userplatform = "#"+platform
String[] input_comments = comments.split(",");
String[] input_titles = titles.split(",");
for(int i =0; i&lt;4; i++)
{
String output_comment = jsonHolder.data.comments.comment[i];
String title = jsonHolder.data.comments.title[i];
String output_title= title.replace(userplatform , "");
String output_platform = title.replace(output_title,"");
String output_email = jsonHolder.data.comments.email[i];
String output_userrole = jsonHolder.data.comments.user_role[i];
String output_userid = jsonHolder.data.comments.user_id[i];
input_comments.contains(output_comment);
input_titles.contains(output_title);
assert userplatform == output_platform;
assert input_email == output_email;
assert output_userrole == 'traveller';
assert output_userid == input_userid;
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="rtrip_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>userplatform</con:name><con:value>Not_mobile</con:value></con:property><con:property><con:name>title</con:name><con:value>hi,hello,testhi,test1hello</con:value></con:property><con:property><con:name>comment</con:name><con:value>test,test1,test2,test3</con:value></con:property><con:property><con:name>inputchattitle</con:name><con:value>test1hello</con:value></con:property><con:property><con:name>inputchatcomment</con:name><con:value>test3</con:value></con:property></con:properties></con:testCase><con:testCase id="00f7ce75-227b-4687-b7e4-6696cb7b6abb" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Trip_Feedback" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="40d1d716-8cba-49f6-9164-cc2ddd10422e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522220000791</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2220000791</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692806</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522220000791@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="d02d83a6-af86-4a36-9018-1043f018680a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Kerala</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>15 April,2018</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559037-Test1522220000791/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692806</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559037</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="bb9fd4b0-c319-4c12-94a6-3ff2401e8bc5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#RequestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="aa1f1212-bfbf-4009-9351-d3b4078ce332"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;


for(int i=0;i&lt;1;i++)
{
TestStep api_teststep = testRunner.testCase.getTestStepByName("Given agent give the quote");
TestStepResult results = api_teststep.run(testRunner,context);
}</script></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="52e9facd-5993-4a9b-b5e7-5a346920d955"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>206a6f97-e840-4b35-8e31-4e8aacc6b69c</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name></con:property><con:property><con:name>request_type</con:name></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#RequestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"21","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"22","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"23","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"24","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"25","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"26","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"27","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"28","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"29","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"30","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"45","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"46","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"47","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"48","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"49","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"50","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"51","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"52","comments_added":"","is_included":"0"},"18":{"id":"","inclusion_id":"488","comments_added":"","is_included":"0"},"19":{"id":"","inclusion_id":"489","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>testinc</con:value></con:property><con:property><con:name>excluded</con:name><con:value>testenc</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26320</con:value></con:property><con:property><con:name>user_id</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>destinationID</con:name><con:value>56</con:value></con:property><con:property><con:name>address</con:name><con:value>PB. No. 40, 685612 Munnar, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>587488</con:value></con:property><con:property><con:name>img</con:name><con:value>w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg</con:value></con:property><con:property><con:name>picture</con:name><con:value>w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668492/original/3699808.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668493/original/3699833.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668494/original/3699824.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668495/original/3699823.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668496/original/3699822.jpg</con:value></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name></con:property><con:property><con:name>travel_title_4</con:name></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708316</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_7</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>travel_title_8</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>img1</con:name><con:value>w_300/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg</con:value></con:property><con:property><con:name>picture1</con:name><con:value>w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668458/original/2425569_33_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668459/original/2425569_31_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668460/original/2425569_24_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668461/original/2425569_30_z.jpg,w_630/http://d2ly56lqom12n0.cloudfront.net/attachments/pictures/668462/original/2425569_28_z.jpg</con:value></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>name</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>address1</con:name><con:value>Chinnakanal, Chinnakkanal, Via Suryanelli</con:value></con:property><con:property><con:name>city1</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>city_id1</con:name><con:value>26320</con:value></con:property><con:property><con:name>d_id1</con:name><con:value>621707</con:value></con:property><con:property><con:name>name1</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Tall Trees","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Club Mahindra Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>city_id</con:entry><con:entry>user_id</con:entry><con:entry>destinationID</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>img</con:entry><con:entry>picture</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>travel_title_6</con:entry><con:entry>travel_title_7</con:entry><con:entry>travel_title_8</con:entry><con:entry>img1</con:entry><con:entry>picture1</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry><con:entry>city</con:entry><con:entry>name</con:entry><con:entry>address1</con:entry><con:entry>city1</con:entry><con:entry>city_id1</con:entry><con:entry>d_id1</con:entry><con:entry>name1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent create invoice" id="3286086a-8e66-4060-9a54-a9c84aa0f850"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>0c0f6f41-dcaf-4707-a0f9-e1200d5eabae</con:targetTestCase><con:properties><con:property><con:name>quoteId</con:name><con:value>${Given agent give the quote#quoteid}</con:value></con:property><con:property><con:name>agentID</con:name><con:value>759117</con:value></con:property><con:property><con:name>invoiceID</con:name><con:value>4708316-2559037</con:value></con:property><con:property><con:name>invoiceTravellerFullName</con:name><con:value>Test1522220000791</con:value></con:property><con:property><con:name>invoiceTravellerPhnNo</con:name><con:value/></con:property><con:property><con:name>invoiceAgentEarning</con:name><con:value>3700.0</con:value></con:property><con:property><con:name>requestedTripID</con:name><con:value>${Given traveler create the trip#RequestID}</con:value></con:property><con:property><con:name>invoiceDiscount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceDiscountTraveller</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceFlightAmount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceVisaCost</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceTTComission</con:name><con:value>300.0</con:value></con:property><con:property><con:name>invoiceVoucherDays</con:name><con:value>3</con:value></con:property><con:property><con:name>invoiceTOC</con:name><con:value>null</con:value></con:property><con:property><con:name>invoiceTripDetails</con:name><con:value>Name: Test1522220000791
Adult(s): 0
Child: 0
Destination: Kerala
</con:value></con:property><con:property><con:name>invoiceEmail</con:name><con:value>ttagentdemo@gmail.com</con:value></con:property><con:property><con:name>invoicePhoneNumber</con:name><con:value>+918826683631</con:value></con:property><con:property><con:name>invoiceAddress</con:name><con:value>, , , India - 0</con:value></con:property><con:property><con:name>paymentsAttributesID</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTraveler</con:name><con:value>4000.0</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTravelerCurrency</con:name><con:value>Rupee</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceScheduleDate</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDestroy</con:name><con:value>false</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceStatus</con:name><con:value>Scheduled</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceUserID</con:name><con:value>759117</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMethod</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTDR</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoicePG</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMode</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTravelerActual</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDescription</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceIsEditable</con:name><con:value>true</con:value></con:property><con:property><con:name>agentCommision</con:name><con:value>7.5</con:value></con:property><con:property><con:name>todayDate</con:name><con:value>2018-03-28</con:value></con:property><con:property><con:name>selectPayment</con:name><con:value>1</con:value></con:property><con:property><con:name>deliverablesAgent</con:name><con:value>1</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>user_password</con:name><con:value>${#Project#agent_user_password}</con:value></con:property><con:property><con:name>traveler_apiendpoint</con:name><con:value>${#Project#traveler_apiendpoint}</con:value></con:property><con:property><con:name>invoicecfee</con:name><con:value>null</con:value></con:property></con:properties><con:returnProperties><con:entry>agentID</con:entry><con:entry>invoiceID</con:entry><con:entry>invoiceTravellerFullName</con:entry><con:entry>invoiceTravellerPhnNo</con:entry><con:entry>invoiceAgentEarning</con:entry><con:entry>invoiceDiscount</con:entry><con:entry>invoiceDiscountTraveller</con:entry><con:entry>invoiceFlightAmount</con:entry><con:entry>invoiceVisaCost</con:entry><con:entry>invoiceTTComission</con:entry><con:entry>invoiceVoucherDays</con:entry><con:entry>invoiceTOC</con:entry><con:entry>invoiceTripDetails</con:entry><con:entry>invoiceEmail</con:entry><con:entry>invoicePhoneNumber</con:entry><con:entry>invoiceAddress</con:entry><con:entry>paymentsAttributesID</con:entry><con:entry>paymentsAttributesFromTraveler</con:entry><con:entry>paymentsAttributesInvoiceTravelerCurrency</con:entry><con:entry>paymentsAttributesInvoiceScheduleDate</con:entry><con:entry>paymentsAttributesInvoiceDestroy</con:entry><con:entry>paymentsAttributesInvoiceStatus</con:entry><con:entry>paymentsAttributesInvoiceUserID</con:entry><con:entry>paymentsAttributesInvoiceMethod</con:entry><con:entry>paymentsAttributesInvoiceTDR</con:entry><con:entry>paymentsAttributesInvoicePG</con:entry><con:entry>paymentsAttributesInvoiceMode</con:entry><con:entry>paymentsAttributesFromTravelerActual</con:entry><con:entry>paymentsAttributesInvoiceDescription</con:entry><con:entry>paymentsAttributesInvoiceIsEditable</con:entry><con:entry>agentCommision</con:entry><con:entry>todayDate</con:entry><con:entry>selectPayment</con:entry><con:entry>deliverablesAgent</con:entry><con:entry>invoicecfee</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="c8f65ba9-0096-45dc-8b6b-964ab55cdcc9"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTQyNzVmYWM3OTAwZWYwZWNiNjE1OTZjNWIxZTlhNTBiBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA%2F0PF0kiIiQyYSQxMCRnTEFXSFAxMmp3Q1ZUd2h5NzVtZy5lBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--31fa9decaf1fbac688f96f901e979489d2664c4d; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1511421</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1515414195393@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Given trip is marked converted" id="4eb8594e-b58b-4a65-b10d-7242a3c0f347"><con:settings/><con:config service="ConvertTrip" resourcePath="/api/qa_prods/requested_trips/{request_id}/mark_trip_converted" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given trip is marked converted" id="578128d2-3e26-442d-8e0a-55c9f3a5d706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>https://bookings-qa2.ttdev.in/api/qa_prods/requested_trips/2223385/mark_trip_converted</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="514de5f6-972e-4acc-9b13-94c72427d0d3" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="17d14a77-3435-4136-945c-eb549d832034" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String message = jsonHolder.message;
assert message == 'true';</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Given traveler trip ends" id="2fb0cdd2-79d6-4c40-9a7c-8e08aa5c7b51"><con:settings/><con:config service="TripEnd" resourcePath="/api/qa_prods/requested_trips/{request_id}/end_trip" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given traveler trip ends" id="2a3b0313-196b-46b6-9a3c-0ab1f66dedee" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa2.ttdev.in/api/qa_prods/requested_trips/2248016/end_trip</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="18a55e38-82aa-4a01-874f-493874f2f6d8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script1" id="6db0d9f2-2696-4e4c-900b-6f03859dae6f"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;
import java.util.Random;

Random rand = new Random();
String ttrecommends = context.expand('${#TestCase#ttrecommend}');
String[] arr_ttrecommend = ttrecommends.split(",");
int arrsize_ttrecommend =  arr_ttrecommend.size();
int index_ttrecomend = rand.nextInt((arrsize_ttrecommend - 0)) + 0;
testRunner.testCase.setPropertyValue("input_ttrecommend",arr_ttrecommend[index_ttrecomend]);

String hoteloption = context.expand('${#TestCase#hoteloptions}');
String[] arr_hoteloptions = hoteloption.split(",");
int arrsize_hoteloptions = arr_hoteloptions.size();
int index_hoteloptions = rand.nextInt((arrsize_hoteloptions - 0))+ 0;
int index_hoteloptions1 = rand.nextInt((arrsize_hoteloptions - 0))+ 0;
String hotel_options = arr_hoteloptions[index_hoteloptions] + "," + arr_hoteloptions[index_hoteloptions1] ; 
testRunner.testCase.setPropertyValue("input_hoteloptions",hotel_options);

String caboption = context.expand('${#TestCase#caboptions}');
String[] arr_caboptions = caboption.split(",");
int arrsize_caboptions = arr_caboptions.size();
int index_caboptions = rand.nextInt((arrsize_caboptions - 0))+ 0;
int index_caboptions1 = rand.nextInt((arrsize_caboptions - 0))+ 0;
String cab_options = arr_caboptions[index_caboptions] + "," + arr_caboptions[index_caboptions1]; 
testRunner.testCase.setPropertyValue("input_caboptions",cab_options);

String agentratingoption = context.expand('${#TestCase#agentratingoptions}');
String[] arr_agentratingoptions = agentratingoption.split(",");
int arrsize_agentratingoptions = arr_agentratingoptions.size();
int index_agentratingoptions = rand.nextInt((arrsize_agentratingoptions - 0))+ 0;;
String agentratings_options = arr_agentratingoptions[index_agentratingoptions]; 
testRunner.testCase.setPropertyValue("input_agentratingoptions",agentratings_options);

String othertexts = context.expand('${#TestCase#othertext}');
String[] arr_othertext = othertexts.split(",");
int arrsize_othertext = arr_othertext.size();
int index_othertext = rand.nextInt((arrsize_othertext - 0))+0;
testRunner.testCase.setPropertyValue("input_othertext",arr_othertext[index_othertext]);

String ratings = context.expand('${#TestCase#rating}');
String[] arr_rating = ratings.split(",");
int arrsize_rating = arr_rating.size();
int index_ratings = rand.nextInt((arrsize_rating- 0))+0;
testRunner.testCase.setPropertyValue("input_rating",arr_rating[index_ratings]);
</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler post the feeback" id="797e1e97-79a1-47e2-93a2-a79266780104"><con:settings/><con:config service="TripFeedback" resourcePath="/bookings/{api_version}/requested_trips/{request_id}/trip_feedbacks" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler post the feeback" id="e6ea6e03-de66-4e1b-959a-ace5f0dba690" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
  &lt;con:entry key="Accept" value="application/json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
 	"trip_feedback": {
 		"tt_recommend": "${#TestCase#input_ttrecommend}",
 		"testimonial": "hitest",
 		"hotel": "${#TestCase#input_rating}",
 		"cab": "${#TestCase#input_rating}",
 		"agent_service": "${#TestCase#input_rating}"
 	},

 	"from_agent_show": "true",
 	"feedbacks": {
 		"hotel": {
 			"list": "${#TestCase#input_hoteloptions}",
 			"other": "${#TestCase#input_othertext}"
 		},
 		"cab": {
 			"list": "${#TestCase#input_caboptions}",
 			"other": "${#TestCase#input_othertext}"
 		},
 		"agent_service": {
 			"list": "${#TestCase#input_agentratingoptions}",
 			"other": "${#TestCase#input_othertext}"
 		}
 	},
 	"requested_trip_id": "${Given traveler create the trip#RequestID}"
 }
</con:request><con:originalUri>http://bookings-qa2.ttdev.in/bookings/v1/requested_trips/2248349/trip_feedbacks</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="939e65d1-61fd-4d33-b75f-c83e85e784c8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="c8bfd219-f320-419d-b65a-1bca71ead832" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String message = jsonHolder.data.message;
assert message == "Feedback Successfully Submitted";

</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ttrecommend</con:name><con:value>1,2,3,4,5,6,7,8,9,10</con:value></con:property><con:property><con:name>hoteloptions</con:name><con:value>Location,Room comfort and quality,Cleanliness and ambience,Staff behaviour,Meal quality</con:value></con:property><con:property><con:name>caboptions</con:name><con:value>Communication with driver,Driver's Behaviour,Timeliness,Ride Comfort,Cab Cleanliness</con:value></con:property><con:property><con:name>agentratingoptions</con:name><con:value>Politeness,Destination Guidance,Voucher/Ticket Delivery,Pre trip responsiveness and support,On trip coordination</con:value></con:property><con:property><con:name>othertext</con:name><con:value>test,test1,test2</con:value></con:property><con:property><con:name>rating</con:name><con:value>1,2,3,4,5</con:value></con:property><con:property><con:name>input_ttrecommend</con:name><con:value>8</con:value></con:property><con:property><con:name>input_hoteloptions</con:name><con:value>Staff behaviour,Room comfort and quality</con:value></con:property><con:property><con:name>input_caboptions</con:name><con:value>Communication with driver,Ride Comfort</con:value></con:property><con:property><con:name>input_agentratingoptions</con:name><con:value>On trip coordination</con:value></con:property><con:property><con:name>input_othertext</con:name><con:value>test2</con:value></con:property><con:property><con:name>input_rating</con:name><con:value>1</con:value></con:property></con:properties></con:testCase><con:testCase id="aeb75ffd-d880-4311-8820-b02e39e4dc2c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_TravelerAgentChat" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="340e3d68-0e1b-4c48-a897-c20f90148967"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522220018915</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2220018915</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692807</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522220018915@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="a0b32987-3853-4805-83e1-ab7c76140389"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Europe</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559038-Test1522220018915/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692807</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559038</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="c8f1217b-e6ed-4d8e-85b1-2cd05f1582bc"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="24061da2-584e-43c7-94eb-715be3eceb9f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26383</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Bahnhofstrasse 43</con:value></con:property><con:property><con:name>d_id</con:name><con:value>260827</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708317</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>name</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>address1</con:name><con:value>Prague 02, Katerinska 36</con:value></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"CENTRAL CONTINENTAL","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26383","hotel_city_name":"INTERLAKEN","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>CENTRAL CONTINENTAL</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>INTERLAKEN</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Prague</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>address1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the 2nd quote" id="792ca47d-40ae-4785-a403-5204694030bc"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>604eb85b-2dc9-422d-ad06-10f8d9dccf9a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>5000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"173","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"174","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"175","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"176","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"177","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"178","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"179","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"180","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"181","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"182","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"183","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"184","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"185","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"186","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"187","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>name</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>city</con:name><con:value>Prague</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26221</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Prague 02, Katerinska 36</con:value></con:property><con:property><con:name>d_id</con:name><con:value>651052</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708318</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Ibis Praha Wenceslas Square","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26221","hotel_city_name":"Prague","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Ibis Budapest City","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26153","hotel_city_name":"Budapest","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>cabsdetail</con:name><con:value>cabstest</con:value></con:property><con:property><con:name>flight</con:name><con:value/></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Ibis Praha Wenceslas Square</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Prague</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Ibis Budapest City</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Budapest</con:value></con:property><con:property><con:name>HotelComments</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComments</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>hoteldetail</con:entry><con:entry>cabsdetail</con:entry><con:entry>flight</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComments</con:entry><con:entry>SimilarHotelComments</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent login" id="d5395478-d50e-4b6d-8e8b-8522ba8d3e07"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTZkYTJjMmYxZjNmN2U1YTAxNzNlNjdlNDMzNDMyZDA4BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--e75d71c060418e8a476b5e78fa1be139e039918c; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="f8971aa1-f504-4308-9323-3891501d60ca"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTE5YWU4MDZmYzE0Nzg2ZTc4ODAwNDVmMThjNzJmZGZiBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA4fUGUkiIiQyYSQxMCR2cFNNejMyT3JLZ2UvekVlVEVyQWMuBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--c3a8993d131dbe030868faad1e781a5ad3707876; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692807</con:value></con:property><con:property><con:name>email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522220018915@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="eacad6d1-f513-41ef-a800-77ba53705a37"><con:settings/><con:config><script>import com.eviware.soapui.model.testsuite.TestStep;
import com.eviware.soapui.model.testsuite.TestStepResult;
import com.eviware.soapui.model.testsuite.TestStepResult.TestStepStatus;

String traveler_comment = context.expand('${#TestCase#travelercomment}');
String agent_comment = context.expand('${#TestCase#agentcomment}');
String[] arr_travelercomment = traveler_comment.split(",");
String[] arr_agentcomment = agent_comment.split(",");

for(int i=0;i&lt;4;i++)
{

testRunner.testCase.setPropertyValue("input_travlercomment",arr_travelercomment[i]);	
testRunner.testCase.setPropertyValue("input_agentcomment",arr_agentcomment[i]);
TestStep api_teststeps = testRunner.testCase.getTestStepByName("Then traveler post comment in chatbox");
TestStepResult results = api_teststeps.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK){
String[] messages = results.getMessages();
System.out.println(messages);
}
else{
assert true;
}

TestStep apis_teststeps = testRunner.testCase.getTestStepByName("Then agent post comment");
TestStepResult result = apis_teststeps.run(testRunner,context);
if(results.getStatus() != TestStepStatus.OK){
String[] messages = result.getMessages();
System.out.println(messages);
}
else{
assert true;
}
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler post comment in chatbox" id="f8d33c55-176e-4932-9e4a-3e673a4169f6"><con:settings/><con:config service="TravelerChat" resourcePath="/bookings/v1/requested_trips/{rtrip_id}/quotes/{quote_id}/comments" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler post comment in chatbox" id="977a147c-fc4e-4f00-b073-11407e41ab69" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset=utf-8;"/>
  &lt;con:entry key="Accept" value="application/json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"user_platform": "${#TestCase#userplatform}",
	"comment": {
		"title": "${#TestCase#chattitle}",
		"comment": "${#TestCase#input_travlercomment}",
		"attachments_attributes": {
			"0": {
				"desc": "dsf",
				"file": ""
			}
		}
	}
}</con:request><con:originalUri>http://null///bookings/v1/requested_trips/2238181/quotes/4099510/comments</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="687d4a53-6d14-4dc5-a57c-5de9ed48a1c6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="2876dce1-d9ba-4fae-8455-4209e14db0eb" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String output_title = jsonHolder.data.title;
String output_comment = jsonHolder.data.comment;
String output_email = jsonHolder.data.email;
String output_userrole = jsonHolder.data.user_role;
String output_userid = jsonHolder.data.user_id;

String input_title = context.expand('${#TestCase#chattitle}');
String input_chatcomment = context.expand('${#TestCase#input_travlercomment}');
String input_platform = context.expand('${#TestCase#userplatform}');
String titles = input_title + '#'+ input_platform;
String input_email = context.expand('${Given traveler login#traveler_email}');
String input_userid = context.expand('${Given traveler login#user_id}');

assert input_chatcomment == output_comment;
assert titles == output_title;
assert input_email == output_email;
assert output_userid == input_userid;
assert output_userrole == "traveller"
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="rtrip_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then agent post comment" id="63618ebc-db77-4412-b180-a07d6a64ea46"><con:settings/><con:config service="AgentPostComment" resourcePath="/api/v1/requested_trips/{request_id}/quotes/{quote_id}/comments" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent post comment" id="df18ec76-6980-4ad0-b4db-1d51856b1a97" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  &lt;con:entry key="Accept" value="application/json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request> [{
 	"comment": "${#TestCase#input_agentcomment}",
 	"commentable_id": "${Given agent give the quote#quoteid}",
 	"commentable_type": "Quote",
 	"email": "${Given agent login#agent_email}",
 	"role": "agent",
 	"title": "${#TestCase#agenttitle}",
 	"user_id": "${Given agent login#user_id}"
 }]</con:request><con:originalUri>http://bookings-qa2.ttdev.in/api/v1/requested_trips/2247838/quotes/4117194/comments</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="59d0bfe4-c2b7-49f5-91c7-520363a8e753" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>security_auth_token</con:entry><con:entry>quote_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler view the chat history" id="5eea055f-81fb-44b1-9266-4ae6340bf58b"><con:settings/><con:config service="TravelerChatHistory" resourcePath="/bookings/v1/requested_trips/{rtrip_id}/quotes/{quote_id}/comments" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler view the chat history" id="b062f4f6-b2fc-44a7-bcab-192c9923ba40" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa2.ttdev.in/bookings/v1/requested_trips/2247371/quotes/4116902/comments</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5879ac3d-81a1-4ce5-ae89-43388d4f1baf" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="6e65f738-ae9e-46a2-8f87-86fb14967f1e" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String totalcomment = jsonHolder.data.total_comments;
assert totalcomment == '10';

String travelercomments = context.expand('${#TestCase#travelercomment}');
String[] input_travelercomment = travelercomments.split(",");
String agentcomments = context.expand('${#TestCase#agentcomment}');
String[] input_agentcomment = agentcomments.split(",");
String input_travelertitles = context.expand('${#TestCase#chattitle}');
String input_agenttitles = context.expand('${#TestCase#agenttitle}');
String input_userplatforms = context.expand('${#TestCase#userplatform}');
String input_platform = "#"+ input_userplatforms;
String input_traveleremail = context.expand('${Given traveler login#traveler_email}');
String input_traveleruserid = context.expand('${Given traveler login#user_id}');
String input_agentemail = context.expand('${Given agent login#agent_email}');
String input_agentuserid = context.expand('${Given agent login#user_id}');

for(int i =0;i&lt;8;i++)
{
String userrole = jsonHolder.data.comments.user_role[i];
if(userrole == 'traveller')
{
String output_travelercomment = jsonHolder.data.comments.comment[i];
input_travelercomment.contains(output_travelercomment);
String titles = jsonHolder.data.comments.title[i];
String output_travelertitle = titles.replace(input_platform,"");
String output_travelerplatform = titles.replace(output_travelertitle,"");
input_travelertitles.contains(output_travelertitle);
String output_traveleremail = jsonHolder.data.comments.email[i];
String output_traveleruserid = jsonHolder.data.comments.user_id[i];
assert input_traveleremail == output_traveleremail;
assert input_traveleruserid == output_traveleruserid;
assert output_travelerplatform == input_platform;
}
else
{
String output_agentcomment = jsonHolder.data.comments.comment[i];
input_agentcomment.contains(output_agentcomment);
String titles1 = jsonHolder.data.comments[i].title;
String output_agenttitle = titles1.replace(input_platform,"");
String output_agentplatform = titles1.replace(output_agenttitle,"");
input_agenttitles.contains(output_agenttitle);
String output_agentemail = jsonHolder.data.comments.email[i];
String output_agentuserid = jsonHolder.data.comments.user_id[i];
assert input_agentemail == output_agentemail;
assert input_agentuserid == output_agentuserid;
assert output_agentplatform == input_platform;
}
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="rtrip_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>userplatform</con:name><con:value>Not_mobile</con:value></con:property><con:property><con:name>travelercomment</con:name><con:value>test,test1,test2,test3</con:value></con:property><con:property><con:name>agentcomment</con:name><con:value>quote,quote1,quote2,quote3</con:value></con:property><con:property><con:name>chattitle</con:name><con:value>hello</con:value></con:property><con:property><con:name>agenttitle</con:name><con:value>hi</con:value></con:property><con:property><con:name>input_travlercomment</con:name><con:value>test3</con:value></con:property><con:property><con:name>input_agentcomment</con:name><con:value>quote3</con:value></con:property></con:properties></con:testCase><con:testCase id="671ee9c5-cedd-40fd-aa74-1660e1aae55d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_Quote_Showpage_In_case_MultipleQuotes" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="08bba3c8-5c0b-445d-85c6-a8baf8c6676e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522220037604</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2220037604</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692809</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522220037604@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="3f0f25de-1903-4e3e-80ef-5ab5ed78b54f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Himachal</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559040-Test1522220037604/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692809</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559040</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="d4fd9d8c-dc92-4409-a395-df309db06b8e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="fd5cad9c-eeed-4002-a761-91fa01175746"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"351","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"352","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"353","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"354","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"355","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"356","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"357","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"358","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"359","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"360","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"361","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"362","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"363","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"508","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"509","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"511","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"514","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"515","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>20999</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Left Bank, Aleo, New Manali,, 175131 ManÄli, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>297618</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708319</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Manali</con:value></con:property><con:property><con:name>name</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>address1</con:name><con:value>Rangri Manali - 175131
Himachal Pradesh, India</con:value></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Royal Regency","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"The Manali Inn","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Royal Regency</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>The Manali Inn</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry><con:entry>city</con:entry><con:entry>name</con:entry><con:entry>address1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the 2nd quote" id="9daa5b47-a1c1-4ca9-b847-1458ff40905c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>604eb85b-2dc9-422d-ad06-10f8d9dccf9a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>5000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"351","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"352","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"353","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"354","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"355","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"356","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"357","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"358","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"359","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"360","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"361","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"362","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"363","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"508","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"509","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"511","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"514","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"515","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>name</con:name><con:value>The Manali Inn</con:value></con:property><con:property><con:name>city</con:name><con:value>Manali</con:value></con:property><con:property><con:name>city_id</con:name><con:value>20999</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Rangri Manali - 175131
Himachal Pradesh, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>735449</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708320</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"The Manali Inn","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"20999","hotel_city_name":"Manali","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Spring Valley Resort","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26399","hotel_city_name":"Dharamshala","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>cabsdetail</con:name><con:value>cabstest</con:value></con:property><con:property><con:name>flight</con:name><con:value/></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>The Manali Inn</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Manali</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Spring Valley Resort</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Dharamshala</con:value></con:property><con:property><con:name>HotelComments</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComments</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>hoteldetail</con:entry><con:entry>cabsdetail</con:entry><con:entry>flight</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComments</con:entry><con:entry>SimilarHotelComments</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent login" id="aa3fe502-d482-4dd6-a2ae-97237287690f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWMzODU3NDE1ZTk0OGU1N2YxNjI0OWQ0MGFkN2U4ZDlkBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--b0318927644aaea8b206f7087684a280cf638c77; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Given agent give inclusions/exclusions of 1st quote" id="56614901-b454-4c7a-a5c7-30f60f7d6c93"><con:settings/><con:config service="Inclusion/Exclusion" resourcePath="/api/qa_prods/requested_trips/{request_id}/quotes/{quote_id}/list_quote_incl_excl" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given agent give inclusions/exclusions of 1st quote" id="1b74cd66-10fd-4550-ac3b-c17d2dade66c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/qa_prods/requested_trips/2263994/quotes/4148886/list_quote_incl_excl</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="473062cb-3cd0-42f8-9d23-5fcbbfc1c6e1" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9587f35e-473b-4625-9987-1869e217de39" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String[] arr_inclusions = jsonHolder.list.inclusions;
String[] arr_exclusions = jsonHolder.list.exclusions;
int arrsize_inclusions = arr_inclusions.size();
int arrsize_exclusions = arr_exclusions.size();

for(int i=0; i&lt;arrsize_inclusions; i++)
{
String input_inclusioncategory = jsonHolder.list.inclusions.category[i];
String input_inclusionname = jsonHolder.list.inclusions.name[i];
String inclusion = input_inclusioncategory + ": "+ input_inclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputinclusion1stquote"+i ,inclusion);
}
for(int j=0; j&lt;arrsize_exclusions; j++)
{
String input_exclusioncategory = jsonHolder.list.exclusions.category[j];
String input_exclusionname = jsonHolder.list.exclusions.name[j];
String exclusion = input_exclusioncategory + ": "+ input_exclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputexclusion1stquote"+j ,exclusion);
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Given agent give inclusions/exclusions of 2nd quote" id="9f1dfd14-c75f-497c-81be-ea958b6158f4"><con:settings/><con:config service="Inclusion/Exclusion" resourcePath="/api/qa_prods/requested_trips/{request_id}/quotes/{quote_id}/list_quote_incl_excl" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given agent give inclusions/exclusions of 2nd quote" id="1b74cd66-10fd-4550-ac3b-c17d2dade66c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset =utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/qa_prods/requested_trips/2263994/quotes/4148886/list_quote_incl_excl</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="473062cb-3cd0-42f8-9d23-5fcbbfc1c6e1" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9587f35e-473b-4625-9987-1869e217de39" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String[] arr_inclusions = jsonHolder.list.inclusions;
String[] arr_exclusions = jsonHolder.list.exclusions;
int arrsize_inclusions = arr_inclusions.size();
int arrsize_exclusions = arr_exclusions.size();

for(int i=0; i&lt;arrsize_inclusions; i++)
{
String input_inclusioncategory = jsonHolder.list.inclusions.category[i];
String input_inclusionname = jsonHolder.list.inclusions.name[i];
String inclusion = input_inclusioncategory + ": "+ input_inclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputinclusion2ndquote"+i ,inclusion);
}
for(int j=0; j&lt;arrsize_exclusions; j++)
{
String input_exclusioncategory = jsonHolder.list.exclusions.category[j];
String input_exclusionname = jsonHolder.list.exclusions.name[j];
String exclusion = input_exclusioncategory + ": "+ input_exclusionname;
messageExchange.modelItem.testCase.setPropertyValue("inputexclusion2ndquote"+j ,exclusion);
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the 2nd quote#quoteid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="61832e9a-842c-427a-91de-7647cc7cfca2"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWM4Y2U4YTg3MzA3YWRmYWY4NWYzM2JmNDkxNGE0OWFkBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA4nUGUkiIiQyYSQxMCRMQjV2cS5haUVoRHpsY2hVOUZoc3J1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--c300a5f9f52f7d158f650b8a3d7a27febcfc9eda; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692809</con:value></con:property><con:property><con:name>email</con:name><con:value/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522220037604@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler sees all quotes" id="4fa78c5e-1e3a-4696-b60a-254fd908d3f7"><con:settings/><con:config service="MultipleQuotes" resourcePath="/bookings/{api_version}/requested_trips/{rtrip_id}/quotes" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler sees all quotes" id="5afc940f-0a33-4592-b6ed-823e9900233b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="applications/json; charset=utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://master.ttdev.in/bookings/v1/requested_trips/2283271/quotes</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a3f438f4-1d2c-4b82-96f8-dbbed98d2c1b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9249e85f-ecf2-407c-b404-76c445ff9a98" name="Script Assertion"><con:configuration><scriptText><![CDATA[import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String quote_id_of_2nd_quote = jsonHolder.data.quotes.id[0];
String quote_id_2nd_quote =context.expand('${Given agent give the 2nd quote#quoteid}');
//log.info quote_id_of_2nd_quote;
//log.info quote_id;
assert quote_id_of_2nd_quote == quote_id_2nd_quote;

String price_of_2nd_quote = jsonHolder.data.quotes.pricing_info.price[0];
String price_2nd_quote =context.expand('${Given agent give the 2nd quote#price}');
assert price_of_2nd_quote == price_2nd_quote;

String cabs_detail_of_2nd_quote = jsonHolder.data.quotes[0].cabs_text;
log.info cabs_detail_of_2nd_quote;
String cabs_detail_2nd_quote = context.expand('${Given agent give the 2nd quote#cabs}');
assert cabs_detail_of_2nd_quote == cabs_detail_2nd_quote;

String flight_detail_of_2nd_quote = jsonHolder.data.quotes[0].flights_text;
String flight_detail_2nd_quote = context.expand('${Given agent give the 2nd quote#flight}');
assert flight_detail_of_2nd_quote == flight_detail_2nd_quote;

String hotelnight = context.expand('${Given agent give the 2nd quote#HotelNights}');
String hotelnames = context.expand('${Given agent give the 2nd quote#Hotelname}');
String hotelroomtype = context.expand('${Given agent give the 2nd quote#RoomTypes}');
String hotelscity = context.expand('${Given agent give the 2nd quote#HotelCity}');
String similarhotelnight = context.expand('${Given agent give the 2nd quote#SimilarHotelNights}');
String similarhotelnames = context.expand('${Given agent give the 2nd quote#SimilarHotelname}');
String similarhotelroomtype = context.expand('${Given agent give the 2nd quote#SimilarRoomTypes}');
String similarhotelscity = context.expand('${Given agent give the 2nd quote#SimilarHotelCity}');
String hotelcomments = context.expand('${Given agent give the 2nd quote#HotelComment}');
String similarhotelcomments = context.expand('${Given agent give the 2nd quote#SimilarHotelComment}');

String hoteldetails = jsonHolder.data.quotes.hotel_text[0];
log.info hoteldetails;
String[] hotels = hoteldetails.split('Same Price Option - ');
log.info hotels[0];
String hotels_details_2nd_quote ="Night " + hotelnight + ", " + hotelnames +", " + hotelscity + ", " + hotelroomtype+","+hotelcomments;
String hotel_of_2nd_quote = hotels[0];
String hotel_detail_of_2nd_quote = hotel_of_2nd_quote.trim();
assert hotels_details_2nd_quote == hotel_detail_of_2nd_quote;

String similar_hotel_of_2nd_quote = hotels[1];
log.info similar_hotel_of_2nd_quote;

String similar_hotels_details_2nd_quote ="Night " + similarhotelnight + ", " + similarhotelnames +", " + similarhotelscity+ ", " + similarhotelroomtype+","+ similarhotelcomments;
log.info similar_hotels_details_2nd_quote
assert similar_hotel_of_2nd_quote == similar_hotels_details_2nd_quote;

String quote_id_of_1st_quote = jsonHolder.data.quotes.id[1];
String quote_id_1st_quote =context.expand('${Given agent give the quote#quoteid}');
//log.info quote_id_of_2nd_quote;
//log.info quote_id;
assert quote_id_of_1st_quote == quote_id_1st_quote;

String price_of_1st_quote = jsonHolder.data.quotes[1].pricing_info.price;
String price_1st_quote =context.expand('${Given agent give the quote#price}');
assert price_of_1st_quote == price_1st_quote;

String cabs_detail_of_1st_quote = jsonHolder.data.quotes.cabs_text[1];
String cabs_detail_1st_quote = context.expand('${Given agent give the quote#cabs}');
assert cabs_detail_of_1st_quote == cabs_detail_1st_quote;

String flight_detail_of_1st_quote = jsonHolder.data.quotes[1].flights_text;
String flight_detail_1st_quote = context.expand('${Given agent give the quote#flight}');
assert flight_detail_of_1st_quote == flight_detail_2nd_quote;

String hotelnight_1stquote = context.expand('${Given agent give the quote#HotelNights}');
String hotelnames_1stquote = context.expand('${Given agent give the quote#Hotelname}');
String hotelroomtype_1stquote = context.expand('${Given agent give the quote#RoomTypes}');
String hotelscity_1stquote = context.expand('${Given agent give the quote#HotelCity}');
String similarhotelnight_1stquote = context.expand('${Given agent give the quote#SimilarHotelNights}');
String similarhotelnames_1stquote = context.expand('${Given agent give the quote#SimilarHotelname}');
String similarhotelroomtype_1stquote = context.expand('${Given agent give the quote#SimilarRoomTypes}');
String similarhotelscity_1stquote = context.expand('${Given agent give the quote#SimilarHotelCity}');
String hotelcomments_1stquote = context.expand('${Given agent give the quote#HotelComment}');
String similarhotelcomments_1stquote = context.expand('${Given agent give the quote#SimilarHotelComment}');

String hoteldetails_1stquote = jsonHolder.data.quotes.hotel_text[1];
log.info hoteldetails_1stquote;
String[] hotels_1stquote = hoteldetails_1stquote.split('Same Price Option - ');
log.info hotels_1stquote[0];
String hotels_details_1stquote ="Night " + hotelnight_1stquote + ", " + hotelnames_1stquote +", " + hotelscity_1stquote + ", " + hotelroomtype_1stquote+","+hotelcomments_1stquote;
String hotel_of_1stquote = hotels_1stquote[0];
String hotel_detail_of_1stquote = hotel_of_1stquote.trim();
assert hotels_details_1stquote == hotel_detail_of_1stquote;

String similar_hotel_of_1stquote = hotels_1stquote[1];
log.info similar_hotel_of_1stquote;

String similar_hotels_details_1stquote ="Night " + similarhotelnight_1stquote + ", " + similarhotelnames_1stquote +", " + similarhotelscity_1stquote+ ", " + similarhotelroomtype_1stquote+","+ similarhotelcomments_1stquote;
log.info similar_hotels_details_1stquote
assert similar_hotel_of_1stquote == similar_hotels_details_1stquote;
String Days = context.expand('${Given agent give the quote#Totalday}');
int totaldays = Days.toInteger();
log.info totaldays;
String[] arrnights = hotelnight_1stquote.split(",");
String totalnights = arrnights.size();
for(int i=0;i<totaldays; i++)
{	
int m = i + 1;
String k = Integer.toString(m);
String Days_iterneray = jsonHolder.data.quotes.itinerary[1].days_information[i].day_of_itinerary;
String city_iternary = jsonHolder.data.quotes.itinerary[1].days_information[i].city_name;
String quotesumarray_1st = "Days " + Days_iterneray +": " + city_iternary;
quotesumarray_1st = quotesumarray_1st.replaceAll('null' , "");

if(arrnights.contains(k))
{	
String summary_1stquote = "Days " + m +": "+hotelscity_1stquote;
assert quotesumarray_1st == summary_1stquote;
}
else
{
String summary_1stquote = "Days " + m +": "
assert quotesumarray_1st == summary_1stquote;
}

}
String[] arrnights_2ndquote = hotelnight.split(",");
String totalnights_2ndquote = arrnights_2ndquote.size();
String Days_2ndquote = context.expand('${Given agent give the 2nd quote#Totalday}');
int totaldays_2ndquote = Days_2ndquote.toInteger();
log.info totaldays_2ndquote;
for(int j=0; j<totaldays_2ndquote; j++)
{	
int n = j + 1;
String q = Integer.toString(n);
String Days_iterneray2nd = jsonHolder.data.quotes.itinerary[0].days_information[j].day_of_itinerary;
String city_iternary2nd = jsonHolder.data.quotes.itinerary[0].days_information[j].city_name;
String quotesumarray_2nd = "Days " + Days_iterneray2nd +": " + city_iternary2nd;
quotesumarray_2nd = quotesumarray_2nd.replaceAll('null' , "");
if(arrnights_2ndquote.contains(q))
{	
String summary_2ndquote = "Days " + n +": "+hotelscity;
assert quotesumarray_2nd == summary_2ndquote;
}
else
{
String summary_2ndquote = "Days " + n +": "
assert quotesumarray_2nd == summary_2ndquote;
}
}
String[] opinclusions = jsonHolder.data.quotes[0].inclusions."1";
int arrsize_inc = opinclusions.size();
String[] opexclusions = jsonHolder.data.quotes[0].inclusions."0";
int arrsize_excl = opexclusions.size();
for(int i =0;i<arrsize_inc;i++)
{
String opinclusioncategory = jsonHolder.data.quotes[0].inclusions."1".category[i];
String opinclusionname =jsonHolder.data.quotes[0].inclusions."1".name[i];
String op_inclusion1stquote = opinclusioncategory + ": "+ opinclusionname;
String in_inclusion1stquote = context.expand('${#TestCase#inputexclusion1stquote'+i+'}');
assert op_inclusion1stquote == in_inclusion1stquote;
}
for(int j =0;j<arrsize_excl;j++)
{
String opexclusioncategory = jsonHolder.data.quotes[0].inclusions."0".category[j];
String opexclusionname =jsonHolder.data.quotes[0].inclusions."0".name[j];
String op_exclusion = opexclusioncategory + ": "+ opexclusionname;
String in_exclusion = context.expand('${#TestCase#inputinclusion1stquote'+j+'}');
assert in_exclusion == op_exclusion;
}

String[] opinclusions1 = jsonHolder.data.quotes[1].inclusions."1";
int arrsize_inc1 = opinclusions1.size();
String[] opexclusions1 = jsonHolder.data.quotes[1].inclusions."0";
int arrsize_excl1 = opexclusions1.size();
for(int m =0;m<arrsize_inc1;m++)
{
String opinclusioncategory1 = jsonHolder.data.quotes[0].inclusions."1".category[m];
String opinclusionname1 =jsonHolder.data.quotes[0].inclusions."1".name[m];
String op_inclusion2ndquote = opinclusioncategory1 + ": "+ opinclusionname1;
String in_inclusion2ndquote = context.expand('${#TestCase#inputexclusion2ndquote'+m+'}');
assert op_inclusion2ndquote == in_inclusion2ndquote;
}
for(int n=0;n<arrsize_excl;n++)
{
String opexclusioncategory1 = jsonHolder.data.quotes[0].inclusions."0".category[n];
String opexclusionname1 =jsonHolder.data.quotes[0].inclusions."0".name[n];
String op_exclusion2ndquote = opexclusioncategory1 + ": "+ opexclusionname1;
String in_exclusion2ndquote = context.expand('${#TestCase#inputinclusion2ndquote'+n+'}');
assert in_exclusion2ndquote == op_exclusion2ndquote;
}]]></scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="rtrip_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="view" value="full"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters><con:parameterOrder><con:entry>api_version</con:entry><con:entry>rtrip_id</con:entry><con:entry>view</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>inputinclusion0</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion1</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion10</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion12</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion13</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion14</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion15</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion16</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion2</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion3</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion4</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion5</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion6</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion7</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion8</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion9</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion11</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion0</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion1</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion4</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion6</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion7</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion8</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion9</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion10</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion11</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion12</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion13</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion14</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion15</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputexclusion16</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>inputinclusion1stquote0</con:name><con:value>Meal plan: Dinner</con:value></con:property><con:property><con:name>inputinclusion1stquote1</con:name><con:value>Transport: Arrival </con:value></con:property><con:property><con:name>inputinclusion1stquote2</con:name><con:value>Transport: Departure</con:value></con:property><con:property><con:name>inputinclusion1stquote3</con:name><con:value>Meal plan: Welcome Drink on Arrival</con:value></con:property><con:property><con:name>inputinclusion1stquote4</con:name><con:value>Sightseeing: Cab for sightseeing</con:value></con:property><con:property><con:name>inputinclusion1stquote5</con:name><con:value>Sightseeing: Rohtang Pass </con:value></con:property><con:property><con:name>inputinclusion1stquote6</con:name><con:value>: Government Taxes/VAT/ Service Charges</con:value></con:property><con:property><con:name>inputinclusion1stquote7</con:name><con:value>Others: Other Exclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote8</con:name><con:value>Transport: Bus Tickets  </con:value></con:property><con:property><con:name>inputinclusion1stquote9</con:name><con:value>Accomodation: Hotel</con:value></con:property><con:property><con:name>inputinclusion1stquote10</con:name><con:value>Transport: Flight</con:value></con:property><con:property><con:name>inputinclusion1stquote11</con:name><con:value>Transport: Rail Fare</con:value></con:property><con:property><con:name>inputinclusion1stquote12</con:name><con:value>Transport: Cab</con:value></con:property><con:property><con:name>inputinclusion1stquote13</con:name><con:value>Accomodation: Camp Stay</con:value></con:property><con:property><con:name>inputinclusion1stquote14</con:name><con:value>Sightseeing: Local Sightseeing</con:value></con:property><con:property><con:name>inputinclusion1stquote15</con:name><con:value>Honeymoon Inclusions: Honeymoon Inclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote16</con:name><con:value>Houseboat Stay: Private Houseboat</con:value></con:property><con:property><con:name>inputexclusion1stquote0</con:name><con:value>Meal plan: Breakfast</con:value></con:property><con:property><con:name>inputexclusion1stquote1</con:name><con:value>Others: Other Inclusions</con:value></con:property><con:property><con:name>inputinclusion2ndquote0</con:name><con:value>Meal plan: Dinner</con:value></con:property><con:property><con:name>inputinclusion2ndquote1</con:name><con:value>Transport: Arrival </con:value></con:property><con:property><con:name>inputinclusion2ndquote2</con:name><con:value>Transport: Departure</con:value></con:property><con:property><con:name>inputinclusion2ndquote3</con:name><con:value>Meal plan: Welcome Drink on Arrival</con:value></con:property><con:property><con:name>inputinclusion2ndquote4</con:name><con:value>Sightseeing: Cab for sightseeing</con:value></con:property><con:property><con:name>inputinclusion2ndquote5</con:name><con:value>Sightseeing: Rohtang Pass </con:value></con:property><con:property><con:name>inputinclusion2ndquote6</con:name><con:value>: Government Taxes/VAT/ Service Charges</con:value></con:property><con:property><con:name>inputinclusion2ndquote7</con:name><con:value>Others: Other Exclusions</con:value></con:property><con:property><con:name>inputinclusion2ndquote8</con:name><con:value>Transport: Bus Tickets  </con:value></con:property><con:property><con:name>inputinclusion2ndquote9</con:name><con:value>Accomodation: Hotel</con:value></con:property><con:property><con:name>inputinclusion2ndquote10</con:name><con:value>Transport: Flight</con:value></con:property><con:property><con:name>inputinclusion2ndquote11</con:name><con:value>Transport: Rail Fare</con:value></con:property><con:property><con:name>inputinclusion2ndquote12</con:name><con:value>Transport: Cab</con:value></con:property><con:property><con:name>inputinclusion2ndquote13</con:name><con:value>Accomodation: Camp Stay</con:value></con:property><con:property><con:name>inputinclusion2ndquote14</con:name><con:value>Sightseeing: Local Sightseeing</con:value></con:property><con:property><con:name>inputinclusion2ndquote15</con:name><con:value>Honeymoon Inclusions: Honeymoon Inclusions</con:value></con:property><con:property><con:name>inputinclusion2ndquote16</con:name><con:value>Houseboat Stay: Private Houseboat</con:value></con:property><con:property><con:name>inputexclusion2ndquote0</con:name><con:value>Meal plan: Breakfast</con:value></con:property><con:property><con:name>inputexclusion2ndquote1</con:name><con:value>Others: Other Inclusions</con:value></con:property><con:property><con:name>inputinclusion1stquote17</con:name><con:value>Houseboat Stay: Sharing Houseboat</con:value></con:property><con:property><con:name>inputinclusion2ndquote17</con:name><con:value>Houseboat Stay: Sharing Houseboat</con:value></con:property></con:properties></con:testCase><con:testCase id="564349e6-260a-4c53-9a74-0ea60756052d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_AgentAttachmentShownToAgentInChat" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given traveler signup" id="70568c5f-2986-451c-8a61-598000d1baec"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f249272f-190b-4cb3-846b-69915ab82352</con:targetTestCase><con:properties><con:property><con:name>timestamp</con:name><con:value>1522220053763</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2220053763</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692810</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522220053763@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>timestamp</con:entry><con:entry>phone</con:entry><con:entry>password</con:entry><con:entry>confirmpassword</con:entry><con:entry>UserID</con:entry><con:entry>emails</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler create the trip" id="999d8b56-0046-4b76-ad08-8de18cccb935"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d57b6bec-b417-4f61-b937-518bd6e98dd1</con:targetTestCase><con:properties><con:property><con:name>to_loc</con:name><con:value>Kerala</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>${#Project#trip_days}</con:value></con:property><con:property><con:name>start_days</con:name><con:value>${#Project#start_days}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value>/requested_trips/2559041-Test1522220053763/customize?flight=&amp;hotels=</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692810</con:value></con:property><con:property><con:name>start_date</con:name><con:value>2018-04-12</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>2559041</con:value></con:property><con:property><con:name>tolocation</con:name></con:property><con:property><con:name>budgets</con:name><con:value>26500..28500</con:value></con:property><con:property><con:name>trip_day</con:name><con:value>5</con:value></con:property><con:property><con:name>addinfos</con:name><con:value>test</con:value></con:property><con:property><con:name>infos</con:name><con:value>test1</con:value></con:property></con:properties><con:returnProperties><con:entry>to_loc</con:entry><con:entry>from_loc</con:entry><con:entry>request_redirectUrl</con:entry><con:entry>UserID</con:entry><con:entry>start_date</con:entry><con:entry>RequestID</con:entry><con:entry>budgets</con:entry><con:entry>trip_day</con:entry><con:entry>addinfos</con:entry><con:entry>infos</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given tag is assigned to trip and trip is marked Active" id="6c6cab38-b09b-4d76-ab73-48aaaa6ef870"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>99db756f-cbf5-491a-ab9c-367a3be59142</con:targetTestCase><con:properties><con:property><con:name>tag_id</con:name><con:value>521</con:value></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>Cookie</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property></con:properties><con:returnProperties><con:entry>tag_id</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the quote" id="b89ea65d-5805-477f-83de-9bbdc876f899"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c1bb06eb-caf1-45e6-a226-1b71c0fa504a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_url</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_type</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>4000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"21","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"22","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"23","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"24","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"25","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"26","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"27","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"28","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"29","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"30","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"45","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"46","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"47","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"48","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"49","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"50","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"51","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"52","comments_added":"","is_included":"0"},"18":{"id":"","inclusion_id":"488","comments_added":"","is_included":"0"},"19":{"id":"","inclusion_id":"489","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26320</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>PB. No. 40, 685612 Munnar, India</con:value></con:property><con:property><con:name>d_id</con:name><con:value>587488</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708321</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>cabdetail</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>flight</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property><con:property><con:name>city</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>name</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>address1</con:name><con:value>Chinnakanal, Chinnakkanal, Via Suryanelli</con:value></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Tall Trees","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Club Mahindra Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Tall Trees</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>cabdetail</con:entry><con:entry>flight</con:entry><con:entry>Totalday</con:entry><con:entry>city</con:entry><con:entry>name</con:entry><con:entry>address1</con:entry><con:entry>hoteldetail</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent give the 2nd quote" id="7fff9ba8-67cc-4c59-b7a7-b983f7f24903"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>604eb85b-2dc9-422d-ad06-10f8d9dccf9a</con:targetTestCase><con:properties><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_url</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value/></con:property><con:property><con:name>request_id</con:name><con:value>${Given traveler create the trip#requestID}</con:value></con:property><con:property><con:name>price</con:name><con:value>5000</con:value></con:property><con:property><con:name>hotelnames</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>quoteincl</con:name><con:value>"0":{"id":"","inclusion_id":"21","comments_added":"","is_included":"1"},"1":{"id":"","inclusion_id":"22","comments_added":"","is_included":"0"},"2":{"id":"","inclusion_id":"23","comments_added":"","is_included":"0"},"3":{"id":"","inclusion_id":"24","comments_added":"","is_included":"0"},"4":{"id":"","inclusion_id":"25","comments_added":"","is_included":"0"},"5":{"id":"","inclusion_id":"26","comments_added":"","is_included":"0"},"6":{"id":"","inclusion_id":"27","comments_added":"","is_included":"0"},"7":{"id":"","inclusion_id":"28","comments_added":"","is_included":"0"},"8":{"id":"","inclusion_id":"29","comments_added":"","is_included":"0"},"9":{"id":"","inclusion_id":"30","comments_added":"","is_included":"0"},"10":{"id":"","inclusion_id":"45","comments_added":"","is_included":"0"},"11":{"id":"","inclusion_id":"46","comments_added":"","is_included":"0"},"12":{"id":"","inclusion_id":"47","comments_added":"","is_included":"0"},"13":{"id":"","inclusion_id":"48","comments_added":"","is_included":"0"},"14":{"id":"","inclusion_id":"49","comments_added":"","is_included":"0"},"15":{"id":"","inclusion_id":"50","comments_added":"","is_included":"0"},"16":{"id":"","inclusion_id":"51","comments_added":"","is_included":"0"},"17":{"id":"","inclusion_id":"52","comments_added":"","is_included":"0"},"18":{"id":"","inclusion_id":"488","comments_added":"","is_included":"0"},"19":{"id":"","inclusion_id":"489","comments_added":"","is_included":"0"}</con:value></con:property><con:property><con:name>traveldays</con:name><con:value>{"0":{"title":"test", "description":"test1", "_destroy":"false"},"1":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"2":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"3":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"},"4":{"title":"test2", "description":"gfdhgftest", "_destroy":"false"}}</con:value></con:property><con:property><con:name>saveinclusions</con:name><con:value>true</con:value></con:property><con:property><con:name>included</con:name><con:value>kdfhsdkjhhvjsdhfl</con:value></con:property><con:property><con:name>excluded</con:name><con:value>kdfhsdkjsdhfl</con:value></con:property><con:property><con:name>name</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>city</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>city_id</con:name><con:value>26320</con:value></con:property><con:property><con:name>user_id</con:name></con:property><con:property><con:name>destinationID</con:name></con:property><con:property><con:name>address</con:name><con:value>Chinnakanal, Chinnakkanal, Via Suryanelli</con:value></con:property><con:property><con:name>d_id</con:name><con:value>621707</con:value></con:property><con:property><con:name>img</con:name></con:property><con:property><con:name>picture</con:name></con:property><con:property><con:name>travel_title_1</con:name><con:value>test</con:value></con:property><con:property><con:name>travel_title_2</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_3</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_4</con:name><con:value>test2</con:value></con:property><con:property><con:name>travel_title_5</con:name><con:value>test2</con:value></con:property><con:property><con:name>quoteid</con:name><con:value>4708322</con:value></con:property><con:property><con:name>agentname</con:name><con:value/></con:property><con:property><con:name>travel_title_6</con:name></con:property><con:property><con:name>travel_title_7</con:name></con:property><con:property><con:name>travel_title_8</con:name></con:property><con:property><con:name>address1</con:name></con:property><con:property><con:name>city1</con:name></con:property><con:property><con:name>city_id1</con:name></con:property><con:property><con:name>d_id1</con:name></con:property><con:property><con:name>img1</con:name></con:property><con:property><con:name>picture1</con:name></con:property><con:property><con:name>name1</con:name></con:property><con:property><con:name>hoteldetail</con:name><con:value>"hotels_info_1":[{"alternate_hotel":"0","hotel_id":"","ta_url":"","nights":"","hotel_name":"","hotel_city_id":"","hotel_city_name":"","hotel_category":"","room_type":"","comments":""}],"hotels_info":[{"nights":"1,2,3,4","hotel_name":"Club Mahindra Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"0","room_type":"Standard","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"hoteltest"},{"nights":"1,2,3,4","hotel_name":"Eastend Munnar","hotel_id":"","hotel_ta_url":"","alternate_hotel":"1","room_type":"Super Delux","hotel_city_id":"26320","hotel_city_name":"Munnar","hotel_category":"","comments":"similarhoteltest"}]</con:value></con:property><con:property><con:name>cabsdetail</con:name><con:value>cabstest</con:value></con:property><con:property><con:name>flight</con:name><con:value/></con:property><con:property><con:name>HotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>Hotelname</con:name><con:value>Club Mahindra Munnar</con:value></con:property><con:property><con:name>RoomTypes</con:name><con:value>Standard</con:value></con:property><con:property><con:name>HotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>SimilarHotelNights</con:name><con:value>1,2,3,4</con:value></con:property><con:property><con:name>SimilarHotelname</con:name><con:value>Eastend Munnar</con:value></con:property><con:property><con:name>SimilarRoomTypes</con:name><con:value>Super Delux</con:value></con:property><con:property><con:name>SimilarHotelCity</con:name><con:value>Munnar</con:value></con:property><con:property><con:name>HotelComments</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComments</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>HotelComment</con:name><con:value>hoteltest</con:value></con:property><con:property><con:name>SimilarHotelComment</con:name><con:value>similarhoteltest</con:value></con:property><con:property><con:name>Totalday</con:name><con:value>5</con:value></con:property></con:properties><con:returnProperties><con:entry>user_email</con:entry><con:entry>request_url</con:entry><con:entry>request_type</con:entry><con:entry>price</con:entry><con:entry>hotelnames</con:entry><con:entry>quoteincl</con:entry><con:entry>traveldays</con:entry><con:entry>saveinclusions</con:entry><con:entry>included</con:entry><con:entry>excluded</con:entry><con:entry>name</con:entry><con:entry>city</con:entry><con:entry>city_id</con:entry><con:entry>address</con:entry><con:entry>d_id</con:entry><con:entry>travel_title_1</con:entry><con:entry>travel_title_2</con:entry><con:entry>travel_title_3</con:entry><con:entry>travel_title_4</con:entry><con:entry>travel_title_5</con:entry><con:entry>quoteid</con:entry><con:entry>agentname</con:entry><con:entry>hoteldetail</con:entry><con:entry>cabsdetail</con:entry><con:entry>flight</con:entry><con:entry>HotelNights</con:entry><con:entry>Hotelname</con:entry><con:entry>RoomTypes</con:entry><con:entry>HotelCity</con:entry><con:entry>SimilarHotelNights</con:entry><con:entry>SimilarHotelname</con:entry><con:entry>SimilarRoomTypes</con:entry><con:entry>SimilarHotelCity</con:entry><con:entry>HotelComments</con:entry><con:entry>SimilarHotelComments</con:entry><con:entry>HotelComment</con:entry><con:entry>SimilarHotelComment</con:entry><con:entry>Totalday</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given agent login" id="af9d96dc-b193-43f5-baa8-f9ebaf2248a1"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTY3Yzk4NzQyOGVkZWY0MThjY2E4N2UwM2Y2YjE4YWFhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--74b87b88c9ead0c5b20923fbfa265ba24fc1bc0c; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="Given traveler login" id="3bd4b666-4007-414a-b2ec-acd7baedad00"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f02d89f4-b8de-44a2-badb-3d1c847f493e</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTExNjc5Yzg2ZWFjN2RlOWM2ZGVkODMxYjdjNWNhZDlmBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA4rUGUkiIiQyYSQxMCRxM3BNQWhwZk5NcVhjMlFkS2ZQemd1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--80cb11dfedc172ad18442cac6485ee6a73a01184; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>1692810</con:value></con:property><con:property><con:name>email</con:name><con:value xsi:nil="true"/></con:property><con:property><con:name>traveler_email</con:name><con:value>lorem_tt_test_ipsum1522220053763@gmail.com</con:value></con:property><con:property><con:name>useremail</con:name><con:value>${Given traveler signup#emails}</con:value></con:property><con:property><con:name>userpassword</con:name><con:value>${Given traveler signup#password}</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>traveler_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then agent send attachment to traveler" id="8e0f91d5-a581-4254-957b-23607653d123"><con:settings/><con:config service="CommentAttachment" resourcePath="/api/v1/requested_trips/{request_id}/quotes/{quote_id}/comments" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then agent send attachment to traveler" id="247bbd36-6955-4d20-a7e3-b0e6ad8f6131" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Cookie" value="${Given agent login#Cookie}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request> [{
 	"attachments_attributes": [{
 	"file": "${#TestCase#filepath}",
     "file_name": "${#TestCase#filename}",
            "a_id": "",
            "local_url": "",
            "type": "image/png"}],
 	"comment": "${#TestCase#input_agentcomment}",
 	"commentable_id": "${Given agent give the quote#quoteid}",
 	"commentable_type": "Quote",
 	"email": "${Given agent login#agent_email}",
 	"role": "agent",
 	"title": "${#TestCase#agenttitle}",
 	"user_id": "${Given agent login#user_id}"
 }]</con:request><con:originalUri>http://master.ttdev.in/api/v1/requested_trips/request_id/quotes/quote_id/comments</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="faab4b48-b003-41b4-8be8-0bf0d8bd378c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9aea37c2-ed43-451a-9c6b-961938cbcb21" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);
String agentchattitle = jsonHolder.title[0];
String agentcomment = jsonHolder.comment[0];
String agentemail = jsonHolder.email[0];
String agentid = jsonHolder.user_id[0];

messageExchange.modelItem.testCase.setPropertyValue("agent_chattitle",agentchattitle);
messageExchange.modelItem.testCase.setPropertyValue("agent_comment",agentcomment);
messageExchange.modelItem.testCase.setPropertyValue("agent_emails",agentemail);
messageExchange.modelItem.testCase.setPropertyValue("agent_id",agentid);
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:attachment><con:name>Commission.png</con:name><con:contentType>image/x-png</con:contentType><con:contentId>Commission.png</con:contentId><con:url>C:/Users/TravelTriangle/Desktop/Commission.png</con:url><con:id>80134635-f2c3-479a-a006-0964cf465b17</con:id></con:attachment><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>request_id</con:entry><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then traveler view the chat history" id="3bb6c0cb-eb9e-45e8-aeec-5f9d91b41364"><con:settings/><con:config service="TravelerChatHistory" resourcePath="/bookings/v1/requested_trips/{rtrip_id}/quotes/{quote_id}/comments" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then traveler view the chat history" id="b062f4f6-b2fc-44a7-bcab-192c9923ba40" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given traveler login#Cookie}"/>
  &lt;con:entry key="Content-Type" value="application/json; charset = utf-8;"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://bookings-qa2.ttdev.in/bookings/v1/requested_trips/2247371/quotes/4116902/comments</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5879ac3d-81a1-4ce5-ae89-43388d4f1baf" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="6e65f738-ae9e-46a2-8f87-86fb14967f1e" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.lang.*;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String totalcomment = jsonHolder.data.total_comments;
assert totalcomment == '1';

String outputtitle = jsonHolder.data.comments.title[0];
String inputtitle = context.expand('${#TestCase#agent_chattitle}');
assert outputtitle == inputtitle;

String outputcomment = jsonHolder.data.comments.comment[0];
String inputcomment = context.expand('${#TestCase#agent_comment}');
assert outputcomment == inputcomment;

String outputcommentemail  = jsonHolder.data.comments.email[0];
String inputagentemail  = context.expand('${#TestCase#agent_emails}');
assert inputagentemail == outputcommentemail;

String outputcommentuserid = jsonHolder.data.comments.user_id[0];
String inputcommentuserid = context.expand('${#TestCase#agent_id}');
assert inputcommentuserid == outputcommentuserid;

String outputattachmentname = jsonHolder.data.comments.attachment_list[0].file_name[0];
String inputattachmentname = context.expand('${#TestCase#filename}');
assert outputattachmentname == inputattachmentname;

</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="rtrip_id" value="${Given traveler create the trip#RequestID}"/>
  <con:entry key="quote_id" value="${Given agent give the quote#quoteid}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>userplatform</con:name><con:value>Not_mobile</con:value></con:property><con:property><con:name>agentcomment</con:name><con:value>test</con:value></con:property><con:property><con:name>chattitle</con:name><con:value>hello</con:value></con:property><con:property><con:name>agenttitle</con:name><con:value>hi</con:value></con:property><con:property><con:name>input_agentcomment</con:name><con:value>quotetest</con:value></con:property><con:property><con:name>filepath</con:name><con:value>http://s3.amazonaws.com/traveltriangle-dev-docs/chat_attachments/Attachment_User423196_1513924022906.png</con:value></con:property><con:property><con:name>filename</con:name><con:value>Attachment_User423196_1513924022906.png</con:value></con:property><con:property><con:name>agent_chattitle</con:name><con:value>hi #Not_mobile</con:value></con:property><con:property><con:name>agent_comment</con:name><con:value>quotetest</con:value></con:property><con:property><con:name>agent_emails</con:name><con:value>ttprodagent@gmail.com</con:value></con:property><con:property><con:name>agent_id</con:name><con:value>759117</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="59eefb7c-009c-4e4c-9c7c-859ed1acfc7d" name="SignUp" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f249272f-190b-4cb3-846b-69915ab82352" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health_Check_SignUp" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="5d5e417c-2a2e-473f-a539-8133589b8bc8"><con:settings/><con:config><script>String timestamp =  System.currentTimeMillis();

String user_email = "lorem_tt_test_ipsum" + timestamp + "@gmail.com";

String phone = timestamp.substring(3,13);

testRunner.testCase.setPropertyValue("timestamp",timestamp);
testRunner.testCase.setPropertyValue("emails",user_email);
testRunner.testCase.setPropertyValue("phone",phone);
testRunner.testCase.setPropertyValue("password","tt12345");
testRunner.testCase.setPropertyValue("confirmpassword","tt12345");
</script></con:config></con:testStep><con:testStep type="restrequest" name="Given new traveler signup" id="e26aca82-1fb5-4016-bd8a-a7c118b73d69"><con:settings/><con:config service="SignUp" methodName="Method 1" resourcePath="/browsing/{api_version}/users" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Given new traveler signup" id="9146bce2-e152-4a26-91b3-ff5cf38e8aa3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="X-CLIENT-DEBUG-TOKEN" value="a704f2fcc8d69618997259d65da7bf17678970d51d680d6d0edc03872f0a9b712f882b6bec1829ee"/>
  &lt;con:entry key="X-CLIENT-API-TOKEN" value="93f67dbdacf3906955b5c529bb692fb11ac13dc3015c87f25c22fae51a5d79290841127492e312f2"/>
  &lt;con:entry key="Accept" value="application/json;"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
	"user": {
		"name": "Test${#TestCase#timestamp}",
		"email": "${#TestCase#emails}",
		"password": "${#TestCase#password}",
		"password_confirmation": "${#TestCase#confirmpassword}",
		"tnc": "1",
		"phone_no": "${#TestCase#phone}",
		"next_url": "true"
	}
}</con:request><con:originalUri>http://bookings-qa1.ttdev.in/browsing/api_version/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="75e10aa0-2b63-474d-9b5e-bc8cf7ec706f" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="06c0ac1d-04cf-4682-be51-9bffe01e8c4e" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def jsonHolder = new JsonSlurper().parseText(response);

String userid = jsonHolder.data.user_id;
String message = jsonHolder.data.message;

messageExchange.modelItem.testCase.setPropertyValue("UserID", userid);
assert message == "User created successfully";</scriptText></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>timestamp</con:name><con:value>1522220053763</con:value></con:property><con:property><con:name>email</con:name><con:value>lorem_tt_test_ipsum1514706834780@gmail.com</con:value></con:property><con:property><con:name>phone</con:name><con:value>2220053763</con:value></con:property><con:property><con:name>password</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>confirmpassword</con:name><con:value>tt12345</con:value></con:property><con:property><con:name>UserID</con:name><con:value>1692810</con:value></con:property><con:property><con:name>emails</con:name><con:value>lorem_tt_test_ipsum1522220053763@gmail.com</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>execution_tag</con:name><con:value>kanu</con:value></con:property></con:properties></con:testSuite><con:testSuite id="304b9f6e-f444-4014-9593-4e037c9f20c6" name="AgentCreateInvoice" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="0c0f6f41-dcaf-4707-a0f9-e1200d5eabae" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Agent_Create_Invoice_For_Traveller" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given agent login" id="81fd40c2-fed1-4d6b-9977-a96937a811ea"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>6f5d27b9-2f28-4e88-8106-a7cf34e9c3c2</con:targetTestCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTdkMzQ2NzJmNDM3OTgxOTk5ZTY4ZmE4MGE1YzE4ZmE4BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA02VC0kiIiQyYSQxMCRaWjAwNThjMWI0Q0JtMEMyZVdyN0hlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--5a1636c77f609ee7e7832aecc9a32c74c427186c; path=/; HttpOnly</con:value></con:property><con:property><con:name>user_id</con:name><con:value>759117</con:value></con:property><con:property><con:name>agent_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property></con:properties><con:returnProperties><con:entry>Cookie</con:entry><con:entry>user_id</con:entry><con:entry>agent_email</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="agent get the hash key for prefilled invoice data" id="8d6bd6bd-d49c-42d9-b038-5d8e676352f6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>Yve3LZ5d8XwAX2fP/60pAzd0ognbfDy7kRJuCetlpt0=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/invoices/prefill_invoice_data.json?quote_id=${#TestCase#quoteId}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>get</con:value></con:property><con:property><con:name>request_type</con:name><con:value>${#Project#agent_user_email}</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Agent get prefilled invoice data" id="07735444-2d9b-4df2-aca4-ebbfc4263611"><con:settings/><con:config service="InvoicePrefilledData" resourcePath="/api/v4/invoices/prefill_invoice_data.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Agent get prefilled invoice data" id="b352093f-30b4-4595-8fc0-2612e0b51b77" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  <con:entry key="TT-Mobile" value="${agent get the hash key for prefilled invoice data#hash_key}"/>
  <con:entry key="Content-Type" value="application/json"/>
  <con:entry key="Accept" value="application/json; charset=utf-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.agentnotifier"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/invoices/prefill_invoice_data.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="aeb41f42-2bf2-43e5-a5ea-1921e521e8a8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="45a76e78-2e94-4e13-8608-ea70284ccacd" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def deliverablesAgent =  json_response_holder.deliverables_agent.deliverable_id;
def agentCommision =  json_response_holder.agent_commision;
def selectPayment =  json_response_holder.selectPayment;
def quoteID = json_response_holder.invoice.quote_id;
def agentID = json_response_holder.invoice.agent_id;
def invoiceID = json_response_holder.invoice.invoice_id;
def invoiceTravellerFullName = json_response_holder.invoice.traveller_fullname;
def invoiceTravellerPhnNo = json_response_holder.invoice.traveller_phone_no;
def invoiceAgentEarning = json_response_holder.invoice.agent_earning;
def requestedTripID = json_response_holder.invoice.requested_trip_id;
def invoiceDiscount = json_response_holder.invoice.discount;
if(invoiceDiscount==null){
	invoiceDiscount = 0.0;
}
def invoicecfee = json_response_holder.invoice.cfee;
def invoiceDiscountTraveller = json_response_holder.invoice.discount_traveller;
def invoiceFlightAmount = json_response_holder.invoice.flight_amount;
def invoiceVisaCost = json_response_holder.invoice.visa_cost;
def invoiceTTComission = json_response_holder.invoice.ttcommission;
def invoiceVoucherDays = json_response_holder.invoice.voucher_days;
def invoiceTOC = json_response_holder.invoice.toc;
def invoiceTripDetails = json_response_holder.invoice.trip_details;
def invoiceEmail = json_response_holder.invoice.email;
def invoicePhoneNumber = json_response_holder.invoice.phone_no;
def invoiceAddress = json_response_holder.invoice.address;

messageExchange.modelItem.testCase.setPropertyValue("deliverablesAgent",deliverablesAgent[0].toString());
messageExchange.modelItem.testCase.setPropertyValue("selectPayment",selectPayment.toString());
messageExchange.modelItem.testCase.setPropertyValue("quoteID",quoteID.toString());
messageExchange.modelItem.testCase.setPropertyValue("agentID",agentID.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceID",invoiceID.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceTravellerFullName",invoiceTravellerFullName.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceTravellerPhnNo",invoiceTravellerPhnNo.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceAgentEarning",invoiceAgentEarning.toString());
messageExchange.modelItem.testCase.setPropertyValue("requestedTripID",requestedTripID.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceDiscount",invoiceDiscount.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceDiscountTraveller",invoiceDiscountTraveller.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoicecfee",invoicecfee.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceFlightAmount",invoiceFlightAmount.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceVisaCost",invoiceVisaCost.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceTTComission",invoiceTTComission.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceVoucherDays",invoiceVoucherDays.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceTOC",invoiceTOC.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceTripDetails",invoiceTripDetails.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceEmail",invoiceEmail.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoicePhoneNumber",invoicePhoneNumber.toString());
messageExchange.modelItem.testCase.setPropertyValue("invoiceAddress",invoiceAddress.toString());
messageExchange.modelItem.testCase.setPropertyValue("agentCommision",agentCommision.toString());


def paymentsAttributesID = json_response_holder.invoice.payments_attributes.id[0];
def paymentsAttributesFromTraveler = json_response_holder.invoice.payments_attributes.from_traveler[0];
def paymentsAttributesInvoiceTravelerCurrency = json_response_holder.invoice.payments_attributes.traveler_currency[0];
def paymentsAttributesInvoiceScheduleDate = json_response_holder.invoice.payments_attributes.scheduled_date[0];
def paymentsAttributesInvoiceDestroy = json_response_holder.invoice.payments_attributes.__destroy[0];
def paymentsAttributesInvoiceStatus = json_response_holder.invoice.payments_attributes.status[0];
def paymentsAttributesInvoiceUserID = json_response_holder.invoice.payments_attributes.user_id[0];
def paymentsAttributesInvoiceMethod = json_response_holder.invoice.payments_attributes.method[0];
def paymentsAttributesInvoiceTDR = json_response_holder.invoice.payments_attributes.tdr[0];
def paymentsAttributesInvoicePG = json_response_holder.invoice.payments_attributes.pg[0];
def paymentsAttributesInvoiceMode = json_response_holder.invoice.payments_attributes.mode[0];
def paymentsAttributesFromTravelerActual = json_response_holder.invoice.payments_attributes.from_traveler_actual[0];
def paymentsAttributesInvoiceDescription = json_response_holder.invoice.payments_attributes.description[0];
def paymentsAttributesInvoiceIsEditable = json_response_holder.invoice.payments_attributes.is_editable[0];

messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesID",paymentsAttributesID.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesFromTraveler",paymentsAttributesFromTraveler.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceTravelerCurrency",paymentsAttributesInvoiceTravelerCurrency.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceScheduleDate",paymentsAttributesInvoiceScheduleDate.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceDestroy",paymentsAttributesInvoiceDestroy.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceStatus",paymentsAttributesInvoiceStatus.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceUserID",paymentsAttributesInvoiceUserID.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceMethod",paymentsAttributesInvoiceMethod.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceTDR",paymentsAttributesInvoiceTDR.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoicePG",paymentsAttributesInvoicePG.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceMode",paymentsAttributesInvoiceMode.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesFromTravelerActual",paymentsAttributesFromTravelerActual.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceDescription",paymentsAttributesInvoiceDescription.toString());
messageExchange.modelItem.testCase.setPropertyValue("paymentsAttributesInvoiceIsEditable",paymentsAttributesInvoiceIsEditable.toString());

String today = new Date().format('yyyy-MM-dd');
messageExchange.modelItem.testCase.setPropertyValue("todayDate",today);


</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="quote_id" value="${#TestCase#quoteId}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>quote_id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="agent get the hash key for sync invoice comission payment" id="70da535a-e217-4e6f-a232-a84a6fe20607"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>moebPtN2nZl9eM39PpWrKKv70v5s0VEQ/wk0h1VNY48=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/invoices/sync_invoice_commission_payments.json?security_auth_token=ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="user sync invoice comission payment" id="277f4d62-585f-49ee-9f3b-a9be55631e63"><con:settings/><con:config service="InvoiceCommisiion" resourcePath="/api/v4/invoices/sync_invoice_commission_payments.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="user sync invoice comission payment" id="6c77f7f1-8c5f-49d4-a022-94b5a9930451" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  <con:entry key="TT-Mobile" value="${agent get the hash key for sync invoice comission payment#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.agentnotifier"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
  "agent_commission_charged": ${#TestCase#agentCommision},
  "discount": ${#TestCase#invoiceDiscount},
  "discount_traveller": ${#TestCase#invoiceDiscountTraveller},
  "flight_amount": ${#TestCase#invoiceFlightAmount},
  "payments_attributes": [
    {
      "_destroy": ${#TestCase#paymentsAttributesInvoiceDestroy},
      "from_traveler": ${#TestCase#paymentsAttributesFromTraveler},
      "is_editable": ${#TestCase#paymentsAttributesInvoiceIsEditable},
      "scheduled_date": "${#TestCase#todayDate}",
      "status": "${#TestCase#paymentsAttributesInvoiceStatus}",
      "traveler_currency": "${#TestCase#paymentsAttributesInvoiceTravelerCurrency}",
      "user_id": ${#TestCase#paymentsAttributesInvoiceUserID}
    }
  ],
  "quote_id": "${#TestCase#quoteId}",
  "visa_cost": ${#TestCase#invoiceVisaCost}
}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v4/invoices/sync_invoice_commission_payments.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a661edfa-0286-4d36-b36a-9d2c31698e45" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="00378e4a-df06-45c2-8868-0f6d4f9caa52" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def netAmount = json_response_holder.net_amount;
def landPackagecCost = json_response_holder.land_package_cost;
def commisionAmount = json_response_holder.commision_amount;
def amountPayToYou = json_response_holder.amount_payable_to_you;
def agentCommissionCharged = json_response_holder.agent_commission_charged;</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="agent get the hash key for create invoice" id="2f817a6f-99f5-4615-9e40-3333ab7ccc89"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>PawRBbQ5OvGqLrjhfEjhOJjYV4r79S0GOpz5RSXdw0A=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/invoices/create_invoice.json?security_auth_token=ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="agent create invoice" id="299ee14e-f08e-4e0b-bec6-3e9d228d414c"><con:settings/><con:config service="CreateInvoice" resourcePath="/api/v4/invoices/create_invoice.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="agent create invoice" id="e3a9e075-4d6c-4525-92dc-93a23212a8ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  <con:entry key="TT-Mobile" value="${agent get the hash key for create invoice#hash_key}"/>
  <con:entry key="Content-Type" value="application/json"/>
  <con:entry key="Accept" value="application/json; charset=utf-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.agentnotifier"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{
  "invoice": 
  {
    "address": "",
    "agent_earning": ${#TestCase#invoiceAgentEarning},
    "agent_id": ${#TestCase#agentID},
    "discount": ${#TestCase#invoiceDiscount},
    "cfee": ${#TestCase#invoicecfee},
    "discount_traveller": ${#TestCase#invoiceDiscountTraveller},
    "email": "${#TestCase#invoiceEmail}",
    "flight_amount": 0.0,
    "payments_attributes": {
      "0": {
        "from_traveler": ${#TestCase#paymentsAttributesFromTraveler},
        "scheduled_date": "${#TestCase#todayDate}",
        "status": "${#TestCase#paymentsAttributesInvoiceStatus}",
        "traveler_currency": "${#TestCase#paymentsAttributesInvoiceTravelerCurrency}",
        "user_id": ${#TestCase#paymentsAttributesInvoiceUserID}
      }
    },
    "phone_no": "${#TestCase#invoicePhoneNumber}",
    "quote_id": "${#TestCase#quoteId}",
    "requested_trip_id": ${#TestCase#requestedTripID},
    "invoices_deliverables_attributes": {
      "0": {
        "deliverable_id": ${#TestCase#deliverablesAgent},
        "_destroy": false
      }
  },
    "toc": "snnsnssnsnsnccbvdjvb",
    "traveller_fullname": "${#TestCase#invoiceTravellerFullName}",
    "traveller_phone_no": "${#TestCase#invoiceTravellerPhnNo}",
    "trip_details": "abcd",
    "ttcommission": ${#TestCase#invoiceTTComission},
    "visa_cost": ${#TestCase#invoiceVisaCost},
    "voucher_days": ${#TestCase#invoiceVoucherDays}
  }
}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v4/invoices/create_invoice.json</con:originalUri><con:assertion type="GroovyScriptAssertion" id="011ab8fc-2955-46b2-a2d7-64337921b61f" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def success = json_response_holder.success;

assert success == true:" success is not true"

def invoiceID = json_response_holder.invoice_id;

messageExchange.modelItem.testCase.setPropertyValue("invoiceID",invoiceID.toString());</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="1da10344-87d8-4224-b2b9-0668c77e2919" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="agent get the hash key for send invoice" id="e6000d5d-0940-464b-b921-81c7143e22ff"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5aef3164-72cc-4444-b245-bf72540d208b</con:targetTestCase><con:properties><con:property><con:name>hash_key</con:name><con:value>J4g8fuTVDtfHdPNSbb/ruM1u8+nrZBh9o/iOzr+tZ2M=</con:value></con:property><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}api/v4/invoices/send_invoice.json?security_auth_token=ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk&amp;invoice_id=${#TestCase#invoiceID}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#agent_user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="agent send invoice to user" id="2b7cf2c1-696c-4c99-a1e3-f9c33fcfafe0"><con:settings/><con:config service="SendInvoice" resourcePath="/api/v4/invoices/send_invoice.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="agent send invoice to user" id="f2b52a37-569e-4411-99e9-5faa33461d92" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given agent login#Cookie}"/>
  <con:entry key="TT-Mobile" value="${agent get the hash key for send invoice#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.agentnotifier"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/invoices/send_invoice.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d65b21f3-edc3-43ce-b930-32df7d77baca" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b118c711-8340-42b0-9355-d6e23ab49b6f" name="Script Assertion" disabled="true"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def success = json_response_holder.success;
def message = json_response_holder.message;


assert success==true:"Success is not true"
assert message == "Mail Triggered" : "Message should be Mail Triggered but it is "+message</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestCase#invoiceID}"/>
  <con:entry key="invoice_id" value="${#TestCase#invoiceID}"/>
  <con:entry key="security_auth_token" value="ekxnfvoxefmpelbvzuerofqmtcffxxcuwengpdrvwwgrbajkrk"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>security_auth_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>quoteId</con:name><con:value>4708316</con:value></con:property><con:property><con:name>agentID</con:name><con:value>759117</con:value></con:property><con:property><con:name>invoiceID</con:name><con:value>126245</con:value></con:property><con:property><con:name>invoiceTravellerFullName</con:name><con:value>Test1522220000791</con:value></con:property><con:property><con:name>invoiceTravellerPhnNo</con:name><con:value>null</con:value></con:property><con:property><con:name>invoiceAgentEarning</con:name><con:value>3700.0</con:value></con:property><con:property><con:name>requestedTripID</con:name><con:value>2559037</con:value></con:property><con:property><con:name>invoiceDiscount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceDiscountTraveller</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceFlightAmount</con:name><con:value>0.0</con:value></con:property><con:property><con:name>invoiceVisaCost</con:name><con:value>0</con:value></con:property><con:property><con:name>invoiceTTComission</con:name><con:value>300.0</con:value></con:property><con:property><con:name>invoiceVoucherDays</con:name><con:value>3</con:value></con:property><con:property><con:name>invoiceTOC</con:name><con:value>null</con:value></con:property><con:property><con:name>invoiceTripDetails</con:name><con:value>Name: Test1522220000791
Adult(s): 0
Child: 0
Destination: Kerala
</con:value></con:property><con:property><con:name>invoiceEmail</con:name><con:value>ttagentdemo@gmail.com</con:value></con:property><con:property><con:name>invoicePhoneNumber</con:name><con:value>+918826683631</con:value></con:property><con:property><con:name>invoiceAddress</con:name><con:value>, , , India - 0</con:value></con:property><con:property><con:name>paymentsAttributesID</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTraveler</con:name><con:value>4000.0</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTravelerCurrency</con:name><con:value>Rupee</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceScheduleDate</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDestroy</con:name><con:value>false</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceStatus</con:name><con:value>Scheduled</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceUserID</con:name><con:value>759117</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMethod</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceTDR</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoicePG</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceMode</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesFromTravelerActual</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceDescription</con:name><con:value>null</con:value></con:property><con:property><con:name>paymentsAttributesInvoiceIsEditable</con:name><con:value>true</con:value></con:property><con:property><con:name>agentCommision</con:name><con:value>7.5</con:value></con:property><con:property><con:name>todayDate</con:name><con:value>2018-03-28</con:value></con:property><con:property><con:name>selectPayment</con:name><con:value>1</con:value></con:property><con:property><con:name>deliverablesAgent</con:name><con:value>1</con:value></con:property><con:property><con:name>user_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property><con:property><con:name>user_password</con:name><con:value>ttprodagent123</con:value></con:property><con:property><con:name>traveler_apiendpoint</con:name><con:value>bookings-qa2.ttdev.in</con:value></con:property><con:property><con:name>invoicecfee</con:name><con:value>null</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>traveler_apiendpoint</con:name><con:value>bookings-qa2.ttdev.in</con:value></con:property><con:property><con:name>user_email</con:name><con:value>lorem_tt_test_ipsum@mailinator.com</con:value></con:property><con:property><con:name>user_password</con:name><con:value>tt1234</con:value></con:property><con:property><con:name>agent_user_email</con:name><con:value>ttprodagent@gmail.com</con:value></con:property><con:property><con:name>agent_user_password</con:name><con:value>ttprodagent123</con:value></con:property><con:property><con:name>admin_user_email</con:name><con:value>kanupriya@traveltriangle.com</con:value></con:property><con:property><con:name>admin_user_password</con:name><con:value>kp!@#$%^&amp;*9</con:value></con:property><con:property><con:name>to_loc</con:name><con:value>Bali</con:value></con:property><con:property><con:name>from_loc</con:name><con:value>Noida, Uttar Pradesh 201301, India</con:value></con:property><con:property><con:name>trip_days</con:name><con:value>5</con:value></con:property><con:property><con:name>start_days</con:name><con:value>15 April,2018</con:value></con:property><con:property><con:name>execution_tag</con:name><con:value>healthcheck</con:value></con:property><con:property><con:name>dbname</con:name><con:value/></con:property><con:property><con:name>agent_email</con:name><con:value>ttagentdemo@gmail.com</con:value></con:property><con:property><con:name>agent_password</con:name><con:value>abc123</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:beforeRunScript>import groovy.lang.Binding;
import groovy.util.GroovyScriptEngine;
import java.sql.DriverManager;
import java.sql.Connection;
import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import com.mongodb.MongoClient;
import com.mongodb.MongoClientURI;
import com.mongodb.client.MongoDatabase;

////////////////////// Functions /////////////////////////

def filterList(commaSperatedListContent){
	def list = commaSperatedListContent.split(",");
	def filteredList = [];
	list.each(){
	def entry = it.toLowerCase().replaceAll("^\\s+", "");
	entry = entry.trim();
	if(entry != ""){
	filteredList.add(entry);}	
	}
	return filteredList;
}

def customListCompare(list1,list2){
	//list1 is the list of tags that are given by user to execute.
	//list2 is the list of tags for specific test suite.
	boolean isRunnable = false;
	for(int l1 in 0 .. list1.size()-1)
	{
		def inputTag = list1.get(l1);		
		for(int l2 in 0 .. list2.size()-1){
			
			if(inputTag.toString() == list2.get(l2).toString()){
				isRunnable =  true;
				break;
			}
		}
		if(isRunnable){
			break;
		}
	}
	return isRunnable;
}
///////////////////// Function //////////////////////////////////////////////

log.info "Start execution";
def projDir = context.expand('${projectDir}')
try{
File propFile =new File(projDir + "/Configurations/" + project.getName() + "/" + project.getName() + ".properties");
log.info propFile;
boolean isDeleted = propFile.delete();
log.info isDeleted;
}
catch(Exception e){log.info e.getMessage();}



def execution_Tag = project.getPropertyValue("execution_tag");

log.info "Test Execution Base Tag : "+ execution_Tag;

//Fetch the tags to execute the required test suites.
def filteredTags = filterList(execution_Tag) ;

def Conf_input = "";

log.info "Reading the Configuration file.....";

try{

Conf_input = new File(projDir + "/Configurations/" + project.getName() + "/TestData.xml");

def parser = new XmlParser(); //Get XML Parser.

def Configuration = parser.parse(Conf_input);//Point parser to configration file.

context.Configuration = Configuration;

}
catch(Exception e){
		assert false : "Error in reading configuration file -- " + e.getMessage();
}

def testSuiteListToExecute = [];

log.info "Fetching Test-Scenarios to execute....";

def testSuites = project.getTestSuiteList();

//Enable all TestSuites.
for(j in 0 .. testSuites.size()-1){
	//log.info testSuites.get(j).getName();
	testSuites.get(j).setDisabled(false); 
}
//Decide which test suites to execute and eventually disabled the non-relevant test suites.
		for(i in 0 .. testSuites.size()-1) {
   			def testSuiteName = testSuites.get(i).getName();
   			def tags = context.Configuration.TestSuite."${testSuiteName}".tags.text()
   			def testSuiteTags = filterList(tags);
   			   			
   			if(filteredTags == null || filteredTags.empty){
   				break;
   			}
   			else{
   				if(testSuiteTags == null || testSuiteTags.empty){
   					testSuites.get(i).setDisabled(true);
   				}
   				else{
   					def isRunnable = customListCompare(filteredTags,testSuiteTags);
   					log.info testSuiteName+":::"+isRunnable
   					if(!isRunnable){
   						testSuites.get(i).setDisabled(true);
   					}
   				}
   			}
   			
		}


// Load Databases.
log.info"Loading Databases........";

int index = 1;

String[] db_Names = project.getPropertyValue("dbname").split(",");

for(String db_Name in db_Names){

db_Name = db_Name.trim();

if(db_Name == ""){break;}

context.dbName = db_Name;

String dbConnectionString = "";

String dbDriver = "";

String dbType = "";

try{
	String databaseCollectionFile_Location = projDir + "/Configurations/" + project.getName() + "/DataBases.csv";
	
	BufferedReader reader = new BufferedReader(new FileReader(databaseCollectionFile_Location));
	
	String lineInFile = reader.readLine();
		
		while(lineInFile != null){
		
		String[] lineContents = lineInFile.split(",");
		
		if(lineContents[0] == context.dbName){
			dbType = lineContents[1]
			dbDriver = lineContents[2];
			dbConnectionString = lineContents[3];
			break;
		}
		lineInFile = reader.readLine();
		}
}
catch(Exception e){
	log.info "Couldn't load database from 'Databases' repo.Please review the file again!!" + e.getMessage();
}
context.dbDriver = dbDriver

context.dbConnectionString = dbConnectionString

log.info "Connecting to : [" + context.dbName + "] ................";

log.info "DB Connection String --" + dbConnectionString;

if(dbType.toLowerCase().contains("mongo")){
	try{
	MongoClient mongoClient = new MongoClient(new MongoClientURI(context.dbConnectionString));
   	
     context.dbConnection = mongoClient;
	if(context.mongoConnection == null){
     context.mongoConnection = mongoClient;}
     else{
     	String mongoConnectionString = "mongoConnection" + index;
     	log.info mongoConnectionString;
     	context."${mongoConnectionString}" = mongoClient;
     }
	}
	catch(Exception e){
		runner.fail("Couldn't connect to application DB -- " + context.dbName + " " + e.getMessage());
	}
}
else if(dbType.toLowerCase().contains("mysql")){
	if(context.dbName != "" &amp;&amp; context.dbName != null){
	try{
		com.eviware.soapui.support.GroovyUtils.registerJdbcDriver(context.dbDriver )
		
		def connection = DriverManager.getConnection(context.dbConnectionString);
		context.dbConnection = connection;
		if(context.mysqlConnection == null){
     		context.mysqlConnection = connection;}
     	else{
     		String mysqlConnectionString = "mysqlConnection" + index;
     		context."${mysqlConnectionString}" = connection;
    		 }
		context.statement = connection.createStatement();
	}
	catch(Exception e){
			runner.fail("Couldn't connect to application DB -- " + context.dbName + " " + e.getMessage());	
	}
}
}
index++;
}
log.info "Loading utilities......";
//create an instance of generic utilities.
try{
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
String path = projDir + "/ext/";

GroovyScriptEngine gse = new GroovyScriptEngine(path) ;
externalScript = gse.loadScriptByName("Utilities.groovy")
instance = externalScript.newInstance()
context.utility = instance ; 
}
catch(Exception e){
	log.info "Unable to initialize framework utility, error being -- " + e.getMessage();
}

log.info"Preparing test data ..............";

context.Configuration.children().each{
	if(it.name() == "TestSuite"){
		it.children().each{
	String testSuiteNameInConf = it.name();
	
	it.children().each{
		if(it.name() != "tags"){			
			String testCaseNameInConf = it.name();
			
			it.children().each{
				try{
					//log.info testSuiteNameInConf+":::"+testCaseNameInConf+":::"+it.name()+":::"+it.text()
					project.getTestSuiteByName(testSuiteNameInConf).getTestCaseByName(testCaseNameInConf).setPropertyValue(it.name(), it.text());
					}
				catch(Exception e){ }
			}
		}
	}
}
}
}</con:beforeRunScript><con:afterRunScript>import com.eviware.soapui.model.testsuite.TestSuiteRunner;
import com.eviware.soapui.model.testsuite.TestCaseRunner;
import com.eviware.soapui.model.testsuite.TestRunner.Status;

def projDir = context.expand('${projectDir}')
// Get the Execution tag.
String executiontag = project.getPropertyValue("execution_tag");

//Start Time
def projectstartTime = new Date(runner.getStartTime());

//Time Taken
def pr_timeTaken = runner.getTimeTaken();

int testcasespassed = 0;
int testcasesfailed = 0;
int testcasesexecuted = 0;
List&lt;String> testCaseNameFailed = new ArrayList&lt;String>();
//Number Of test cases passed/failed/didn't run.
def List&lt;TestSuiteRunner> testSuiteRunners = runner.getResults()

for(TestSuiteRunner suiterunner in testSuiteRunners){
	String testSuiteName = suiterunner.getTestSuite().getName();
	List&lt;TestCaseRunner> testcaserunners = suiterunner.getResults();
	for(TestCaseRunner testcaserunner in testcaserunners){
		Status status = testcaserunner.getStatus();
		 String testcasename = testcaserunner.getTestCase().getName();
		if(status == Status.FINISHED){
			testcasespassed++;
		}
		if(status == Status.FAILED){
			testcasesfailed++;
			testCaseNameFailed.add(testcasename);
		}
		log.info status;
	}
}
testcasesexecuted = testcasespassed + testcasesfailed;
def percentPassed = (testcasespassed / testcasesexecuted) * 100;
percentPassed = Math.round(percentPassed * 100) / 100
String testCaseFailedInStringFormat = "";
for(String testCaseFailed in testCaseNameFailed){
	if(testCaseFailedInStringFormat == ""){
		testCaseFailedInStringFormat = testCaseFailed;
	}
	else{
	testCaseFailedInStringFormat = testCaseFailedInStringFormat + "," + testCaseFailed}
}

// create a property file.
try{
File propFile =new File(projDir + "/Configurations/" + project.getName() + "/" + project.getName() + ".properties");
propFile.delete();
boolean isCreated = propFile.createNewFile();
log.info isCreated;
Properties props = new Properties();
props.load(propFile.newDataInputStream());
props.setProperty("testgroup",executiontag);
props.setProperty("StartTime",projectstartTime.toString());
props.setProperty("timetaken",pr_timeTaken.toString());
props.setProperty("testexecuted",testcasesexecuted.toString());
props.setProperty("testcasespassed",testcasespassed.toString());
props.setProperty("testcasesfailed",testcasesfailed.toString());
props.setProperty("persentpassed",percentPassed.toString());
props.setProperty("testCaseFailedInStringFormat",testCaseFailedInStringFormat);
props.store(propFile.newWriter(), null)
}
catch(Exception e){
	log.info "Error in storing test execution data"  + e.getMessage();
}
</con:afterRunScript><con:sensitiveInformation/></con:soapui-project>